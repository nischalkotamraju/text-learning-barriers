(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function cA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={exports:{}},zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function SD(){if(FT)return zu;FT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:l}}return zu.Fragment=e,zu.jsx=n,zu.jsxs=n,zu}var HT;function xD(){return HT||(HT=1,tg.exports=SD()),tg.exports}var A=xD(),ng={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function RD(){if(qT)return Me;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function B(P,ee,$){this.props=P,this.context=ee,this.refs=M,this.updater=$||N}B.prototype.isReactComponent={},B.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},B.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function F(P,ee,$){this.props=P,this.context=ee,this.refs=M,this.updater=$||N}var le=F.prototype=new Q;le.constructor=F,L(le,B.prototype),le.isPureReactComponent=!0;var ue=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(P,ee,$){var fe=$.ref;return{$$typeof:t,type:P,key:ee,ref:fe!==void 0?fe:null,props:$}}function k(P,ee){return C(P.type,ee,P.props)}function U(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function z(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function($){return ee[$]})}var D=/\/+/g;function nt(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):ee.toString(36)}function Ze(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ce,ce):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function W(P,ee,$,fe,Te){var Oe=typeof P;(Oe==="undefined"||Oe==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(Oe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case t:case e:be=!0;break;case y:return be=P._init,W(be(P._payload),ee,$,fe,Te)}}if(be)return Te=Te(P),be=fe===""?"."+nt(P,0):fe,ue(Te)?($="",be!=null&&($=be.replace(D,"$&/")+"/"),W(Te,ee,$,"",function(jt){return jt})):Te!=null&&(U(Te)&&(Te=k(Te,$+(Te.key==null||P&&P.key===Te.key?"":(""+Te.key).replace(D,"$&/")+"/")+be)),ee.push(Te)),1;be=0;var vt=fe===""?".":fe+":";if(ue(P))for(var Qe=0;Qe<P.length;Qe++)fe=P[Qe],Oe=vt+nt(fe,Qe),be+=W(fe,ee,$,Oe,Te);else if(Qe=R(P),typeof Qe=="function")for(P=Qe.call(P),Qe=0;!(fe=P.next()).done;)fe=fe.value,Oe=vt+nt(fe,Qe++),be+=W(fe,ee,$,Oe,Te);else if(Oe==="object"){if(typeof P.then=="function")return W(Ze(P),ee,$,fe,Te);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return be}function se(P,ee,$){if(P==null)return P;var fe=[],Te=0;return W(P,fe,"","",function(Oe){return ee.call($,Oe,Te++)}),fe}function ne(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function($){(P._status===0||P._status===-1)&&(P._status=1,P._result=$)},function($){(P._status===0||P._status===-1)&&(P._status=2,P._result=$)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var Ne=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},De={map:se,forEach:function(P,ee,$){se(P,function(){ee.apply(this,arguments)},$)},count:function(P){var ee=0;return se(P,function(){ee++}),ee},toArray:function(P){return se(P,function(ee){return ee})||[]},only:function(P){if(!U(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Me.Activity=_,Me.Children=De,Me.Component=B,Me.Fragment=n,Me.Profiler=a,Me.PureComponent=F,Me.StrictMode=r,Me.Suspense=m,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Me.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Me.cache=function(P){return function(){return P.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(P,ee,$){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=L({},P.props),Te=P.key;if(ee!=null)for(Oe in ee.key!==void 0&&(Te=""+ee.key),ee)!S.call(ee,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ee.ref===void 0||(fe[Oe]=ee[Oe]);var Oe=arguments.length-2;if(Oe===1)fe.children=$;else if(1<Oe){for(var be=Array(Oe),vt=0;vt<Oe;vt++)be[vt]=arguments[vt+2];fe.children=be}return C(P.type,Te,fe)},Me.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Me.createElement=function(P,ee,$){var fe,Te={},Oe=null;if(ee!=null)for(fe in ee.key!==void 0&&(Oe=""+ee.key),ee)S.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=ee[fe]);var be=arguments.length-2;if(be===1)Te.children=$;else if(1<be){for(var vt=Array(be),Qe=0;Qe<be;Qe++)vt[Qe]=arguments[Qe+2];Te.children=vt}if(P&&P.defaultProps)for(fe in be=P.defaultProps,be)Te[fe]===void 0&&(Te[fe]=be[fe]);return C(P,Oe,Te)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(P){return{$$typeof:f,render:P}},Me.isValidElement=U,Me.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:ne}},Me.memo=function(P,ee){return{$$typeof:p,type:P,compare:ee===void 0?null:ee}},Me.startTransition=function(P){var ee=I.T,$={};I.T=$;try{var fe=P(),Te=I.S;Te!==null&&Te($,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,Ne)}catch(Oe){Ne(Oe)}finally{ee!==null&&$.types!==null&&(ee.types=$.types),I.T=ee}},Me.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Me.use=function(P){return I.H.use(P)},Me.useActionState=function(P,ee,$){return I.H.useActionState(P,ee,$)},Me.useCallback=function(P,ee){return I.H.useCallback(P,ee)},Me.useContext=function(P){return I.H.useContext(P)},Me.useDebugValue=function(){},Me.useDeferredValue=function(P,ee){return I.H.useDeferredValue(P,ee)},Me.useEffect=function(P,ee){return I.H.useEffect(P,ee)},Me.useEffectEvent=function(P){return I.H.useEffectEvent(P)},Me.useId=function(){return I.H.useId()},Me.useImperativeHandle=function(P,ee,$){return I.H.useImperativeHandle(P,ee,$)},Me.useInsertionEffect=function(P,ee){return I.H.useInsertionEffect(P,ee)},Me.useLayoutEffect=function(P,ee){return I.H.useLayoutEffect(P,ee)},Me.useMemo=function(P,ee){return I.H.useMemo(P,ee)},Me.useOptimistic=function(P,ee){return I.H.useOptimistic(P,ee)},Me.useReducer=function(P,ee,$){return I.H.useReducer(P,ee,$)},Me.useRef=function(P){return I.H.useRef(P)},Me.useState=function(P){return I.H.useState(P)},Me.useSyncExternalStore=function(P,ee,$){return I.H.useSyncExternalStore(P,ee,$)},Me.useTransition=function(){return I.H.useTransition()},Me.version="19.2.0",Me}var GT;function zy(){return GT||(GT=1,ng.exports=RD()),ng.exports}var O=zy();const Ys=cA(O);var ig={exports:{}},Bu={},rg={exports:{}},sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function CD(){return KT||(KT=1,(function(t){function e(W,se){var ne=W.length;W.push(se);e:for(;0<ne;){var Ne=ne-1>>>1,De=W[Ne];if(0<a(De,se))W[Ne]=se,W[ne]=De,ne=Ne;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],ne=W.pop();if(ne!==se){W[0]=ne;e:for(var Ne=0,De=W.length,P=De>>>1;Ne<P;){var ee=2*(Ne+1)-1,$=W[ee],fe=ee+1,Te=W[fe];if(0>a($,ne))fe<De&&0>a(Te,$)?(W[Ne]=Te,W[fe]=ne,Ne=fe):(W[Ne]=$,W[ee]=ne,Ne=ee);else if(fe<De&&0>a(Te,ne))W[Ne]=Te,W[fe]=ne,Ne=fe;else break e}}return se}function a(W,se){var ne=W.sortIndex-se.sortIndex;return ne!==0?ne:W.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,R=!1,N=!1,L=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var se=n(p);se!==null;){if(se.callback===null)r(p);else if(se.startTime<=W)r(p),se.sortIndex=se.expirationTime,e(m,se);else break;se=n(p)}}function ue(W){if(L=!1,le(W),!N)if(n(m)!==null)N=!0,ce||(ce=!0,z());else{var se=n(p);se!==null&&Ze(ue,se.startTime-W)}}var ce=!1,I=-1,S=5,C=-1;function k(){return M?!0:!(t.unstable_now()-C<S)}function U(){if(M=!1,ce){var W=t.unstable_now();C=W;var se=!0;try{e:{N=!1,L&&(L=!1,Q(I),I=-1),R=!0;var ne=E;try{t:{for(le(W),_=n(m);_!==null&&!(_.expirationTime>W&&k());){var Ne=_.callback;if(typeof Ne=="function"){_.callback=null,E=_.priorityLevel;var De=Ne(_.expirationTime<=W);if(W=t.unstable_now(),typeof De=="function"){_.callback=De,le(W),se=!0;break t}_===n(m)&&r(m),le(W)}else r(m);_=n(m)}if(_!==null)se=!0;else{var P=n(p);P!==null&&Ze(ue,P.startTime-W),se=!1}}break e}finally{_=null,E=ne,R=!1}se=void 0}}finally{se?z():ce=!1}}}var z;if(typeof F=="function")z=function(){F(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,nt=D.port2;D.port1.onmessage=U,z=function(){nt.postMessage(null)}}else z=function(){B(U,0)};function Ze(W,se){I=B(function(){W(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var ne=E;E=se;try{return W()}finally{E=ne}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=E;E=W;try{return se()}finally{E=ne}},t.unstable_scheduleCallback=function(W,se,ne){var Ne=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ne+ne:Ne):ne=Ne,W){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=ne+De,W={id:y++,callback:se,priorityLevel:W,startTime:ne,expirationTime:De,sortIndex:-1},ne>Ne?(W.sortIndex=ne,e(p,W),n(m)===null&&W===n(p)&&(L?(Q(I),I=-1):L=!0,Ze(ue,ne-Ne))):(W.sortIndex=De,e(m,W),N||R||(N=!0,ce||(ce=!0,z()))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var se=E;return function(){var ne=E;E=se;try{return W.apply(this,arguments)}finally{E=ne}}}})(sg)),sg}var $T;function ID(){return $T||($T=1,rg.exports=CD()),rg.exports}var ag={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function DD(){if(YT)return _n;YT=1;var t=zy();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_n.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,y)},_n.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},_n.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},_n.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},_n.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:R}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_n.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},_n.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_n.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},_n.requestFormReset=function(m){r.d.r(m)},_n.unstable_batchedUpdates=function(m,p){return m(p)},_n.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var QT;function ND(){if(QT)return ag.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ag.exports=DD(),ag.exports}var XT;function OD(){if(XT)return Bu;XT=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=ID(),e=zy(),n=ND();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,w=d.child;w;){if(w===o){b=!0,o=d,u=g;break}if(w===u){b=!0,u=d,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=d;break}if(w===u){b=!0,u=g,o=d;break}w=w.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),F=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function nt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case F:return i.displayName||"Context";case Q:return(i._context.displayName||"Context")+".Consumer";case le:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:nt(i.type)||"Memo";case S:s=i._payload,i=i._init;try{return nt(i(s))}catch{}}return null}var Ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ne=[],De=-1;function P(i){return{current:i}}function ee(i){0>De||(i.current=Ne[De],Ne[De]=null,De--)}function $(i,s){De++,Ne[De]=i.current,i.current=s}var fe=P(null),Te=P(null),Oe=P(null),be=P(null);function vt(i,s){switch($(Oe,s),$(Te,i),$(fe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?hT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=hT(s),i=fT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(fe),$(fe,i)}function Qe(){ee(fe),ee(Te),ee(Oe)}function jt(i){i.memoizedState!==null&&$(be,i);var s=fe.current,o=fT(s,i.type);s!==o&&($(Te,i),$(fe,o))}function Sn(i){Te.current===i&&(ee(fe),ee(Te)),be.current===i&&(ee(be),Pu._currentValue=ne)}var yn,Dt;function xn(i){if(yn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);yn=s&&s[1]||"",Dt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yn+i+Dt}var vi=!1;function fr(i,s){if(!i||vi)return"";vi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Y=X}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(X){Y=X}i.call(ae.prototype)}}else{try{throw Error()}catch(X){Y=X}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var V=b.split(`
`),K=w.split(`
`);for(d=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;if(u===V.length||d===K.length)for(u=V.length-1,d=K.length-1;1<=u&&0<=d&&V[u]!==K[d];)d--;for(;1<=u&&0<=d;u--,d--)if(V[u]!==K[d]){if(u!==1||d!==1)do if(u--,d--,0>d||V[u]!==K[d]){var te=`
`+V[u].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=u&&0<=d);break}}}finally{vi=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?xn(o):""}function Fl(i,s){switch(i.tag){case 26:case 27:case 5:return xn(i.type);case 16:return xn("Lazy");case 13:return i.child!==s&&s!==null?xn("Suspense Fallback"):xn("Suspense");case 19:return xn("SuspenseList");case 0:case 15:return fr(i.type,!1);case 11:return fr(i.type.render,!1);case 1:return fr(i.type,!0);case 31:return xn("Activity");default:return""}}function ma(i){try{var s="",o=null;do s+=Fl(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Zr=Object.prototype.hasOwnProperty,dr=t.unstable_scheduleCallback,Jr=t.unstable_cancelCallback,co=t.unstable_shouldYield,ki=t.unstable_requestPaint,Nt=t.unstable_now,ho=t.unstable_getCurrentPriorityLevel,Ot=t.unstable_ImmediatePriority,At=t.unstable_UserBlockingPriority,_i=t.unstable_NormalPriority,Pi=t.unstable_LowPriority,pa=t.unstable_IdlePriority,fo=t.log,Li=t.unstable_setDisableYieldValue,bi=null,Xt=null;function Rn(i){if(typeof fo=="function"&&Li(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(bi,i)}catch{}}var en=Math.clz32?Math.clz32:ga,mo=Math.log,es=Math.LN2;function ga(i){return i>>>=0,i===0?32:31-(mo(i)/es|0)|0}var J=256,me=262144,Se=4194304;function Xe(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xe(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=Xe(u):(b&=w,b!==0?d=Xe(b):o||(o=w&~i,o!==0&&(d=Xe(o))))):(w=u&~g,w!==0?d=Xe(w):b!==0?d=Xe(b):o||(o=u&~i,o!==0&&(d=Xe(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function We(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function lt(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var i=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),i}function Ui(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ts(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function on(i,s,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-en(o),ae=1<<te;w[te]=0,V[te]=-1;var Y=K[te];if(Y!==null)for(K[te]=null,te=0;te<Y.length;te++){var X=Y[te];X!==null&&(X.lane&=-536870913)}o&=~ae}u!==0&&Hl(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function Hl(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-en(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function ns(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-en(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function is(i,s){var o=s&-s;return o=(o&42)!==0?1:ql(o),(o&(i.suspendedLanes|s))!==0?0:o}function ql(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mr(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:kT(i.type))}function Gc(i,s){var o=se.p;try{return se.p=i,s()}finally{se.p=o}}var ji=Math.random().toString(36).slice(2),St="__reactFiber$"+ji,ln="__reactProps$"+ji,zi="__reactContainer$"+ji,rs="__reactEvents$"+ji,Bi="__reactListeners$"+ji,Kc="__reactHandles$"+ji,Kl="__reactResources$"+ji,pr="__reactMarker$"+ji;function ya(i){delete i[St],delete i[ln],delete i[rs],delete i[Bi],delete i[Kc]}function gr(i){var s=i[St];if(s)return s;for(var o=i.parentNode;o;){if(s=o[zi]||o[St]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=_T(i);i!==null;){if(o=i[St])return o;i=_T(i)}return s}i=o,o=i.parentNode}return null}function yr(i){if(i=i[St]||i[zi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function va(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Ti(i){var s=i[Kl];return s||(s=i[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(i){i[pr]=!0}var po=new Set,ss={};function Cn(i,s){Fi(i,s),Fi(i+"Capture",s)}function Fi(i,s){for(ss[i]=s,i=0;i<s.length;i++)po.add(s[i])}var nm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Yl={};function $c(i){return Zr.call(Yl,i)?!0:Zr.call($l,i)?!1:nm.test(i)?Yl[i]=!0:($l[i]=!0,!1)}function as(i,s,o){if($c(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function os(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function ni(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function In(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yc(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function im(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function go(i){if(!i._valueTracker){var s=Yc(i)?"checked":"value";i._valueTracker=im(i,s,""+i[s])}}function Ql(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Yc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function yo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vr=/[\n"\\]/g;function xt(i){return i.replace(vr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ls(i,s,o,u,d,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+In(s)):i.value!==""+In(s)&&(i.value=""+In(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?vo(i,b,In(s)):o!=null?vo(i,b,In(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+In(w):i.removeAttribute("name")}function _a(i,s,o,u,d,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){go(i);return}o=o!=null?""+In(o):"",s=s!=null?""+In(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),go(i)}function vo(i,s,o){s==="number"&&yo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Je(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+In(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function ba(i,s,o){if(s!=null&&(s=""+In(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+In(o):""}function us(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ze(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=In(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),go(i)}function ii(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var rm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||rm.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Qc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Xl(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Xl(i,g,s[g])}function Wl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),am=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hi(i){return am.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function tn(){}var _o=null;function bo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _r=null,qn=null;function Xc(i){var s=yr(i);if(s&&(i=s.stateNode)){var o=i[ln]||null;e:switch(i=s.stateNode,s.type){case"input":if(ls(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+xt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[ln]||null;if(!d)throw Error(r(90));ls(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Ql(u)}break e;case"textarea":ba(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Je(i,!!o.multiple,s,!1)}}}var Zl=!1;function Wc(i,s,o){if(Zl)return i(s,o);Zl=!0;try{var u=i(s);return u}finally{if(Zl=!1,(_r!==null||qn!==null)&&($h(),_r&&(s=_r,i=qn,qn=_r=null,Xc(s),i)))for(s=0;s<i.length;s++)Xc(i[s])}}function Mn(i,s){var o=i.stateNode;if(o===null)return null;var u=o[ln]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=!1;if(Ei)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Jl=!1}var Gn=null,To=null,Gi=null;function cs(){if(Gi)return Gi;var i,s=To,o=s.length,u,d="value"in Gn?Gn.value:Gn.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return Gi=d.slice(i,1<u?1-u:void 0)}function Ta(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function mt(){return!1}function vn(i){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hs:mt,this.isPropagationStopped=mt,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),s}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=vn(br),fs=_({},br,{view:0,detail:0}),Zc=vn(fs),ds,Eo,Dn,wa=_({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Dn&&(Dn&&i.type==="mousemove"?(ds=i.screenX-Dn.screenX,Eo=i.screenY-Dn.screenY):Eo=ds=0,Dn=i),ds)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),Jc=vn(wa),Aa=_({},wa,{dataTransfer:0}),eh=vn(Aa),eu=_({},fs,{relatedTarget:0}),ms=vn(eu),th=_({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),wo=vn(th),om=_({},br,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nh=vn(om),Sa=_({},br,{data:0}),tu=vn(Sa),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=iu[i])?!!s[i]:!1}function ps(){return rh}var sh=_({},fs,{key:function(i){if(i.key){var s=ih[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ta(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?nu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(i){return i.type==="keypress"?Ta(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ta(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ah=vn(sh),Tr=_({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=vn(Tr),oh=_({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),lh=vn(oh),uh=_({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ao=vn(uh),Nn=_({},wa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ch=vn(Nn),hh=_({},br,{newState:0,oldState:0}),gs=vn(hh),h=[9,13,27,32],v=Ei&&"CompositionEvent"in window,T=null;Ei&&"documentMode"in document&&(T=document.documentMode);var x=Ei&&"TextEvent"in window&&!T,q=Ei&&(!v||T&&8<T&&11>=T),Z=" ",he=!1;function rt(i,s){switch(i){case"keyup":return h.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ue=!1;function nn(i,s){switch(i){case"compositionend":return zt(s);case"keypress":return s.which!==32?null:(he=!0,Z);case"textInput":return i=s.data,i===Z&&he?null:i;default:return null}}function rn(i,s){if(Ue)return i==="compositionend"||!v&&rt(i,s)?(i=cs(),Gi=To=Gn=null,Ue=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return q&&s.locale!=="ko"?null:s.data;default:return null}}var ys={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ys[i.type]:s==="textarea"}function xa(i,s,o,u){_r?qn?qn.push(u):qn=[u]:_r=u,s=ef(s,"onChange"),0<s.length&&(o=new Ea("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Er=null,su=null;function ZC(i){sT(i,0)}function fh(i){var s=va(i);if(Ql(s))return i}function A0(i,s){if(i==="change")return s}var S0=!1;if(Ei){var lm;if(Ei){var um="oninput"in document;if(!um){var x0=document.createElement("div");x0.setAttribute("oninput","return;"),um=typeof x0.oninput=="function"}lm=um}else lm=!1;S0=lm&&(!document.documentMode||9<document.documentMode)}function R0(){Er&&(Er.detachEvent("onpropertychange",C0),su=Er=null)}function C0(i){if(i.propertyName==="value"&&fh(su)){var s=[];xa(s,su,i,bo(i)),Wc(ZC,s)}}function JC(i,s,o){i==="focusin"?(R0(),Er=s,su=o,Er.attachEvent("onpropertychange",C0)):i==="focusout"&&R0()}function eI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fh(su)}function tI(i,s){if(i==="click")return fh(s)}function nI(i,s){if(i==="input"||i==="change")return fh(s)}function iI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kn=typeof Object.is=="function"?Object.is:iI;function au(i,s){if(Kn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Zr.call(s,d)||!Kn(i[d],s[d]))return!1}return!0}function I0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D0(i,s){var o=I0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=I0(o)}}function N0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?N0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function O0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=yo(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=yo(i.document)}return s}function cm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var rI=Ei&&"documentMode"in document&&11>=document.documentMode,So=null,hm=null,ou=null,fm=!1;function V0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fm||So==null||So!==yo(u)||(u=So,"selectionStart"in u&&cm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ou&&au(ou,u)||(ou=u,u=ef(hm,"onSelect"),0<u.length&&(s=new Ea("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=So)))}function Ra(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var xo={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},dm={},M0={};Ei&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ca(i){if(dm[i])return dm[i];if(!xo[i])return i;var s=xo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in M0)return dm[i]=s[o];return i}var k0=Ca("animationend"),P0=Ca("animationiteration"),L0=Ca("animationstart"),sI=Ca("transitionrun"),aI=Ca("transitionstart"),oI=Ca("transitioncancel"),U0=Ca("transitionend"),j0=new Map,mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mm.push("scrollEnd");function wi(i,s){j0.set(i,s),Cn(s,[i])}var dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ri=[],Ro=0,pm=0;function mh(){for(var i=Ro,s=pm=Ro=0;s<i;){var o=ri[s];ri[s++]=null;var u=ri[s];ri[s++]=null;var d=ri[s];ri[s++]=null;var g=ri[s];if(ri[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&z0(o,d,g)}}function ph(i,s,o,u){ri[Ro++]=i,ri[Ro++]=s,ri[Ro++]=o,ri[Ro++]=u,pm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function gm(i,s,o,u){return ph(i,s,o,u),gh(i)}function Ia(i,s){return ph(i,null,null,s),gh(i)}function z0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-en(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function gh(i){if(50<Iu)throw Iu=0,Sp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Co={};function lI(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,s,o,u){return new lI(i,s,o,u)}function ym(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wr(i,s){var o=i.alternate;return o===null?(o=$n(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function B0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function yh(i,s,o,u,d,g){var b=0;if(u=i,typeof i=="function")ym(i)&&(b=1);else if(typeof i=="string")b=dD(i,o,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=$n(31,o,s,d),i.elementType=C,i.lanes=g,i;case L:return Da(o.children,d,g,s);case M:b=8,d|=24;break;case B:return i=$n(12,o,s,d|2),i.elementType=B,i.lanes=g,i;case ue:return i=$n(13,o,s,d),i.elementType=ue,i.lanes=g,i;case ce:return i=$n(19,o,s,d),i.elementType=ce,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:b=10;break e;case Q:b=9;break e;case le:b=11;break e;case I:b=14;break e;case S:b=16,u=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=$n(b,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function Da(i,s,o,u){return i=$n(7,i,u,s),i.lanes=o,i}function vm(i,s,o){return i=$n(6,i,null,s),i.lanes=o,i}function F0(i){var s=$n(18,null,null,0);return s.stateNode=i,s}function _m(i,s,o){return s=$n(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var H0=new WeakMap;function si(i,s){if(typeof i=="object"&&i!==null){var o=H0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ma(s)},H0.set(i,s),s)}return{value:i,source:s,stack:ma(s)}}var Io=[],Do=0,vh=null,lu=0,ai=[],oi=0,vs=null,Ki=1,$i="";function Ar(i,s){Io[Do++]=lu,Io[Do++]=vh,vh=i,lu=s}function q0(i,s,o){ai[oi++]=Ki,ai[oi++]=$i,ai[oi++]=vs,vs=i;var u=Ki;i=$i;var d=32-en(u)-1;u&=~(1<<d),o+=1;var g=32-en(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Ki=1<<32-en(s)+d|o<<d|u,$i=g+i}else Ki=1<<g|o<<d|u,$i=i}function bm(i){i.return!==null&&(Ar(i,1),q0(i,1,0))}function Tm(i){for(;i===vh;)vh=Io[--Do],Io[Do]=null,lu=Io[--Do],Io[Do]=null;for(;i===vs;)vs=ai[--oi],ai[oi]=null,$i=ai[--oi],ai[oi]=null,Ki=ai[--oi],ai[oi]=null}function G0(i,s){ai[oi++]=Ki,ai[oi++]=$i,ai[oi++]=vs,Ki=s.id,$i=s.overflow,vs=i}var un=null,pt=null,$e=!1,_s=null,li=!1,Em=Error(r(519));function bs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uu(si(s,i)),Em}function K0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[St]=i,s[ln]=u,o){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(o=0;o<Nu.length;o++)Fe(Nu[o],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),_a(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),us(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||uT(s.textContent,o)?(u.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),u.onScroll!=null&&Fe("scroll",s),u.onScrollEnd!=null&&Fe("scrollend",s),u.onClick!=null&&(s.onclick=tn),s=!0):s=!1,s||bs(i,!0)}function $0(i){for(un=i.return;un;)switch(un.tag){case 5:case 31:case 13:li=!1;return;case 27:case 3:li=!0;return;default:un=un.return}}function No(i){if(i!==un)return!1;if(!$e)return $0(i),$e=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||zp(i.type,i.memoizedProps)),o=!o),o&&pt&&bs(i),$0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=vT(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));pt=vT(i)}else s===27?(s=pt,Ms(i.type)?(i=Gp,Gp=null,pt=i):pt=s):pt=un?ci(i.stateNode.nextSibling):null;return!0}function Na(){pt=un=null,$e=!1}function wm(){var i=_s;return i!==null&&(jn===null?jn=i:jn.push.apply(jn,i),_s=null),i}function uu(i){_s===null?_s=[i]:_s.push(i)}var Am=P(null),Oa=null,Sr=null;function Ts(i,s,o){$(Am,s._currentValue),s._currentValue=o}function xr(i){i._currentValue=Am.current,ee(Am)}function Sm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function xm(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=d;for(var V=0;V<s.length;V++)if(w.context===s[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Sm(g.return,o,i),u||(b=null);break e}g=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Sm(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Oo(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=d.type;Kn(d.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(d===be.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Pu):i=[Pu])}d=d.return}i!==null&&xm(s,i,o,u),s.flags|=262144}function _h(i){for(i=i.firstContext;i!==null;){if(!Kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Va(i){Oa=i,Sr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function cn(i){return Y0(Oa,i)}function bh(i,s){return Oa===null&&Va(i),Y0(i,s)}function Y0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Sr===null){if(i===null)throw Error(r(308));Sr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Sr=Sr.next=s;return o}var uI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},cI=t.unstable_scheduleCallback,hI=t.unstable_NormalPriority,Bt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new uI,data:new Map,refCount:0}}function cu(i){i.refCount--,i.refCount===0&&cI(hI,function(){i.controller.abort()})}var hu=null,Cm=0,Vo=0,Mo=null;function fI(i,s){if(hu===null){var o=hu=[];Cm=0,Vo=Np(),Mo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cm++,s.then(Q0,Q0),s}function Q0(){if(--Cm===0&&hu!==null){Mo!==null&&(Mo.status="fulfilled");var i=hu;hu=null,Vo=0,Mo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function dI(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var X0=W.S;W.S=function(i,s){Vb=Nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&fI(i,s),X0!==null&&X0(i,s)};var Ma=P(null);function Im(){var i=Ma.current;return i!==null?i:ft.pooledCache}function Th(i,s){s===null?$(Ma,Ma.current):$(Ma,s.pool)}function W0(){var i=Im();return i===null?null:{parent:Bt._currentValue,pool:i}}var ko=Error(r(460)),Dm=Error(r(474)),Eh=Error(r(542)),wh={then:function(){}};function Z0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function J0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(tn,tn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,t_(i),i;default:if(typeof s.status=="string")s.then(tn,tn);else{if(i=ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,t_(i),i}throw Pa=s,ko}}function ka(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,ko):o}}var Pa=null;function e_(){if(Pa===null)throw Error(r(459));var i=Pa;return Pa=null,i}function t_(i){if(i===ko||i===Eh)throw Error(r(483))}var Po=null,fu=0;function Ah(i){var s=fu;return fu+=1,Po===null&&(Po=[]),J0(Po,i,s)}function du(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Sh(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function n_(i){function s(H,j){if(i){var G=H.deletions;G===null?(H.deletions=[j],H.flags|=16):G.push(j)}}function o(H,j){if(!i)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function u(H){for(var j=new Map;H!==null;)H.key!==null?j.set(H.key,H):j.set(H.index,H),H=H.sibling;return j}function d(H,j){return H=wr(H,j),H.index=0,H.sibling=null,H}function g(H,j,G){return H.index=G,i?(G=H.alternate,G!==null?(G=G.index,G<j?(H.flags|=67108866,j):G):(H.flags|=67108866,j)):(H.flags|=1048576,j)}function b(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function w(H,j,G,ie){return j===null||j.tag!==6?(j=vm(G,H.mode,ie),j.return=H,j):(j=d(j,G),j.return=H,j)}function V(H,j,G,ie){var Ee=G.type;return Ee===L?te(H,j,G.props.children,ie,G.key):j!==null&&(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&ka(Ee)===j.type)?(j=d(j,G.props),du(j,G),j.return=H,j):(j=yh(G.type,G.key,G.props,null,H.mode,ie),du(j,G),j.return=H,j)}function K(H,j,G,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=_m(G,H.mode,ie),j.return=H,j):(j=d(j,G.children||[]),j.return=H,j)}function te(H,j,G,ie,Ee){return j===null||j.tag!==7?(j=Da(G,H.mode,ie,Ee),j.return=H,j):(j=d(j,G),j.return=H,j)}function ae(H,j,G){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=vm(""+j,H.mode,G),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return G=yh(j.type,j.key,j.props,null,H.mode,G),du(G,j),G.return=H,G;case N:return j=_m(j,H.mode,G),j.return=H,j;case S:return j=ka(j),ae(H,j,G)}if(Ze(j)||z(j))return j=Da(j,H.mode,G,null),j.return=H,j;if(typeof j.then=="function")return ae(H,Ah(j),G);if(j.$$typeof===F)return ae(H,bh(H,j),G);Sh(H,j)}return null}function Y(H,j,G,ie){var Ee=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:w(H,j,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===Ee?V(H,j,G,ie):null;case N:return G.key===Ee?K(H,j,G,ie):null;case S:return G=ka(G),Y(H,j,G,ie)}if(Ze(G)||z(G))return Ee!==null?null:te(H,j,G,ie,null);if(typeof G.then=="function")return Y(H,j,Ah(G),ie);if(G.$$typeof===F)return Y(H,j,bh(H,G),ie);Sh(H,G)}return null}function X(H,j,G,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get(G)||null,w(j,H,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case R:return H=H.get(ie.key===null?G:ie.key)||null,V(j,H,ie,Ee);case N:return H=H.get(ie.key===null?G:ie.key)||null,K(j,H,ie,Ee);case S:return ie=ka(ie),X(H,j,G,ie,Ee)}if(Ze(ie)||z(ie))return H=H.get(G)||null,te(j,H,ie,Ee,null);if(typeof ie.then=="function")return X(H,j,G,Ah(ie),Ee);if(ie.$$typeof===F)return X(H,j,G,bh(j,ie),Ee);Sh(j,ie)}return null}function ge(H,j,G,ie){for(var Ee=null,et=null,_e=j,Le=j=0,qe=null;_e!==null&&Le<G.length;Le++){_e.index>Le?(qe=_e,_e=null):qe=_e.sibling;var tt=Y(H,_e,G[Le],ie);if(tt===null){_e===null&&(_e=qe);break}i&&_e&&tt.alternate===null&&s(H,_e),j=g(tt,j,Le),et===null?Ee=tt:et.sibling=tt,et=tt,_e=qe}if(Le===G.length)return o(H,_e),$e&&Ar(H,Le),Ee;if(_e===null){for(;Le<G.length;Le++)_e=ae(H,G[Le],ie),_e!==null&&(j=g(_e,j,Le),et===null?Ee=_e:et.sibling=_e,et=_e);return $e&&Ar(H,Le),Ee}for(_e=u(_e);Le<G.length;Le++)qe=X(_e,H,Le,G[Le],ie),qe!==null&&(i&&qe.alternate!==null&&_e.delete(qe.key===null?Le:qe.key),j=g(qe,j,Le),et===null?Ee=qe:et.sibling=qe,et=qe);return i&&_e.forEach(function(js){return s(H,js)}),$e&&Ar(H,Le),Ee}function Ae(H,j,G,ie){if(G==null)throw Error(r(151));for(var Ee=null,et=null,_e=j,Le=j=0,qe=null,tt=G.next();_e!==null&&!tt.done;Le++,tt=G.next()){_e.index>Le?(qe=_e,_e=null):qe=_e.sibling;var js=Y(H,_e,tt.value,ie);if(js===null){_e===null&&(_e=qe);break}i&&_e&&js.alternate===null&&s(H,_e),j=g(js,j,Le),et===null?Ee=js:et.sibling=js,et=js,_e=qe}if(tt.done)return o(H,_e),$e&&Ar(H,Le),Ee;if(_e===null){for(;!tt.done;Le++,tt=G.next())tt=ae(H,tt.value,ie),tt!==null&&(j=g(tt,j,Le),et===null?Ee=tt:et.sibling=tt,et=tt);return $e&&Ar(H,Le),Ee}for(_e=u(_e);!tt.done;Le++,tt=G.next())tt=X(_e,H,Le,tt.value,ie),tt!==null&&(i&&tt.alternate!==null&&_e.delete(tt.key===null?Le:tt.key),j=g(tt,j,Le),et===null?Ee=tt:et.sibling=tt,et=tt);return i&&_e.forEach(function(AD){return s(H,AD)}),$e&&Ar(H,Le),Ee}function ht(H,j,G,ie){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:e:{for(var Ee=G.key;j!==null;){if(j.key===Ee){if(Ee=G.type,Ee===L){if(j.tag===7){o(H,j.sibling),ie=d(j,G.props.children),ie.return=H,H=ie;break e}}else if(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===S&&ka(Ee)===j.type){o(H,j.sibling),ie=d(j,G.props),du(ie,G),ie.return=H,H=ie;break e}o(H,j);break}else s(H,j);j=j.sibling}G.type===L?(ie=Da(G.props.children,H.mode,ie,G.key),ie.return=H,H=ie):(ie=yh(G.type,G.key,G.props,null,H.mode,ie),du(ie,G),ie.return=H,H=ie)}return b(H);case N:e:{for(Ee=G.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){o(H,j.sibling),ie=d(j,G.children||[]),ie.return=H,H=ie;break e}else{o(H,j);break}else s(H,j);j=j.sibling}ie=_m(G,H.mode,ie),ie.return=H,H=ie}return b(H);case S:return G=ka(G),ht(H,j,G,ie)}if(Ze(G))return ge(H,j,G,ie);if(z(G)){if(Ee=z(G),typeof Ee!="function")throw Error(r(150));return G=Ee.call(G),Ae(H,j,G,ie)}if(typeof G.then=="function")return ht(H,j,Ah(G),ie);if(G.$$typeof===F)return ht(H,j,bh(H,G),ie);Sh(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,j!==null&&j.tag===6?(o(H,j.sibling),ie=d(j,G),ie.return=H,H=ie):(o(H,j),ie=vm(G,H.mode,ie),ie.return=H,H=ie),b(H)):o(H,j)}return function(H,j,G,ie){try{fu=0;var Ee=ht(H,j,G,ie);return Po=null,Ee}catch(_e){if(_e===ko||_e===Eh)throw _e;var et=$n(29,_e,null,H.mode);return et.lanes=ie,et.return=H,et}finally{}}}var La=n_(!0),i_=n_(!1),Es=!1;function Nm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ws(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function As(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=gh(i),z0(i,null,o),s}return ph(i,u,s,o),gh(i)}function mu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ns(i,o)}}function Vm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Mm=!1;function pu(){if(Mm){var i=Mo;if(i!==null)throw i}}function gu(i,s,o,u){Mm=!1;var d=i.updateQueue;Es=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var V=w,K=V.next;V.next=null,b===null?g=K:b.next=K,b=V;var te=i.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==b&&(w===null?te.firstBaseUpdate=K:w.next=K,te.lastBaseUpdate=V))}if(g!==null){var ae=d.baseState;b=0,te=K=V=null,w=g;do{var Y=w.lane&-536870913,X=Y!==w.lane;if(X?(He&Y)===Y:(u&Y)===Y){Y!==0&&Y===Vo&&(Mm=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ge=i,Ae=w;Y=s;var ht=o;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){ae=ge.call(ht,ae,Y);break e}ae=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,Y=typeof ge=="function"?ge.call(ht,ae,Y):ge,Y==null)break e;ae=_({},ae,Y);break e;case 2:Es=!0}}Y=w.callback,Y!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(K=te=X,V=ae):te=te.next=X,b|=Y;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;X=w,w=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);te===null&&(V=ae),d.baseState=V,d.firstBaseUpdate=K,d.lastBaseUpdate=te,g===null&&(d.shared.lanes=0),Is|=b,i.lanes=b,i.memoizedState=ae}}function r_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function s_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)r_(o[i],s)}var Lo=P(null),xh=P(0);function a_(i,s){i=kr,$(xh,i),$(Lo,s),kr=i|s.baseLanes}function km(){$(xh,kr),$(Lo,Lo.current)}function Pm(){kr=xh.current,ee(Lo),ee(xh)}var Yn=P(null),ui=null;function Ss(i){var s=i.alternate;$(Mt,Mt.current&1),$(Yn,i),ui===null&&(s===null||Lo.current!==null||s.memoizedState!==null)&&(ui=i)}function Lm(i){$(Mt,Mt.current),$(Yn,i),ui===null&&(ui=i)}function o_(i){i.tag===22?($(Mt,Mt.current),$(Yn,i),ui===null&&(ui=i)):xs()}function xs(){$(Mt,Mt.current),$(Yn,Yn.current)}function Qn(i){ee(Yn),ui===i&&(ui=null),ee(Mt)}var Mt=P(0);function Rh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Hp(o)||qp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rr=0,Pe=null,ut=null,Ft=null,Ch=!1,Uo=!1,Ua=!1,Ih=0,yu=0,jo=null,mI=0;function Rt(){throw Error(r(321))}function Um(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Kn(i[o],s[o]))return!1;return!0}function jm(i,s,o,u,d,g){return Rr=g,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?q_:ep,Ua=!1,g=o(u,d),Ua=!1,Uo&&(g=u_(s,o,u,d)),l_(i),g}function l_(i){W.H=bu;var s=ut!==null&&ut.next!==null;if(Rr=0,Ft=ut=Pe=null,Ch=!1,yu=0,jo=null,s)throw Error(r(300));i===null||Ht||(i=i.dependencies,i!==null&&_h(i)&&(Ht=!0))}function u_(i,s,o,u){Pe=i;var d=0;do{if(Uo&&(jo=null),yu=0,Uo=!1,25<=d)throw Error(r(301));if(d+=1,Ft=ut=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=G_,g=s(o,u)}while(Uo);return g}function pI(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?vu(s):s,i=i.useState()[0],(ut!==null?ut.memoizedState:null)!==i&&(Pe.flags|=1024),s}function zm(){var i=Ih!==0;return Ih=0,i}function Bm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Fm(i){if(Ch){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ch=!1}Rr=0,Ft=ut=Pe=null,Uo=!1,yu=Ih=0,jo=null}function On(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Pe.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function kt(){if(ut===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var s=Ft===null?Pe.memoizedState:Ft.next;if(s!==null)Ft=s,ut=i;else{if(i===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ft===null?Pe.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(i){var s=yu;return yu+=1,jo===null&&(jo=[]),i=J0(jo,i,s),s=Pe,(Ft===null?s.memoizedState:Ft.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?q_:ep),i}function Nh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vu(i);if(i.$$typeof===F)return cn(i)}throw Error(r(438,String(i)))}function Hm(i){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Dh(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=k;return s.index++,o}function Cr(i,s){return typeof s=="function"?s(i):s}function Oh(i){var s=kt();return qm(s,ut,i)}function qm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var w=b=null,V=null,K=s,te=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(He&ae)===ae:(Rr&ae)===ae){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===Vo&&(te=!0);else if((Rr&Y)===Y){K=K.next,Y===Vo&&(te=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=ae,b=g):V=V.next=ae,Pe.lanes|=Y,Is|=Y;ae=K.action,Ua&&o(g,ae),g=K.hasEagerState?K.eagerState:o(g,ae)}else Y={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(w=V=Y,b=g):V=V.next=Y,Pe.lanes|=ae,Is|=ae;K=K.next}while(K!==null&&K!==s);if(V===null?b=g:V.next=w,!Kn(g,i.memoizedState)&&(Ht=!0,te&&(o=Mo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=V,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Gm(i){var s=kt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);Kn(g,s.memoizedState)||(Ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function c_(i,s,o){var u=Pe,d=kt(),g=$e;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Kn((ut||d).memoizedState,o);if(b&&(d.memoizedState=o,Ht=!0),d=d.queue,Ym(d_.bind(null,u,d,i),[i]),d.getSnapshot!==s||b||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,zo(9,{destroy:void 0},f_.bind(null,u,d,o,s),null),ft===null)throw Error(r(349));g||(Rr&127)!==0||h_(u,s,o)}return o}function h_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=Dh(),Pe.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function f_(i,s,o,u){s.value=o,s.getSnapshot=u,m_(s)&&p_(i)}function d_(i,s,o){return o(function(){m_(s)&&p_(i)})}function m_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Kn(i,o)}catch{return!0}}function p_(i){var s=Ia(i,2);s!==null&&zn(s,i,2)}function Km(i){var s=On();if(typeof i=="function"){var o=i;if(i=o(),Ua){Rn(!0);try{o()}finally{Rn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:i},s}function g_(i,s,o,u){return i.baseState=o,qm(i,ut,typeof u=="function"?u:Cr)}function gI(i,s,o,u,d){if(kh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,y_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function y_(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=W.T,b={};W.T=b;try{var w=o(d,u),V=W.S;V!==null&&V(b,w),v_(i,s,w)}catch(K){$m(i,s,K)}finally{g!==null&&b.types!==null&&(g.types=b.types),W.T=g}}else try{g=o(d,u),v_(i,s,g)}catch(K){$m(i,s,K)}}function v_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){__(i,s,u)},function(u){return $m(i,s,u)}):__(i,s,o)}function __(i,s,o){s.status="fulfilled",s.value=o,b_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,y_(i,o)))}function $m(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,b_(s),s=s.next;while(s!==u)}i.action=null}function b_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function T_(i,s){return s}function E_(i,s){if($e){var o=ft.formState;if(o!==null){e:{var u=Pe;if($e){if(pt){t:{for(var d=pt,g=li;d.nodeType!==8;){if(!g){d=null;break t}if(d=ci(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){pt=ci(d.nextSibling),u=d.data==="F!";break e}}bs(u)}u=!1}u&&(s=o[0])}}return o=On(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T_,lastRenderedState:s},o.queue=u,o=B_.bind(null,Pe,u),u.dispatch=o,u=Km(!1),g=Jm.bind(null,Pe,!1,u.queue),u=On(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=gI.bind(null,Pe,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function w_(i){var s=kt();return A_(s,ut,i)}function A_(i,s,o){if(s=qm(i,s,T_)[0],i=Oh(Cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=vu(s)}catch(b){throw b===ko?Eh:b}else u=s;s=kt();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,zo(9,{destroy:void 0},yI.bind(null,d,o),null)),[u,g,i]}function yI(i,s){i.action=s}function S_(i){var s=kt(),o=ut;if(o!==null)return A_(s,o,i);kt(),s=s.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function zo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Dh(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function x_(){return kt().memoizedState}function Vh(i,s,o,u){var d=On();Pe.flags|=i,d.memoizedState=zo(1|s,{destroy:void 0},o,u===void 0?null:u)}function Mh(i,s,o,u){var d=kt();u=u===void 0?null:u;var g=d.memoizedState.inst;ut!==null&&u!==null&&Um(u,ut.memoizedState.deps)?d.memoizedState=zo(s,g,o,u):(Pe.flags|=i,d.memoizedState=zo(1|s,g,o,u))}function R_(i,s){Vh(8390656,8,i,s)}function Ym(i,s){Mh(2048,8,i,s)}function vI(i){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=Dh(),Pe.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function C_(i){var s=kt().memoizedState;return vI({ref:s,nextImpl:i}),function(){if((it&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function I_(i,s){return Mh(4,2,i,s)}function D_(i,s){return Mh(4,4,i,s)}function N_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function O_(i,s,o){o=o!=null?o.concat([i]):null,Mh(4,4,N_.bind(null,s,i),o)}function Qm(){}function V_(i,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Um(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function M_(i,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Um(s,u[1]))return u[0];if(u=i(),Ua){Rn(!0);try{i()}finally{Rn(!1)}}return o.memoizedState=[u,s],u}function Xm(i,s,o){return o===void 0||(Rr&1073741824)!==0&&(He&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=kb(),Pe.lanes|=i,Is|=i,o)}function k_(i,s,o,u){return Kn(o,s)?o:Lo.current!==null?(i=Xm(i,o,u),Kn(i,s)||(Ht=!0),i):(Rr&42)===0||(Rr&1073741824)!==0&&(He&261930)===0?(Ht=!0,i.memoizedState=o):(i=kb(),Pe.lanes|=i,Is|=i,s)}function P_(i,s,o,u,d){var g=se.p;se.p=g!==0&&8>g?g:8;var b=W.T,w={};W.T=w,Jm(i,!1,s,o);try{var V=d(),K=W.S;if(K!==null&&K(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var te=dI(V,u);_u(i,s,te,Zn(i))}else _u(i,s,u,Zn(i))}catch(ae){_u(i,s,{then:function(){},status:"rejected",reason:ae},Zn())}finally{se.p=g,b!==null&&w.types!==null&&(b.types=w.types),W.T=b}}function _I(){}function Wm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=L_(i).queue;P_(i,d,s,ne,o===null?_I:function(){return U_(i),o(u)})}function L_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:ne},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function U_(i){var s=L_(i);s.next===null&&(s=i.alternate.memoizedState),_u(i,s.next.queue,{},Zn())}function Zm(){return cn(Pu)}function j_(){return kt().memoizedState}function z_(){return kt().memoizedState}function bI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Zn();i=ws(o);var u=As(s,i,o);u!==null&&(zn(u,s,o),mu(u,s,o)),s={cache:Rm()},i.payload=s;return}s=s.return}}function TI(i,s,o){var u=Zn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},kh(i)?F_(s,o):(o=gm(i,s,o,u),o!==null&&(zn(o,i,u),H_(o,s,u)))}function B_(i,s,o){var u=Zn();_u(i,s,o,u)}function _u(i,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(kh(i))F_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,w=g(b,o);if(d.hasEagerState=!0,d.eagerState=w,Kn(w,b))return ph(i,s,d,0),ft===null&&mh(),!1}catch{}finally{}if(o=gm(i,s,d,u),o!==null)return zn(o,i,u),H_(o,s,u),!0}return!1}function Jm(i,s,o,u){if(u={lane:2,revertLane:Np(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},kh(i)){if(s)throw Error(r(479))}else s=gm(i,o,u,2),s!==null&&zn(s,i,2)}function kh(i){var s=i.alternate;return i===Pe||s!==null&&s===Pe}function F_(i,s){Uo=Ch=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function H_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ns(i,o)}}var bu={readContext:cn,use:Nh,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};bu.useEffectEvent=Rt;var q_={readContext:cn,use:Nh,useCallback:function(i,s){return On().memoizedState=[i,s===void 0?null:s],i},useContext:cn,useEffect:R_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Vh(4194308,4,N_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Vh(4194308,4,i,s)},useInsertionEffect:function(i,s){Vh(4,2,i,s)},useMemo:function(i,s){var o=On();s=s===void 0?null:s;var u=i();if(Ua){Rn(!0);try{i()}finally{Rn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=On();if(o!==void 0){var d=o(s);if(Ua){Rn(!0);try{o(s)}finally{Rn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=TI.bind(null,Pe,i),[u.memoizedState,i]},useRef:function(i){var s=On();return i={current:i},s.memoizedState=i},useState:function(i){i=Km(i);var s=i.queue,o=B_.bind(null,Pe,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Qm,useDeferredValue:function(i,s){var o=On();return Xm(o,i,s)},useTransition:function(){var i=Km(!1);return i=P_.bind(null,Pe,i.queue,!0,!1),On().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Pe,d=On();if($e){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ft===null)throw Error(r(349));(He&127)!==0||h_(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,R_(d_.bind(null,u,g,i),[i]),u.flags|=2048,zo(9,{destroy:void 0},f_.bind(null,u,g,o,s),null),o},useId:function(){var i=On(),s=ft.identifierPrefix;if($e){var o=$i,u=Ki;o=(u&~(1<<32-en(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Ih++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=mI++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Zm,useFormState:E_,useActionState:E_,useOptimistic:function(i){var s=On();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Jm.bind(null,Pe,!0,o),o.dispatch=s,[i,s]},useMemoCache:Hm,useCacheRefresh:function(){return On().memoizedState=bI.bind(null,Pe)},useEffectEvent:function(i){var s=On(),o={impl:i};return s.memoizedState=o,function(){if((it&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},ep={readContext:cn,use:Nh,useCallback:V_,useContext:cn,useEffect:Ym,useImperativeHandle:O_,useInsertionEffect:I_,useLayoutEffect:D_,useMemo:M_,useReducer:Oh,useRef:x_,useState:function(){return Oh(Cr)},useDebugValue:Qm,useDeferredValue:function(i,s){var o=kt();return k_(o,ut.memoizedState,i,s)},useTransition:function(){var i=Oh(Cr)[0],s=kt().memoizedState;return[typeof i=="boolean"?i:vu(i),s]},useSyncExternalStore:c_,useId:j_,useHostTransitionStatus:Zm,useFormState:w_,useActionState:w_,useOptimistic:function(i,s){var o=kt();return g_(o,ut,i,s)},useMemoCache:Hm,useCacheRefresh:z_};ep.useEffectEvent=C_;var G_={readContext:cn,use:Nh,useCallback:V_,useContext:cn,useEffect:Ym,useImperativeHandle:O_,useInsertionEffect:I_,useLayoutEffect:D_,useMemo:M_,useReducer:Gm,useRef:x_,useState:function(){return Gm(Cr)},useDebugValue:Qm,useDeferredValue:function(i,s){var o=kt();return ut===null?Xm(o,i,s):k_(o,ut.memoizedState,i,s)},useTransition:function(){var i=Gm(Cr)[0],s=kt().memoizedState;return[typeof i=="boolean"?i:vu(i),s]},useSyncExternalStore:c_,useId:j_,useHostTransitionStatus:Zm,useFormState:S_,useActionState:S_,useOptimistic:function(i,s){var o=kt();return ut!==null?g_(o,ut,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Hm,useCacheRefresh:z_};G_.useEffectEvent=C_;function tp(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var np={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Zn(),d=ws(u);d.payload=s,o!=null&&(d.callback=o),s=As(i,d,u),s!==null&&(zn(s,i,u),mu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Zn(),d=ws(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=As(i,d,u),s!==null&&(zn(s,i,u),mu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Zn(),u=ws(o);u.tag=2,s!=null&&(u.callback=s),s=As(i,u,o),s!==null&&(zn(s,i,o),mu(s,i,o))}};function K_(i,s,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!au(o,u)||!au(d,g):!0}function $_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&np.enqueueReplaceState(s,s.state,null)}function ja(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function Y_(i){dh(i)}function Q_(i){console.error(i)}function X_(i){dh(i)}function Ph(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function W_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ip(i,s,o){return o=ws(o),o.tag=3,o.payload={element:null},o.callback=function(){Ph(i,s)},o}function Z_(i){return i=ws(i),i.tag=3,i}function J_(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){W_(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){W_(s,o,u),typeof d!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function EI(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Oo(s,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 31:case 13:return ui===null?Yh():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===wh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Cp(i,u,d)),!1;case 22:return o.flags|=65536,u===wh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Cp(i,u,d)),!1}throw Error(r(435,o.tag))}return Cp(i,u,d),Yh(),!1}if($e)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Em&&(i=Error(r(422),{cause:u}),uu(si(i,o)))):(u!==Em&&(s=Error(r(423),{cause:u}),uu(si(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=si(u,o),d=ip(i.stateNode,u,d),Vm(i,d),Ct!==4&&(Ct=2)),!1;var g=Error(r(520),{cause:u});if(g=si(g,o),Cu===null?Cu=[g]:Cu.push(g),Ct!==4&&(Ct=2),s===null)return!0;u=si(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ip(o.stateNode,u,i),Vm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ds===null||!Ds.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Z_(d),J_(d,i,o,u),Vm(o,d),!1}o=o.return}while(o!==null);return!1}var rp=Error(r(461)),Ht=!1;function hn(i,s,o,u){s.child=i===null?i_(s,null,o,u):La(s,i.child,o,u)}function eb(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return Va(s),u=jm(i,s,o,b,g,d),w=zm(),i!==null&&!Ht?(Bm(i,s,d),Ir(i,s,d)):($e&&w&&bm(s),s.flags|=1,hn(i,s,u,d),s.child)}function tb(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!ym(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,nb(i,s,g,u,d)):(i=yh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!fp(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:au,o(b,u)&&i.ref===s.ref)return Ir(i,s,d)}return s.flags|=1,i=wr(g,u),i.ref=s.ref,i.return=s,s.child=i}function nb(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(au(g,u)&&i.ref===s.ref)if(Ht=!1,s.pendingProps=u=g,fp(i,d))(i.flags&131072)!==0&&(Ht=!0);else return s.lanes=i.lanes,Ir(i,s,d)}return sp(i,s,o,u,d)}function ib(i,s,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,s.child=null;return rb(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Th(s,g!==null?g.cachePool:null),g!==null?a_(s,g):km(),o_(s);else return u=s.lanes=536870912,rb(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Th(s,g.cachePool),a_(s,g),xs(),s.memoizedState=null):(i!==null&&Th(s,null),km(),xs());return hn(i,s,d,o),s.child}function Tu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function rb(i,s,o,u,d){var g=Im();return g=g===null?null:{parent:Bt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Th(s,null),km(),o_(s),i!==null&&Oo(i,s,u,!0),s.childLanes=d,null}function Lh(i,s){return s=jh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function sb(i,s,o){return La(s,i.child,null,o),i=Lh(s,s.pendingProps),i.flags|=2,Qn(s),s.memoizedState=null,i}function wI(i,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if($e){if(u.mode==="hidden")return i=Lh(s,u),s.lanes=536870912,Tu(null,i);if(Lm(s),(i=pt)?(i=yT(i,li),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:vs!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},o=F0(i),o.return=s,s.child=o,un=s,pt=null)):i=null,i===null)throw bs(s);return s.lanes=536870912,null}return Lh(s,u)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Lm(s),d)if(s.flags&256)s.flags&=-257,s=sb(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ht||Oo(i,s,o,!1),d=(o&i.childLanes)!==0,Ht||d){if(u=ft,u!==null&&(b=is(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Ia(i,b),zn(u,i,b),rp;Yh(),s=sb(i,s,o)}else i=g.treeContext,pt=ci(b.nextSibling),un=s,$e=!0,_s=null,li=!1,i!==null&&G0(s,i),s=Lh(s,u),s.flags|=4096;return s}return i=wr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Uh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function sp(i,s,o,u,d){return Va(s),o=jm(i,s,o,u,void 0,d),u=zm(),i!==null&&!Ht?(Bm(i,s,d),Ir(i,s,d)):($e&&u&&bm(s),s.flags|=1,hn(i,s,o,d),s.child)}function ab(i,s,o,u,d,g){return Va(s),s.updateQueue=null,o=u_(s,u,o,d),l_(i),u=zm(),i!==null&&!Ht?(Bm(i,s,g),Ir(i,s,g)):($e&&u&&bm(s),s.flags|=1,hn(i,s,o,g),s.child)}function ob(i,s,o,u,d){if(Va(s),s.stateNode===null){var g=Co,b=o.contextType;typeof b=="object"&&b!==null&&(g=cn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=np,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Nm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?cn(b):Co,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(tp(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&np.enqueueReplaceState(g,g.state,null),gu(s,u,g,d),pu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,V=ja(o,w);g.props=V;var K=g.context,te=o.contextType;b=Co,typeof te=="object"&&te!==null&&(b=cn(te));var ae=o.getDerivedStateFromProps;te=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==b)&&$_(s,g,u,b),Es=!1;var Y=s.memoizedState;g.state=Y,gu(s,u,g,d),pu(),K=s.memoizedState,w||Y!==K||Es?(typeof ae=="function"&&(tp(s,o,ae,u),K=s.memoizedState),(V=Es||K_(s,o,V,u,Y,K,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=b,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Om(i,s),b=s.memoizedProps,te=ja(o,b),g.props=te,ae=s.pendingProps,Y=g.context,K=o.contextType,V=Co,typeof K=="object"&&K!==null&&(V=cn(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||Y!==V)&&$_(s,g,u,V),Es=!1,Y=s.memoizedState,g.state=Y,gu(s,u,g,d),pu();var X=s.memoizedState;b!==ae||Y!==X||Es||i!==null&&i.dependencies!==null&&_h(i.dependencies)?(typeof w=="function"&&(tp(s,o,w,u),X=s.memoizedState),(te=Es||K_(s,o,te,u,Y,X,V)||i!==null&&i.dependencies!==null&&_h(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=V,u=te):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Uh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=La(s,i.child,null,d),s.child=La(s,null,o,d)):hn(i,s,o,d),s.memoizedState=g.state,i=s.child):i=Ir(i,s,d),i}function lb(i,s,o,u){return Na(),s.flags|=256,hn(i,s,o,u),s.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function op(i){return{baseLanes:i,cachePool:W0()}}function lp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Wn),i}function ub(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Mt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if($e){if(d?Ss(s):xs(),(i=pt)?(i=yT(i,li),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:vs!==null?{id:Ki,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},o=F0(i),o.return=s,s.child=o,un=s,pt=null)):i=null,i===null)throw bs(s);return qp(i)?s.lanes=32:s.lanes=536870912,null}var w=u.children;return u=u.fallback,d?(xs(),d=s.mode,w=jh({mode:"hidden",children:w},d),u=Da(u,d,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,u=s.child,u.memoizedState=op(o),u.childLanes=lp(i,b,o),s.memoizedState=ap,Tu(null,u)):(Ss(s),up(s,w))}var V=i.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(g)s.flags&256?(Ss(s),s.flags&=-257,s=cp(i,s,o)):s.memoizedState!==null?(xs(),s.child=i.child,s.flags|=128,s=null):(xs(),w=u.fallback,d=s.mode,u=jh({mode:"visible",children:u.children},d),w=Da(w,d,o,null),w.flags|=2,u.return=s,w.return=s,u.sibling=w,s.child=u,La(s,i.child,null,o),u=s.child,u.memoizedState=op(o),u.childLanes=lp(i,b,o),s.memoizedState=ap,s=Tu(null,u));else if(Ss(s),qp(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var K=b.dgst;b=K,u=Error(r(419)),u.stack="",u.digest=b,uu({value:u,source:null,stack:null}),s=cp(i,s,o)}else if(Ht||Oo(i,s,o,!1),b=(o&i.childLanes)!==0,Ht||b){if(b=ft,b!==null&&(u=is(b,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,Ia(i,u),zn(b,i,u),rp;Hp(w)||Yh(),s=cp(i,s,o)}else Hp(w)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,pt=ci(w.nextSibling),un=s,$e=!0,_s=null,li=!1,i!==null&&G0(s,i),s=up(s,u.children),s.flags|=4096);return s}return d?(xs(),w=u.fallback,d=s.mode,V=i.child,K=V.sibling,u=wr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?w=wr(K,w):(w=Da(w,d,o,null),w.flags|=2),w.return=s,u.return=s,u.sibling=w,s.child=u,Tu(null,u),u=s.child,w=i.child.memoizedState,w===null?w=op(o):(d=w.cachePool,d!==null?(V=Bt._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=W0(),w={baseLanes:w.baseLanes|o,cachePool:d}),u.memoizedState=w,u.childLanes=lp(i,b,o),s.memoizedState=ap,Tu(i.child,u)):(Ss(s),o=i.child,i=o.sibling,o=wr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function up(i,s){return s=jh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function jh(i,s){return i=$n(22,i,null,s),i.lanes=0,i}function cp(i,s,o){return La(s,i.child,null,o),i=up(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function cb(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Sm(i.return,s,o)}function hp(i,s,o,u,d,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=d,b.treeForkCount=g)}function hb(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var b=Mt.current,w=(b&2)!==0;if(w?(b=b&1|2,s.flags|=128):b&=1,$(Mt,b),hn(i,s,u,o),u=$e?lu:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cb(i,o,s);else if(i.tag===19)cb(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&Rh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),hp(s,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&Rh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}hp(s,!0,o,null,g,u);break;case"together":hp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ir(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Is|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Oo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=wr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=wr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function fp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&_h(i)))}function AI(i,s,o){switch(s.tag){case 3:vt(s,s.stateNode.containerInfo),Ts(s,Bt,i.memoizedState.cache),Na();break;case 27:case 5:jt(s);break;case 4:vt(s,s.stateNode.containerInfo);break;case 10:Ts(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Lm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?ub(i,s,o):(Ss(s),i=Ir(i,s,o),i!==null?i.sibling:null);Ss(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Oo(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return hb(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(Mt,Mt.current),u)break;return null;case 22:return s.lanes=0,ib(i,s,o,s.pendingProps);case 24:Ts(s,Bt,i.memoizedState.cache)}return Ir(i,s,o)}function fb(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ht=!0;else{if(!fp(i,o)&&(s.flags&128)===0)return Ht=!1,AI(i,s,o);Ht=(i.flags&131072)!==0}else Ht=!1,$e&&(s.flags&1048576)!==0&&q0(s,lu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=ka(s.elementType),s.type=i,typeof i=="function")ym(i)?(u=ja(i,u),s.tag=1,s=ob(null,s,i,u,o)):(s.tag=0,s=sp(null,s,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===le){s.tag=11,s=eb(null,s,i,u,o);break e}else if(d===I){s.tag=14,s=tb(null,s,i,u,o);break e}}throw s=nt(i)||i,Error(r(306,s,""))}}return s;case 0:return sp(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=ja(u,s.pendingProps),ob(i,s,u,d,o);case 3:e:{if(vt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Om(i,s),gu(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Ts(s,Bt,u),u!==g.cache&&xm(s,[Bt],o,!0),pu(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=lb(i,s,u,o);break e}else if(u!==d){d=si(Error(r(424)),s),uu(d),s=lb(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=ci(i.firstChild),un=s,$e=!0,_s=null,li=!0,o=i_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Na(),u===d){s=Ir(i,s,o);break e}hn(i,s,u,o)}s=s.child}return s;case 26:return Uh(i,s),i===null?(o=wT(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,i=s.pendingProps,u=tf(Oe.current).createElement(o),u[St]=s,u[ln]=i,fn(u,o,i),Vt(u),s.stateNode=u):s.memoizedState=wT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return jt(s),i===null&&$e&&(u=s.stateNode=bT(s.type,s.pendingProps,Oe.current),un=s,li=!0,d=pt,Ms(s.type)?(Gp=d,pt=ci(u.firstChild)):pt=d),hn(i,s,s.pendingProps.children,o),Uh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&$e&&((d=u=pt)&&(u=eD(u,s.type,s.pendingProps,li),u!==null?(s.stateNode=u,un=s,pt=ci(u.firstChild),li=!1,d=!0):d=!1),d||bs(s)),jt(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,zp(d,g)?u=null:b!==null&&zp(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=jm(i,s,pI,null,null,o),Pu._currentValue=d),Uh(i,s),hn(i,s,u,o),s.child;case 6:return i===null&&$e&&((i=o=pt)&&(o=tD(o,s.pendingProps,li),o!==null?(s.stateNode=o,un=s,pt=null,i=!0):i=!1),i||bs(s)),null;case 13:return ub(i,s,o);case 4:return vt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=La(s,null,u,o):hn(i,s,u,o),s.child;case 11:return eb(i,s,s.type,s.pendingProps,o);case 7:return hn(i,s,s.pendingProps,o),s.child;case 8:return hn(i,s,s.pendingProps.children,o),s.child;case 12:return hn(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ts(s,s.type,u.value),hn(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Va(s),d=cn(d),u=u(d),s.flags|=1,hn(i,s,u,o),s.child;case 14:return tb(i,s,s.type,s.pendingProps,o);case 15:return nb(i,s,s.type,s.pendingProps,o);case 19:return hb(i,s,o);case 31:return wI(i,s,o);case 22:return ib(i,s,o,s.pendingProps);case 24:return Va(s),u=cn(Bt),i===null?(d=Im(),d===null&&(d=ft,g=Rm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Nm(s),Ts(s,Bt,d)):((i.lanes&o)!==0&&(Om(i,s),gu(s,null,null,o),pu()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ts(s,Bt,u)):(u=g.cache,Ts(s,Bt,u),u!==d.cache&&xm(s,[Bt],o,!0))),hn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Dr(i){i.flags|=4}function dp(i,s,o,u,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if(jb())i.flags|=8192;else throw Pa=wh,Dm}else i.flags&=-16777217}function db(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!CT(s))if(jb())i.flags|=8192;else throw Pa=wh,Dm}function zh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ti():536870912,i.lanes|=s,qo|=s)}function Eu(i,s){if(!$e)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function gt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function SI(i,s,o){var u=s.pendingProps;switch(Tm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),xr(Bt),Qe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(No(s)?Dr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wm())),gt(s),null;case 26:var d=s.type,g=s.memoizedState;return i===null?(Dr(s),g!==null?(gt(s),db(s,g)):(gt(s),dp(s,d,null,u,o))):g?g!==i.memoizedState?(Dr(s),gt(s),db(s,g)):(gt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&Dr(s),gt(s),dp(s,d,i,u,o)),null;case 27:if(Sn(s),o=Oe.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Dr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}i=fe.current,No(s)?K0(s):(i=bT(d,u,o),s.stateNode=i,Dr(s))}return gt(s),null;case 5:if(Sn(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Dr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(g=fe.current,No(s))K0(s);else{var b=tf(Oe.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(d,{is:u.is}):b.createElement(d)}}g[St]=s,g[ln]=u;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=g;e:switch(fn(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Dr(s)}}return gt(s),dp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Dr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Oe.current,No(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=un,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[St]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||uT(i.nodeValue,o)),i||bs(s,!0)}else i=tf(i).createTextNode(u),i[St]=s,s.stateNode=i}return gt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=No(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[St]=s}else Na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),i=!1}else o=wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Qn(s),s):(Qn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return gt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=No(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[St]=s}else Na(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),d=!1}else d=wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Qn(s),s):(Qn(s),null)}return Qn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),zh(s,s.updateQueue),gt(s),null);case 4:return Qe(),i===null&&kp(s.stateNode.containerInfo),gt(s),null;case 10:return xr(s.type),gt(s),null;case 19:if(ee(Mt),u=s.memoizedState,u===null)return gt(s),null;if(d=(s.flags&128)!==0,g=u.rendering,g===null)if(d)Eu(u,!1);else{if(Ct!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Rh(i),g!==null){for(s.flags|=128,Eu(u,!1),i=g.updateQueue,s.updateQueue=i,zh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)B0(o,i),o=o.sibling;return $(Mt,Mt.current&1|2),$e&&Ar(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Nt()>Gh&&(s.flags|=128,d=!0,Eu(u,!1),s.lanes=4194304)}else{if(!d)if(i=Rh(g),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,zh(s,i),Eu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!$e)return gt(s),null}else 2*Nt()-u.renderingStartTime>Gh&&o!==536870912&&(s.flags|=128,d=!0,Eu(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Nt(),i.sibling=null,o=Mt.current,$(Mt,d?o&1|2:o&1),$e&&Ar(s,u.treeForkCount),i):(gt(s),null);case 22:case 23:return Qn(s),Pm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&zh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ee(Ma),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),xr(Bt),gt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function xI(i,s){switch(Tm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return xr(Bt),Qe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Sn(s),null;case 31:if(s.memoizedState!==null){if(Qn(s),s.alternate===null)throw Error(r(340));Na()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Qn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Na()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ee(Mt),null;case 4:return Qe(),null;case 10:return xr(s.type),null;case 22:case 23:return Qn(s),Pm(),i!==null&&ee(Ma),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return xr(Bt),null;case 25:return null;default:return null}}function mb(i,s){switch(Tm(s),s.tag){case 3:xr(Bt),Qe();break;case 26:case 27:case 5:Sn(s);break;case 4:Qe();break;case 31:s.memoizedState!==null&&Qn(s);break;case 13:Qn(s);break;case 19:ee(Mt);break;case 10:xr(s.type);break;case 22:case 23:Qn(s),Pm(),i!==null&&ee(Ma);break;case 24:xr(Bt)}}function wu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(w){ot(s,s.return,w)}}function Rs(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=s;var V=o,K=w;try{K()}catch(te){ot(d,V,te)}}}u=u.next}while(u!==g)}}catch(te){ot(s,s.return,te)}}function pb(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{s_(s,o)}catch(u){ot(i,i.return,u)}}}function gb(i,s,o){o.props=ja(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ot(i,s,u)}}function Au(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){ot(i,s,d)}}function Yi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ot(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ot(i,s,d)}else o.current=null}function yb(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ot(i,i.return,d)}}function mp(i,s,o){try{var u=i.stateNode;YI(u,i.type,o,s),u[ln]=s}catch(d){ot(i,i.return,d)}}function vb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ms(i.type)||i.tag===4}function pp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||vb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gp(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=tn));else if(u!==4&&(u===27&&Ms(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(gp(i,s,o),i=i.sibling;i!==null;)gp(i,s,o),i=i.sibling}function Bh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Ms(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Bh(i,s,o),i=i.sibling;i!==null;)Bh(i,s,o),i=i.sibling}function _b(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);fn(s,u,o),s[St]=i,s[ln]=o}catch(g){ot(i,i.return,g)}}var Nr=!1,qt=!1,yp=!1,bb=typeof WeakSet=="function"?WeakSet:Set,sn=null;function RI(i,s){if(i=i.containerInfo,Up=uf,i=O0(i),cm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,w=-1,V=-1,K=0,te=0,ae=i,Y=null;t:for(;;){for(var X;ae!==o||d!==0&&ae.nodeType!==3||(w=b+d),ae!==g||u!==0&&ae.nodeType!==3||(V=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Y=ae,ae=X;for(;;){if(ae===i)break t;if(Y===o&&++K===d&&(w=b),Y===g&&++te===u&&(V=b),(X=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=X}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(jp={focusedElem:i,selectionRange:o},uf=!1,sn=s;sn!==null;)if(s=sn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,sn=i;else for(;sn!==null;){switch(s=sn,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var ge=ja(o.type,d);i=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){ot(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Fp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,sn=i;break}sn=s.return}}function Tb(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vr(i,o),u&4&&wu(5,o);break;case 1:if(Vr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){ot(o,o.return,b)}else{var d=ja(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(o,o.return,b)}}u&64&&pb(o),u&512&&Au(o,o.return);break;case 3:if(Vr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{s_(i,s)}catch(b){ot(o,o.return,b)}}break;case 27:s===null&&u&4&&_b(o);case 26:case 5:Vr(i,o),s===null&&u&4&&yb(o),u&512&&Au(o,o.return);break;case 12:Vr(i,o);break;case 31:Vr(i,o),u&4&&Ab(i,o);break;case 13:Vr(i,o),u&4&&Sb(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=PI.bind(null,o),nD(i,o))));break;case 22:if(u=o.memoizedState!==null||Nr,!u){s=s!==null&&s.memoizedState!==null||qt,d=Nr;var g=qt;Nr=u,(qt=s)&&!g?Mr(i,o,(o.subtreeFlags&8772)!==0):Vr(i,o),Nr=d,qt=g}break;case 30:break;default:Vr(i,o)}}function Eb(i){var s=i.alternate;s!==null&&(i.alternate=null,Eb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ya(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _t=null,Pn=!1;function Or(i,s,o){for(o=o.child;o!==null;)wb(i,s,o),o=o.sibling}function wb(i,s,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(bi,o)}catch{}switch(o.tag){case 26:qt||Yi(o,s),Or(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:qt||Yi(o,s);var u=_t,d=Pn;Ms(o.type)&&(_t=o.stateNode,Pn=!1),Or(i,s,o),Vu(o.stateNode),_t=u,Pn=d;break;case 5:qt||Yi(o,s);case 6:if(u=_t,d=Pn,_t=null,Or(i,s,o),_t=u,Pn=d,_t!==null)if(Pn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(g){ot(o,s,g)}else try{_t.removeChild(o.stateNode)}catch(g){ot(o,s,g)}break;case 18:_t!==null&&(Pn?(i=_t,pT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Zo(i)):pT(_t,o.stateNode));break;case 4:u=_t,d=Pn,_t=o.stateNode.containerInfo,Pn=!0,Or(i,s,o),_t=u,Pn=d;break;case 0:case 11:case 14:case 15:Rs(2,o,s),qt||Rs(4,o,s),Or(i,s,o);break;case 1:qt||(Yi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&gb(o,s,u)),Or(i,s,o);break;case 21:Or(i,s,o);break;case 22:qt=(u=qt)||o.memoizedState!==null,Or(i,s,o),qt=u;break;default:Or(i,s,o)}}function Ab(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Zo(i)}catch(o){ot(s,s.return,o)}}}function Sb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Zo(i)}catch(o){ot(s,s.return,o)}}function CI(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new bb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new bb),s;default:throw Error(r(435,i.tag))}}function Fh(i,s){var o=CI(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=LI.bind(null,i,u);u.then(d,d)}})}function Ln(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Ms(w.type)){_t=w.stateNode,Pn=!1;break e}break;case 5:_t=w.stateNode,Pn=!1;break e;case 3:case 4:_t=w.stateNode.containerInfo,Pn=!0;break e}w=w.return}if(_t===null)throw Error(r(160));wb(g,b,d),_t=null,Pn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)xb(s,i),s=s.sibling}var Ai=null;function xb(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ln(s,i),Un(i),u&4&&(Rs(3,i,i.return),wu(3,i),Rs(5,i,i.return));break;case 1:Ln(s,i),Un(i),u&512&&(qt||o===null||Yi(o,o.return)),u&64&&Nr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Ai;if(Ln(s,i),Un(i),u&512&&(qt||o===null||Yi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[pr]||g[St]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),fn(g,u,o),g[St]=i,Vt(g),u=g;break e;case"link":var b=xT("link","href",d).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break t}}g=d.createElement(u),fn(g,u,o),d.head.appendChild(g);break;case"meta":if(b=xT("meta","content",d).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break t}}g=d.createElement(u),fn(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[St]=i,Vt(g),u=g}i.stateNode=u}else RT(d,i.type,i.stateNode);else i.stateNode=ST(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?RT(d,i.type,i.stateNode):ST(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&mp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ln(s,i),Un(i),u&512&&(qt||o===null||Yi(o,o.return)),o!==null&&u&4&&mp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ln(s,i),Un(i),u&512&&(qt||o===null||Yi(o,o.return)),i.flags&32){d=i.stateNode;try{ii(d,"")}catch(ge){ot(i,i.return,ge)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,mp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(yp=!0);break;case 6:if(Ln(s,i),Un(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ge){ot(i,i.return,ge)}}break;case 3:if(sf=null,d=Ai,Ai=nf(s.containerInfo),Ln(s,i),Ai=d,Un(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Zo(s.containerInfo)}catch(ge){ot(i,i.return,ge)}yp&&(yp=!1,Rb(i));break;case 4:u=Ai,Ai=nf(i.stateNode.containerInfo),Ln(s,i),Un(i),Ai=u;break;case 12:Ln(s,i),Un(i);break;case 31:Ln(s,i),Un(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 13:Ln(s,i),Un(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qh=Nt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 22:d=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=Nr,te=qt;if(Nr=K||d,qt=te||V,Ln(s,i),qt=te,Nr=K,Un(i),u&8192)e:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||Nr||qt||za(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=V.stateNode;var ae=V.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ge){ot(V,V.return,ge)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(ge){ot(V,V.return,ge)}}}else if(s.tag===18){if(o===null){V=s;try{var X=V.stateNode;d?gT(X,!0):gT(V.stateNode,!1)}catch(ge){ot(V,V.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Fh(i,o))));break;case 19:Ln(s,i),Un(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Fh(i,u)));break;case 30:break;case 21:break;default:Ln(s,i),Un(i)}}function Un(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(vb(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=pp(i);Bh(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(ii(b,""),o.flags&=-33);var w=pp(i);Bh(i,w,b);break;case 3:case 4:var V=o.stateNode.containerInfo,K=pp(i);gp(i,K,V);break;default:throw Error(r(161))}}catch(te){ot(i,i.return,te)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Rb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Rb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Vr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Tb(i,s.alternate,s),s=s.sibling}function za(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Rs(4,s,s.return),za(s);break;case 1:Yi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&gb(s,s.return,o),za(s);break;case 27:Vu(s.stateNode);case 26:case 5:Yi(s,s.return),za(s);break;case 22:s.memoizedState===null&&za(s);break;case 30:za(s);break;default:za(s)}i=i.sibling}}function Mr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Mr(d,g,o),wu(4,g);break;case 1:if(Mr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(K){ot(u,u.return,K)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)r_(V[d],w)}catch(K){ot(u,u.return,K)}}o&&b&64&&pb(g),Au(g,g.return);break;case 27:_b(g);case 26:case 5:Mr(d,g,o),o&&u===null&&b&4&&yb(g),Au(g,g.return);break;case 12:Mr(d,g,o);break;case 31:Mr(d,g,o),o&&b&4&&Ab(d,g);break;case 13:Mr(d,g,o),o&&b&4&&Sb(d,g);break;case 22:g.memoizedState===null&&Mr(d,g,o),Au(g,g.return);break;case 30:break;default:Mr(d,g,o)}s=s.sibling}}function vp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&cu(o))}function _p(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&cu(i))}function Si(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cb(i,s,o,u),s=s.sibling}function Cb(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Si(i,s,o,u),d&2048&&wu(9,s);break;case 1:Si(i,s,o,u);break;case 3:Si(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&cu(i)));break;case 12:if(d&2048){Si(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){ot(s,s.return,V)}}else Si(i,s,o,u);break;case 31:Si(i,s,o,u);break;case 13:Si(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Si(i,s,o,u):Su(i,s):g._visibility&2?Si(i,s,o,u):(g._visibility|=2,Bo(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&vp(b,s);break;case 24:Si(i,s,o,u),d&2048&&_p(s.alternate,s);break;default:Si(i,s,o,u)}}function Bo(i,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,b=s,w=o,V=u,K=b.flags;switch(b.tag){case 0:case 11:case 15:Bo(g,b,w,V,d),wu(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?Bo(g,b,w,V,d):Su(g,b):(te._visibility|=2,Bo(g,b,w,V,d)),d&&K&2048&&vp(b.alternate,b);break;case 24:Bo(g,b,w,V,d),d&&K&2048&&_p(b.alternate,b);break;default:Bo(g,b,w,V,d)}s=s.sibling}}function Su(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:Su(o,u),d&2048&&vp(u.alternate,u);break;case 24:Su(o,u),d&2048&&_p(u.alternate,u);break;default:Su(o,u)}s=s.sibling}}var xu=8192;function Fo(i,s,o){if(i.subtreeFlags&xu)for(i=i.child;i!==null;)Ib(i,s,o),i=i.sibling}function Ib(i,s,o){switch(i.tag){case 26:Fo(i,s,o),i.flags&xu&&i.memoizedState!==null&&mD(o,Ai,i.memoizedState,i.memoizedProps);break;case 5:Fo(i,s,o);break;case 3:case 4:var u=Ai;Ai=nf(i.stateNode.containerInfo),Fo(i,s,o),Ai=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=xu,xu=16777216,Fo(i,s,o),xu=u):Fo(i,s,o));break;default:Fo(i,s,o)}}function Db(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ru(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,Ob(u,i)}Db(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nb(i),i=i.sibling}function Nb(i){switch(i.tag){case 0:case 11:case 15:Ru(i),i.flags&2048&&Rs(9,i,i.return);break;case 3:Ru(i);break;case 12:Ru(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Hh(i)):Ru(i);break;default:Ru(i)}}function Hh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];sn=u,Ob(u,i)}Db(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Rs(8,s,s.return),Hh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Hh(s));break;default:Hh(s)}i=i.sibling}}function Ob(i,s){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:Rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:cu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,sn=u;else e:for(o=i;sn!==null;){u=sn;var d=u.sibling,g=u.return;if(Eb(u),u===o){sn=null;break e}if(d!==null){d.return=g,sn=d;break e}sn=g}}}var II={getCacheForType:function(i){var s=cn(Bt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return cn(Bt).controller.signal}},DI=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,Be=null,He=0,at=0,Xn=null,Cs=!1,Ho=!1,bp=!1,kr=0,Ct=0,Is=0,Ba=0,Tp=0,Wn=0,qo=0,Cu=null,jn=null,Ep=!1,qh=0,Vb=0,Gh=1/0,Kh=null,Ds=null,Wt=0,Ns=null,Go=null,Pr=0,wp=0,Ap=null,Mb=null,Iu=0,Sp=null;function Zn(){return(it&2)!==0&&He!==0?He&-He:W.T!==null?Np():mr()}function kb(){if(Wn===0)if((He&536870912)===0||$e){var i=me;me<<=1,(me&3932160)===0&&(me=262144),Wn=i}else Wn=536870912;return i=Yn.current,i!==null&&(i.flags|=32),Wn}function zn(i,s,o){(i===ft&&(at===2||at===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),Os(i,He,Wn,!1)),ts(i,o),((it&2)===0||i!==ft)&&(i===ft&&((it&2)===0&&(Ba|=o),Ct===4&&Os(i,He,Wn,!1)),Qi(i))}function Pb(i,s,o){if((it&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||We(i,s),d=u?VI(i,s):Rp(i,s,!0),g=u;do{if(d===0){Ho&&!u&&Os(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!NI(o)){d=Rp(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=i;d=Cu;var V=w.current.memoizedState.isDehydrated;if(V&&(Ko(w,b).flags|=256),b=Rp(w,b,!1),b!==2){if(bp&&!V){w.errorRecoveryDisabledLanes|=g,Ba|=g,d=4;break e}g=jn,jn=d,g!==null&&(jn===null?jn=g:jn.push.apply(jn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Ko(i,0),Os(i,s,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Os(u,s,Wn,!Cs);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=qh+300-Nt(),10<d)){if(Os(u,s,Wn,!Cs),xe(u,0,!0)!==0)break e;Pr=s,u.timeoutHandle=dT(Lb.bind(null,u,o,jn,Kh,Ep,s,Wn,Ba,qo,Cs,g,"Throttled",-0,0),d);break e}Lb(u,o,jn,Kh,Ep,s,Wn,Ba,qo,Cs,g,null,-0,0)}}break}while(!0);Qi(i)}function Lb(i,s,o,u,d,g,b,w,V,K,te,ae,Y,X){if(i.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:tn},Ib(s,g,ae);var ge=(g&62914560)===g?qh-Nt():(g&4194048)===g?Vb-Nt():0;if(ge=pD(ae,ge),ge!==null){Pr=g,i.cancelPendingCommit=ge(Gb.bind(null,i,s,g,o,u,d,b,w,V,te,ae,null,Y,X)),Os(i,g,b,!K);return}}Gb(i,s,g,o,u,d,b,w,V)}function NI(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Kn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Os(i,s,o,u){s&=~Tp,s&=~Ba,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-en(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&Hl(i,o,s)}function $h(){return(it&6)===0?(Du(0),!1):!0}function xp(){if(Be!==null){if(at===0)var i=Be.return;else i=Be,Sr=Oa=null,Fm(i),Po=null,fu=0,i=Be;for(;i!==null;)mb(i.alternate,i),i=i.return;Be=null}}function Ko(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,WI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Pr=0,xp(),ft=i,Be=o=wr(i.current,null),He=s,at=0,Xn=null,Cs=!1,Ho=We(i,s),bp=!1,qo=Wn=Tp=Ba=Is=Ct=0,jn=Cu=null,Ep=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-en(u),g=1<<d;s|=i[d],u&=~g}return kr=s,mh(),o}function Ub(i,s){Pe=null,W.H=bu,s===ko||s===Eh?(s=e_(),at=3):s===Dm?(s=e_(),at=4):at=s===rp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,Be===null&&(Ct=1,Ph(i,si(s,i.current)))}function jb(){var i=Yn.current;return i===null?!0:(He&4194048)===He?ui===null:(He&62914560)===He||(He&536870912)!==0?i===ui:!1}function zb(){var i=W.H;return W.H=bu,i===null?bu:i}function Bb(){var i=W.A;return W.A=II,i}function Yh(){Ct=4,Cs||(He&4194048)!==He&&Yn.current!==null||(Ho=!0),(Is&134217727)===0&&(Ba&134217727)===0||ft===null||Os(ft,He,Wn,!1)}function Rp(i,s,o){var u=it;it|=2;var d=zb(),g=Bb();(ft!==i||He!==s)&&(Kh=null,Ko(i,s)),s=!1;var b=Ct;e:do try{if(at!==0&&Be!==null){var w=Be,V=Xn;switch(at){case 8:xp(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var K=at;if(at=0,Xn=null,$o(i,w,V,K),o&&Ho){b=0;break e}break;default:K=at,at=0,Xn=null,$o(i,w,V,K)}}OI(),b=Ct;break}catch(te){Ub(i,te)}while(!0);return s&&i.shellSuspendCounter++,Sr=Oa=null,it=u,W.H=d,W.A=g,Be===null&&(ft=null,He=0,mh()),b}function OI(){for(;Be!==null;)Fb(Be)}function VI(i,s){var o=it;it|=2;var u=zb(),d=Bb();ft!==i||He!==s?(Kh=null,Gh=Nt()+500,Ko(i,s)):Ho=We(i,s);e:do try{if(at!==0&&Be!==null){s=Be;var g=Xn;t:switch(at){case 1:at=0,Xn=null,$o(i,s,g,1);break;case 2:case 9:if(Z0(g)){at=0,Xn=null,Hb(s);break}s=function(){at!==2&&at!==9||ft!==i||(at=7),Qi(i)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Z0(g)?(at=0,Xn=null,Hb(s)):(at=0,Xn=null,$o(i,s,g,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var w=Be;if(b?CT(b):w.stateNode.complete){at=0,Xn=null;var V=w.sibling;if(V!==null)Be=V;else{var K=w.return;K!==null?(Be=K,Qh(K)):Be=null}break t}}at=0,Xn=null,$o(i,s,g,5);break;case 6:at=0,Xn=null,$o(i,s,g,6);break;case 8:xp(),Ct=6;break e;default:throw Error(r(462))}}MI();break}catch(te){Ub(i,te)}while(!0);return Sr=Oa=null,W.H=u,W.A=d,it=o,Be!==null?0:(ft=null,He=0,mh(),Ct)}function MI(){for(;Be!==null&&!co();)Fb(Be)}function Fb(i){var s=fb(i.alternate,i,kr);i.memoizedProps=i.pendingProps,s===null?Qh(i):Be=s}function Hb(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=ab(o,s,s.pendingProps,s.type,void 0,He);break;case 11:s=ab(o,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Fm(s);default:mb(o,s),s=Be=B0(s,kr),s=fb(o,s,kr)}i.memoizedProps=i.pendingProps,s===null?Qh(i):Be=s}function $o(i,s,o,u){Sr=Oa=null,Fm(s),Po=null,fu=0;var d=s.return;try{if(EI(i,d,s,o,He)){Ct=1,Ph(i,si(o,i.current)),Be=null;return}}catch(g){if(d!==null)throw Be=d,g;Ct=1,Ph(i,si(o,i.current)),Be=null;return}s.flags&32768?($e||u===1?i=!0:Ho||(He&536870912)!==0?i=!1:(Cs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),qb(s,i)):Qh(s)}function Qh(i){var s=i;do{if((s.flags&32768)!==0){qb(s,Cs);return}i=s.return;var o=SI(s.alternate,s,kr);if(o!==null){Be=o;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=i}while(s!==null);Ct===0&&(Ct=5)}function qb(i,s){do{var o=xI(i.alternate,i);if(o!==null){o.flags&=32767,Be=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Be=i;return}Be=i=o}while(i!==null);Ct=6,Be=null}function Gb(i,s,o,u,d,g,b,w,V){i.cancelPendingCommit=null;do Xh();while(Wt!==0);if((it&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=pm,on(i,o,g,b,w,V),i===ft&&(Be=ft=null,He=0),Go=s,Ns=i,Pr=o,wp=g,Ap=d,Mb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,UI(_i,function(){return Xb(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=se.p,se.p=2,b=it,it|=4;try{RI(i,s,o)}finally{it=b,se.p=d,W.T=u}}Wt=1,Kb(),$b(),Yb()}}function Kb(){if(Wt===1){Wt=0;var i=Ns,s=Go,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=se.p;se.p=2;var d=it;it|=4;try{xb(s,i);var g=jp,b=O0(i.containerInfo),w=g.focusedElem,V=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&N0(w.ownerDocument.documentElement,w)){if(V!==null&&cm(w)){var K=V.start,te=V.end;if(te===void 0&&(te=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(te,w.value.length);else{var ae=w.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),ge=w.textContent.length,Ae=Math.min(V.start,ge),ht=V.end===void 0?Ae:Math.min(V.end,ge);!X.extend&&Ae>ht&&(b=ht,ht=Ae,Ae=b);var H=D0(w,Ae),j=D0(w,ht);if(H&&j&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var G=ae.createRange();G.setStart(H.node,H.offset),X.removeAllRanges(),Ae>ht?(X.addRange(G),X.extend(j.node,j.offset)):(G.setEnd(j.node,j.offset),X.addRange(G))}}}}for(ae=[],X=w;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var ie=ae[w];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}uf=!!Up,jp=Up=null}finally{it=d,se.p=u,W.T=o}}i.current=s,Wt=2}}function $b(){if(Wt===2){Wt=0;var i=Ns,s=Go,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=se.p;se.p=2;var d=it;it|=4;try{Tb(i,s.alternate,s)}finally{it=d,se.p=u,W.T=o}}Wt=3}}function Yb(){if(Wt===4||Wt===3){Wt=0,ki();var i=Ns,s=Go,o=Pr,u=Mb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,Go=Ns=null,Qb(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Ds=null),Gl(o),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(bi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=se.p,se.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{W.T=s,se.p=d}}(Pr&3)!==0&&Xh(),Qi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===Sp?Iu++:(Iu=0,Sp=i):Iu=0,Du(0)}}function Qb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,cu(s)))}function Xh(){return Kb(),$b(),Yb(),Xb()}function Xb(){if(Wt!==5)return!1;var i=Ns,s=wp;wp=0;var o=Gl(Pr),u=W.T,d=se.p;try{se.p=32>o?32:o,W.T=null,o=Ap,Ap=null;var g=Ns,b=Pr;if(Wt=0,Go=Ns=null,Pr=0,(it&6)!==0)throw Error(r(331));var w=it;if(it|=4,Nb(g.current),Cb(g,g.current,b,o),it=w,Du(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(bi,g)}catch{}return!0}finally{se.p=d,W.T=u,Qb(i,s)}}function Wb(i,s,o){s=si(o,s),s=ip(i.stateNode,s,2),i=As(i,s,2),i!==null&&(ts(i,2),Qi(i))}function ot(i,s,o){if(i.tag===3)Wb(i,i,o);else for(;s!==null;){if(s.tag===3){Wb(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ds===null||!Ds.has(u))){i=si(o,i),o=Z_(2),u=As(s,o,2),u!==null&&(J_(o,u,s,i),ts(u,2),Qi(u));break}}s=s.return}}function Cp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new DI;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(bp=!0,d.add(o),i=kI.bind(null,i,s,o),s.then(i,i))}function kI(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ft===i&&(He&o)===o&&(Ct===4||Ct===3&&(He&62914560)===He&&300>Nt()-qh?(it&2)===0&&Ko(i,0):Tp|=o,qo===He&&(qo=0)),Qi(i)}function Zb(i,s){s===0&&(s=ti()),i=Ia(i,s),i!==null&&(ts(i,s),Qi(i))}function PI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Zb(i,o)}function LI(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Zb(i,o)}function UI(i,s){return dr(i,s)}var Wh=null,Yo=null,Ip=!1,Zh=!1,Dp=!1,Vs=0;function Qi(i){i!==Yo&&i.next===null&&(Yo===null?Wh=Yo=i:Yo=Yo.next=i),Zh=!0,Ip||(Ip=!0,zI())}function Du(i,s){if(!Dp&&Zh){Dp=!0;do for(var o=!1,u=Wh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-en(42|i)+1)-1,g&=d&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,nT(u,g))}else g=He,g=xe(u,u===ft?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||We(u,g)||(o=!0,nT(u,g));u=u.next}while(o);Dp=!1}}function jI(){Jb()}function Jb(){Zh=Ip=!1;var i=0;Vs!==0&&XI()&&(i=Vs);for(var s=Nt(),o=null,u=Wh;u!==null;){var d=u.next,g=eT(u,s);g===0?(u.next=null,o===null?Wh=d:o.next=d,d===null&&(Yo=o)):(o=u,(i!==0||(g&3)!==0)&&(Zh=!0)),u=d}Wt!==0&&Wt!==5||Du(i),Vs!==0&&(Vs=0)}function eT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-en(g),w=1<<b,V=d[b];V===-1?((w&o)===0||(w&u)!==0)&&(d[b]=lt(w,s)):V<=s&&(i.expiredLanes|=w),g&=~w}if(s=ft,o=He,o=xe(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(at===2||at===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Jr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||We(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Jr(u),Gl(o)){case 2:case 8:o=At;break;case 32:o=_i;break;case 268435456:o=pa;break;default:o=_i}return u=tT.bind(null,i),o=dr(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Jr(u),i.callbackPriority=2,i.callbackNode=null,2}function tT(i,s){if(Wt!==0&&Wt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Xh()&&i.callbackNode!==o)return null;var u=He;return u=xe(i,i===ft?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Pb(i,u,s),eT(i,Nt()),i.callbackNode!=null&&i.callbackNode===o?tT.bind(null,i):null)}function nT(i,s){if(Xh())return null;Pb(i,s,!0)}function zI(){ZI(function(){(it&6)!==0?dr(Ot,jI):Jb()})}function Np(){if(Vs===0){var i=Vo;i===0&&(i=J,J<<=1,(J&261888)===0&&(J=256)),Vs=i}return Vs}function iT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Hi(""+i)}function rT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function BI(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=iT((d[ln]||null).action),b=u.submitter;b&&(s=(s=b[ln]||null)?iT(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var w=new Ea("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Vs!==0){var V=b?rT(d,b):new FormData(d);Wm(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=b?rT(d,b):new FormData(d),Wm(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var Op=0;Op<mm.length;Op++){var Vp=mm[Op],FI=Vp.toLowerCase(),HI=Vp[0].toUpperCase()+Vp.slice(1);wi(FI,"on"+HI)}wi(k0,"onAnimationEnd"),wi(P0,"onAnimationIteration"),wi(L0,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(sI,"onTransitionRun"),wi(aI,"onTransitionStart"),wi(oI,"onTransitionCancel"),wi(U0,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function sT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],V=w.instance,K=w.currentTarget;if(w=w.listener,V!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=K;try{g(d)}catch(te){dh(te)}d.currentTarget=null,g=V}else for(b=0;b<u.length;b++){if(w=u[b],V=w.instance,K=w.currentTarget,w=w.listener,V!==g&&d.isPropagationStopped())break e;g=w,d.currentTarget=K;try{g(d)}catch(te){dh(te)}d.currentTarget=null,g=V}}}}function Fe(i,s){var o=s[rs];o===void 0&&(o=s[rs]=new Set);var u=i+"__bubble";o.has(u)||(aT(s,i,2,!1),o.add(u))}function Mp(i,s,o){var u=0;s&&(u|=4),aT(o,i,u,s)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function kp(i){if(!i[Jh]){i[Jh]=!0,po.forEach(function(o){o!=="selectionchange"&&(qI.has(o)||Mp(o,!1,i),Mp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Jh]||(s[Jh]=!0,Mp("selectionchange",!1,s))}}function aT(i,s,o,u){switch(kT(s)){case 2:var d=vD;break;case 8:d=_D;break;default:d=Xp}o=d.bind(null,s,o,i),d=void 0,!Jl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function Pp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=gr(w),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=g=b;continue e}w=w.parentNode}}u=u.return}Wc(function(){var K=g,te=bo(o),ae=[];e:{var Y=j0.get(i);if(Y!==void 0){var X=Ea,ge=i;switch(i){case"keypress":if(Ta(o)===0)break e;case"keydown":case"keyup":X=ah;break;case"focusin":ge="focus",X=ms;break;case"focusout":ge="blur",X=ms;break;case"beforeblur":case"afterblur":X=ms;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=lh;break;case k0:case P0:case L0:X=wo;break;case U0:X=Ao;break;case"scroll":case"scrollend":X=Zc;break;case"wheel":X=ch;break;case"copy":case"cut":case"paste":X=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ru;break;case"toggle":case"beforetoggle":X=gs}var Ae=(s&4)!==0,ht=!Ae&&(i==="scroll"||i==="scrollend"),H=Ae?Y!==null?Y+"Capture":null:Y;Ae=[];for(var j=K,G;j!==null;){var ie=j;if(G=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||G===null||H===null||(ie=Mn(j,H),ie!=null&&Ae.push(Ou(j,ie,G))),ht)break;j=j.return}0<Ae.length&&(Y=new X(Y,ge,null,o,te),ae.push({event:Y,listeners:Ae}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Y&&o!==_o&&(ge=o.relatedTarget||o.fromElement)&&(gr(ge)||ge[zi]))break e;if((X||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(ge=o.relatedTarget||o.toElement,X=K,ge=ge?gr(ge):null,ge!==null&&(ht=l(ge),Ae=ge.tag,ge!==ht||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):(X=null,ge=K),X!==ge)){if(Ae=Jc,ie="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=ru,ie="onPointerLeave",H="onPointerEnter",j="pointer"),ht=X==null?Y:va(X),G=ge==null?Y:va(ge),Y=new Ae(ie,j+"leave",X,o,te),Y.target=ht,Y.relatedTarget=G,ie=null,gr(te)===K&&(Ae=new Ae(H,j+"enter",ge,o,te),Ae.target=G,Ae.relatedTarget=ht,ie=Ae),ht=ie,X&&ge)t:{for(Ae=GI,H=X,j=ge,G=0,ie=H;ie;ie=Ae(ie))G++;ie=0;for(var Ee=j;Ee;Ee=Ae(Ee))ie++;for(;0<G-ie;)H=Ae(H),G--;for(;0<ie-G;)j=Ae(j),ie--;for(;G--;){if(H===j||j!==null&&H===j.alternate){Ae=H;break t}H=Ae(H),j=Ae(j)}Ae=null}else Ae=null;X!==null&&oT(ae,Y,X,Ae,!1),ge!==null&&ht!==null&&oT(ae,ht,ge,Ae,!0)}}e:{if(Y=K?va(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var et=A0;else if(kn(Y))if(S0)et=nI;else{et=eI;var _e=JC}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Wl(K.elementType)&&(et=A0):et=tI;if(et&&(et=et(i,K))){xa(ae,et,o,te);break e}_e&&_e(i,Y,K),i==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&vo(Y,"number",Y.value)}switch(_e=K?va(K):window,i){case"focusin":(kn(_e)||_e.contentEditable==="true")&&(So=_e,hm=K,ou=null);break;case"focusout":ou=hm=So=null;break;case"mousedown":fm=!0;break;case"contextmenu":case"mouseup":case"dragend":fm=!1,V0(ae,o,te);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":V0(ae,o,te)}var Le;if(v)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Ue?rt(i,o)&&(qe="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(q&&o.locale!=="ko"&&(Ue||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Ue&&(Le=cs()):(Gn=te,To="value"in Gn?Gn.value:Gn.textContent,Ue=!0)),_e=ef(K,qe),0<_e.length&&(qe=new tu(qe,i,null,o,te),ae.push({event:qe,listeners:_e}),Le?qe.data=Le:(Le=zt(o),Le!==null&&(qe.data=Le)))),(Le=x?nn(i,o):rn(i,o))&&(qe=ef(K,"onBeforeInput"),0<qe.length&&(_e=new tu("onBeforeInput","beforeinput",null,o,te),ae.push({event:_e,listeners:qe}),_e.data=Le)),BI(ae,i,K,o,te)}sT(ae,s)})}function Ou(i,s,o){return{instance:i,listener:s,currentTarget:o}}function ef(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Mn(i,o),d!=null&&u.unshift(Ou(i,d,g)),d=Mn(i,s),d!=null&&u.push(Ou(i,d,g))),i.tag===3)return u;i=i.return}return[]}function GI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function oT(i,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var w=o,V=w.alternate,K=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||K===null||(V=K,d?(K=Mn(o,g),K!=null&&b.unshift(Ou(o,K,V))):d||(K=Mn(o,g),K!=null&&b.push(Ou(o,K,V)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var KI=/\r\n?/g,$I=/\u0000|\uFFFD/g;function lT(i){return(typeof i=="string"?i:""+i).replace(KI,`
`).replace($I,"")}function uT(i,s){return s=lT(s),lT(i)===s}function ct(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ii(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ii(i,""+u);break;case"className":os(i,"class",u);break;case"tabIndex":os(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":os(i,o,u);break;case"style":Qc(i,u,g);break;case"data":if(s!=="object"){os(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Hi(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ct(i,s,"name",d.name,d,null),ct(i,s,"formEncType",d.formEncType,d,null),ct(i,s,"formMethod",d.formMethod,d,null),ct(i,s,"formTarget",d.formTarget,d,null)):(ct(i,s,"encType",d.encType,d,null),ct(i,s,"method",d.method,d,null),ct(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Hi(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=tn);break;case"onScroll":u!=null&&Fe("scroll",i);break;case"onScrollEnd":u!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Hi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),as(i,"popover",u);break;case"xlinkActuate":ni(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ni(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ni(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ni(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ni(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ni(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ni(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ni(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ni(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":as(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sm.get(o)||o,as(i,o,u))}}function Lp(i,s,o,u,d,g){switch(o){case"style":Qc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?ii(i,u):(typeof u=="number"||typeof u=="bigint")&&ii(i,""+u);break;case"onScroll":u!=null&&Fe("scroll",i);break;case"onScrollEnd":u!=null&&Fe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ss.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[ln]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):as(i,o,u)}}}function fn(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,g,b,o,null)}}d&&ct(i,s,"srcSet",o.srcSet,o,null),u&&ct(i,s,"src",o.src,o,null);return;case"input":Fe("invalid",i);var w=g=b=d=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":d=te;break;case"type":b=te;break;case"checked":V=te;break;case"defaultChecked":K=te;break;case"value":g=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:ct(i,s,u,te,o,null)}}_a(i,g,w,V,K,b,d,!1);return;case"select":Fe("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:ct(i,s,d,w,o,null)}s=g,o=b,i.multiple=!!u,s!=null?Je(i,!!u,s,!1):o!=null&&Je(i,!!u,o,!0);return;case"textarea":Fe("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:ct(i,s,b,w,o,null)}us(i,u,d,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(i,s,V,u,o,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(u=0;u<Nu.length;u++)Fe(Nu[u],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(i,s,K,u,o,null)}return;default:if(Wl(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Lp(i,s,te,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ct(i,s,w,u,o,null))}function YI(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,w=null,V=null,K=null,te=null;for(X in o){var ae=o[X];if(o.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=ae;default:u.hasOwnProperty(X)||ct(i,s,X,null,u,ae)}}for(var Y in u){var X=u[Y];if(ae=o[Y],u.hasOwnProperty(Y)&&(X!=null||ae!=null))switch(Y){case"type":g=X;break;case"name":d=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":b=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==ae&&ct(i,s,Y,X,u,ae)}}ls(i,b,w,V,K,te,g,d);return;case"select":X=b=w=Y=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(g)||ct(i,s,g,null,u,V)}for(d in u)if(g=u[d],V=o[d],u.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":Y=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==V&&ct(i,s,d,g,u,V)}s=w,o=b,u=X,Y!=null?Je(i,!!o,Y,!1):!!u!=!!o&&(s!=null?Je(i,!!o,s,!0):Je(i,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ct(i,s,w,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&ct(i,s,b,d,u,g)}ba(i,Y,X);return;case"option":for(var ge in o)if(Y=o[ge],o.hasOwnProperty(ge)&&Y!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":i.selected=!1;break;default:ct(i,s,ge,null,u,Y)}for(V in u)if(Y=u[V],X=o[V],u.hasOwnProperty(V)&&Y!==X&&(Y!=null||X!=null))switch(V){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ct(i,s,V,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Y=o[Ae],o.hasOwnProperty(Ae)&&Y!=null&&!u.hasOwnProperty(Ae)&&ct(i,s,Ae,null,u,Y);for(K in u)if(Y=u[K],X=o[K],u.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ct(i,s,K,Y,u,X)}return;default:if(Wl(s)){for(var ht in o)Y=o[ht],o.hasOwnProperty(ht)&&Y!==void 0&&!u.hasOwnProperty(ht)&&Lp(i,s,ht,void 0,u,Y);for(te in u)Y=u[te],X=o[te],!u.hasOwnProperty(te)||Y===X||Y===void 0&&X===void 0||Lp(i,s,te,Y,u,X);return}}for(var H in o)Y=o[H],o.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&ct(i,s,H,null,u,Y);for(ae in u)Y=u[ae],X=o[ae],!u.hasOwnProperty(ae)||Y===X||Y==null&&X==null||ct(i,s,ae,Y,u,X)}function cT(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,b=d.initiatorType,w=d.duration;if(g&&w&&cT(b)){for(b=0,w=d.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>w)break;var te=V.transferSize,ae=V.initiatorType;te&&cT(ae)&&(V=V.responseEnd,b+=te*(V<w?1:(w-K)/(V-K)))}if(--u,s+=8*(g+b)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Up=null,jp=null;function tf(i){return i.nodeType===9?i:i.ownerDocument}function hT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function zp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bp=null;function XI(){var i=window.event;return i&&i.type==="popstate"?i===Bp?!1:(Bp=i,!0):(Bp=null,!1)}var dT=typeof setTimeout=="function"?setTimeout:void 0,WI=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(i){return mT.resolve(null).then(i).catch(JI)}:dT;function JI(i){setTimeout(function(){throw i})}function Ms(i){return i==="head"}function pT(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Zo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Vu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Vu(o);for(var g=o.firstChild;g;){var b=g.nextSibling,w=g.nodeName;g[pr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Vu(i.ownerDocument.body);o=d}while(o);Zo(s)}function gT(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Fp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Fp(o),ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function eD(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[pr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ci(i.nextSibling),i===null)break}return null}function tD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ci(i.nextSibling),i===null))return null;return i}function yT(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ci(i.nextSibling),i===null))return null;return i}function Hp(i){return i.data==="$?"||i.data==="$~"}function qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function nD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ci(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Gp=null;function vT(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ci(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function _T(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function bT(i,s,o){switch(s=tf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Vu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ya(i)}var hi=new Map,TT=new Set;function nf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Lr=se.d;se.d={f:iD,r:rD,D:sD,C:aD,L:oD,m:lD,X:cD,S:uD,M:hD};function iD(){var i=Lr.f(),s=$h();return i||s}function rD(i){var s=yr(i);s!==null&&s.tag===5&&s.type==="form"?U_(s):Lr.r(i)}var Qo=typeof document>"u"?null:document;function ET(i,s,o){var u=Qo;if(u&&typeof s=="string"&&s){var d=xt(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),TT.has(d)||(TT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),fn(s,"link",i),Vt(s),u.head.appendChild(s)))}}function sD(i){Lr.D(i),ET("dns-prefetch",i,null)}function aD(i,s){Lr.C(i,s),ET("preconnect",i,s)}function oD(i,s,o){Lr.L(i,s,o);var u=Qo;if(u&&i&&s){var d='link[rel="preload"][as="'+xt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+xt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+xt(o.imageSizes)+'"]')):d+='[href="'+xt(i)+'"]';var g=d;switch(s){case"style":g=Xo(i);break;case"script":g=Wo(i)}hi.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),hi.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(Mu(g))||s==="script"&&u.querySelector(ku(g))||(s=u.createElement("link"),fn(s,"link",i),Vt(s),u.head.appendChild(s)))}}function lD(i,s){Lr.m(i,s);var o=Qo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+xt(u)+'"][href="'+xt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Wo(i)}if(!hi.has(g)&&(i=_({rel:"modulepreload",href:i},s),hi.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ku(g)))return}u=o.createElement("link"),fn(u,"link",i),Vt(u),o.head.appendChild(u)}}}function uD(i,s,o){Lr.S(i,s,o);var u=Qo;if(u&&i){var d=Ti(u).hoistableStyles,g=Xo(i);s=s||"default";var b=d.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(Mu(g)))w.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=hi.get(g))&&Kp(i,o);var V=b=u.createElement("link");Vt(V),fn(V,"link",i),V._p=new Promise(function(K,te){V.onload=K,V.onerror=te}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,rf(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(g,b)}}}function cD(i,s){Lr.X(i,s);var o=Qo;if(o&&i){var u=Ti(o).hoistableScripts,d=Wo(i),g=u.get(d);g||(g=o.querySelector(ku(d)),g||(i=_({src:i,async:!0},s),(s=hi.get(d))&&$p(i,s),g=o.createElement("script"),Vt(g),fn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function hD(i,s){Lr.M(i,s);var o=Qo;if(o&&i){var u=Ti(o).hoistableScripts,d=Wo(i),g=u.get(d);g||(g=o.querySelector(ku(d)),g||(i=_({src:i,async:!0,type:"module"},s),(s=hi.get(d))&&$p(i,s),g=o.createElement("script"),Vt(g),fn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function wT(i,s,o,u){var d=(d=Oe.current)?nf(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xo(o.href),o=Ti(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Xo(o.href);var g=Ti(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(Mu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),hi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hi.set(i,o),g||fD(d,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wo(o),o=Ti(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Xo(i){return'href="'+xt(i)+'"'}function Mu(i){return'link[rel="stylesheet"]['+i+"]"}function AT(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function fD(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),fn(s,"link",o),Vt(s),i.head.appendChild(s))}function Wo(i){return'[src="'+xt(i)+'"]'}function ku(i){return"script[async]"+i}function ST(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+xt(o.href)+'"]');if(u)return s.instance=u,Vt(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Vt(u),fn(u,"style",d),rf(u,o.precedence,i),s.instance=u;case"stylesheet":d=Xo(o.href);var g=i.querySelector(Mu(d));if(g)return s.state.loading|=4,s.instance=g,Vt(g),g;u=AT(o),(d=hi.get(d))&&Kp(u,d),g=(i.ownerDocument||i).createElement("link"),Vt(g);var b=g;return b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),fn(g,"link",u),s.state.loading|=4,rf(g,o.precedence,i),s.instance=g;case"script":return g=Wo(o.src),(d=i.querySelector(ku(g)))?(s.instance=d,Vt(d),d):(u=o,(d=hi.get(g))&&(u=_({},o),$p(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),Vt(d),fn(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,rf(u,o.precedence,i));return s.instance}function rf(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Kp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function $p(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var sf=null;function xT(i,s,o){if(sf===null){var u=new Map,d=sf=new Map;d.set(o,u)}else d=sf,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[pr]||g[St]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function RT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function dD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function CT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function mD(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Xo(u.href),g=s.querySelector(Mu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=af.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Vt(g);return}g=s.ownerDocument||s,u=AT(u),(d=hi.get(d))&&Kp(u,d),g=g.createElement("link"),Vt(g);var b=g;b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),fn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=af.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Yp=0;function pD(i,s){return i.stylesheets&&i.count===0&&lf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Yp===0&&(Yp=62500*QI());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Yp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function af(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var of=null;function lf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,of=new Map,s.forEach(gD,i),of=null,af.call(i))}function gD(i,s){if(!(s.state.loading&4)){var o=of.get(i);if(o)var u=o.get(null);else{o=new Map,of.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=af.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Pu={$$typeof:F,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function yD(i,s,o,u,d,g,b,w,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function IT(i,s,o,u,d,g,b,w,V,K,te,ae){return i=new yD(i,s,o,b,V,K,te,ae,w),s=1,g===!0&&(s|=24),g=$n(3,null,null,s),i.current=g,g.stateNode=i,s=Rm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Nm(g),i}function DT(i){return i?(i=Co,i):Co}function NT(i,s,o,u,d,g){d=DT(d),u.context===null?u.context=d:u.pendingContext=d,u=ws(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=As(i,u,s),o!==null&&(zn(o,i,s),mu(o,i,s))}function OT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Qp(i,s){OT(i,s),(i=i.alternate)&&OT(i,s)}function VT(i){if(i.tag===13||i.tag===31){var s=Ia(i,67108864);s!==null&&zn(s,i,67108864),Qp(i,67108864)}}function MT(i){if(i.tag===13||i.tag===31){var s=Zn();s=ql(s);var o=Ia(i,s);o!==null&&zn(o,i,s),Qp(i,s)}}var uf=!0;function vD(i,s,o,u){var d=W.T;W.T=null;var g=se.p;try{se.p=2,Xp(i,s,o,u)}finally{se.p=g,W.T=d}}function _D(i,s,o,u){var d=W.T;W.T=null;var g=se.p;try{se.p=8,Xp(i,s,o,u)}finally{se.p=g,W.T=d}}function Xp(i,s,o,u){if(uf){var d=Wp(u);if(d===null)Pp(i,s,u,cf,o),PT(i,u);else if(TD(d,i,s,o,u))u.stopPropagation();else if(PT(i,u),s&4&&-1<bD.indexOf(i)){for(;d!==null;){var g=yr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Xe(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var V=1<<31-en(b);w.entanglements[1]|=V,b&=~V}Qi(g),(it&6)===0&&(Gh=Nt()+500,Du(0))}}break;case 31:case 13:w=Ia(g,2),w!==null&&zn(w,g,2),$h(),Qp(g,2)}if(g=Wp(u),g===null&&Pp(i,s,u,cf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Pp(i,s,u,null,o)}}function Wp(i){return i=bo(i),Zp(i)}var cf=null;function Zp(i){if(cf=null,i=gr(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return cf=i,null}function kT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ho()){case Ot:return 2;case At:return 8;case _i:case Pi:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Jp=!1,ks=null,Ps=null,Ls=null,Lu=new Map,Uu=new Map,Us=[],bD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PT(i,s){switch(i){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Lu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(s.pointerId)}}function ju(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=yr(s),s!==null&&VT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function TD(i,s,o,u,d){switch(s){case"focusin":return ks=ju(ks,i,s,o,u,d),!0;case"dragenter":return Ps=ju(Ps,i,s,o,u,d),!0;case"mouseover":return Ls=ju(Ls,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Lu.set(g,ju(Lu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Uu.set(g,ju(Uu.get(g)||null,i,s,o,u,d)),!0}return!1}function LT(i){var s=gr(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Gc(i.priority,function(){MT(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,Gc(i.priority,function(){MT(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Wp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);_o=u,o.target.dispatchEvent(u),_o=null}else return s=yr(o),s!==null&&VT(s),i.blockedOn=o,!1;s.shift()}return!0}function UT(i,s,o){hf(i)&&o.delete(s)}function ED(){Jp=!1,ks!==null&&hf(ks)&&(ks=null),Ps!==null&&hf(Ps)&&(Ps=null),Ls!==null&&hf(Ls)&&(Ls=null),Lu.forEach(UT),Uu.forEach(UT)}function ff(i,s){i.blockedOn===s&&(i.blockedOn=null,Jp||(Jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ED)))}var df=null;function jT(i){df!==i&&(df=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){df===i&&(df=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(Zp(u||o)===null)continue;break}var g=yr(o);g!==null&&(i.splice(s,3),s-=3,Wm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Zo(i){function s(V){return ff(V,i)}ks!==null&&ff(ks,i),Ps!==null&&ff(Ps,i),Ls!==null&&ff(Ls,i),Lu.forEach(s),Uu.forEach(s);for(var o=0;o<Us.length;o++){var u=Us[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Us.length&&(o=Us[0],o.blockedOn===null);)LT(o),o.blockedOn===null&&Us.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[ln]||null;if(typeof g=="function")b||jT(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[ln]||null)w=b.formAction;else if(Zp(d)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),jT(o)}}}function zT(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function eg(i){this._internalRoot=i}mf.prototype.render=eg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Zn();NT(o,u,i,s,null,null)},mf.prototype.unmount=eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;NT(i.current,2,null,i,null,null),$h(),s[zi]=null}};function mf(i){this._internalRoot=i}mf.prototype.unstable_scheduleHydration=function(i){if(i){var s=mr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Us.length&&s!==0&&s<Us[o].priority;o++);Us.splice(o,0,i),o===0&&LT(i)}};var BT=e.version;if(BT!=="19.2.0")throw Error(r(527,BT,"19.2.0"));se.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var wD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{bi=pf.inject(wD),Xt=pf}catch{}}return Bu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=Y_,g=Q_,b=X_;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=IT(i,1,!1,null,null,o,u,null,d,g,b,zT),i[zi]=s.current,kp(i),new eg(s)},Bu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=Y_,b=Q_,w=X_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=IT(i,1,!0,s,o??null,u,d,V,g,b,w,zT),s.context=DT(null),o=s.current,u=Zn(),u=ql(u),d=ws(u),d.callback=null,As(o,d,u),o=u,s.current.lanes=o,ts(s,o),Qi(s),i[zi]=s.current,kp(i),new mf(s)},Bu.version="19.2.0",Bu}var WT;function VD(){if(WT)return ig.exports;WT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=OD(),ig.exports}var MD=VD();const kD=cA(MD);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZT="popstate";function PD(t={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return Fg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:hc(a)}return UD(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Di(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LD(){return Math.random().toString(36).substring(2,10)}function JT(t,e){return{usr:t.state,key:t.key,idx:e}}function Fg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cl(e):e,state:n,key:e&&e.key||r||LD()}}function hc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function UD(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let M=y(),B=M==null?null:M-p;p=M,m&&m({action:f,location:L.location,delta:B})}function E(M,B){f="PUSH";let Q=Fg(L.location,M,B);p=y()+1;let F=JT(Q,p),le=L.createHref(Q);try{c.pushState(F,"",le)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(le)}l&&m&&m({action:f,location:L.location,delta:1})}function R(M,B){f="REPLACE";let Q=Fg(L.location,M,B);p=y();let F=JT(Q,p),le=L.createHref(Q);c.replaceState(F,"",le),l&&m&&m({action:f,location:L.location,delta:0})}function N(M){return jD(M)}let L={get action(){return f},get location(){return t(a,c)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ZT,_),m=M,()=>{a.removeEventListener(ZT,_),m=null}},createHref(M){return e(a,M)},createURL:N,encodeLocation(M){let B=N(M);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:R,go(M){return c.go(M)}};return L}function jD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:hc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function hA(t,e,n="/"){return zD(t,e,n,!1)}function zD(t,e,n,r){let a=typeof e=="string"?Cl(e):e,l=qr(a.pathname||"/",n);if(l==null)return null;let c=fA(t);BD(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=ZD(l);f=XD(c[m],p,r)}return f}function fA(t,e=[],n=[],r="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;Tt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=Br([r,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(Tt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),fA(c.children,e,E,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:YD(_,c.index),routesMeta:E})};return t.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))l(c,f);else for(let p of dA(c.path))l(c,f,!0,p)}),e}function dA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=dA(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function BD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FD=/^:[\w-]+$/,HD=3,qD=2,GD=1,KD=10,$D=-2,eE=t=>t==="*";function YD(t,e){let n=t.split("/"),r=n.length;return n.some(eE)&&(r+=$D),e&&(r+=qD),n.filter(a=>!eE(a)).reduce((a,l)=>a+(FD.test(l)?HD:l===""?GD:KD),r)}function QD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function XD(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Yf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Br([l,_.pathname]),pathnameBase:nN(Br([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Br([l,_.pathnameBase]))}return c}function Yf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let N=f[E]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const R=f[E];return _&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function WD(t,e=!1,n=!0){Di(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function ZD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Di(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JD(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Cl(t):t;return{pathname:n?n.startsWith("/")?n:eN(n,e):e,search:iN(r),hash:rN(a)}}function eN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function og(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function By(t){let e=tN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fy(t,e,n,r=!1){let a;typeof t=="string"?a=Cl(t):(a={...t},Tt(!a.pathname||!a.pathname.includes("?"),og("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),og("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),og("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let m=JD(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),nN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mA=["POST","PUT","PATCH","DELETE"];new Set(mA);var aN=["GET",...mA];new Set(aN);var Il=O.createContext(null);Il.displayName="DataRouter";var xd=O.createContext(null);xd.displayName="DataRouterState";O.createContext(!1);var pA=O.createContext({isTransitioning:!1});pA.displayName="ViewTransition";var oN=O.createContext(new Map);oN.displayName="Fetchers";var lN=O.createContext(null);lN.displayName="Await";var Mi=O.createContext(null);Mi.displayName="Navigation";var Rc=O.createContext(null);Rc.displayName="Location";var lr=O.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Hy=O.createContext(null);Hy.displayName="RouteError";function uN(t,{relative:e}={}){Tt(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Mi),{hash:a,pathname:l,search:c}=Cc(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Br([n,l])),r.createHref({pathname:f,search:c,hash:a})}function Dl(){return O.useContext(Rc)!=null}function ur(){return Tt(Dl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Rc).location}var gA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yA(t){O.useContext(Mi).static||O.useLayoutEffect(t)}function vA(){let{isDataRoute:t}=O.useContext(lr);return t?EN():cN()}function cN(){Tt(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Il),{basename:e,navigator:n}=O.useContext(Mi),{matches:r}=O.useContext(lr),{pathname:a}=ur(),l=JSON.stringify(By(r)),c=O.useRef(!1);return yA(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(Di(c.current,gA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Fy(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Br([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}O.createContext(null);function Cc(t,{relative:e}={}){let{matches:n}=O.useContext(lr),{pathname:r}=ur(),a=JSON.stringify(By(n));return O.useMemo(()=>Fy(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function hN(t,e){return _A(t,e)}function _A(t,e,n,r,a){var Q;Tt(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Mi),{matches:c}=O.useContext(lr),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let F=_&&_.path||"";bA(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=ur(),R;if(e){let F=typeof e=="string"?Cl(e):e;Tt(y==="/"||((Q=F.pathname)==null?void 0:Q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),R=F}else R=E;let N=R.pathname||"/",L=N;if(y!=="/"){let F=y.replace(/^\//,"").split("/");L="/"+N.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=hA(t,{pathname:L});Di(_||M!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Di(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=gN(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Br([y,l.encodeLocation?l.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:Br([y,l.encodeLocation?l.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),c,n,r,a);return e&&B?O.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function fN(){let t=TN(),e=sN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,c)}var dN=O.createElement(fN,null),mN=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(lr.Provider,{value:this.props.routeContext},O.createElement(Hy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pN({routeContext:t,match:e,children:n}){let r=O.useContext(Il);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(lr.Provider,{value:t},n)}function gN(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Tt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:E}=n,R=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!E||E[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let E,R=!1,N=null,L=null;n&&(E=c&&y.route.id?c[y.route.id]:void 0,N=y.route.errorElement||dN,f&&(m<0&&_===0?(bA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===_&&(R=!0,L=y.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,_+1)),B=()=>{let Q;return E?Q=N:R?Q=L:y.route.Component?Q=O.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,O.createElement(pN,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:n!=null},children:Q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?O.createElement(mN,{location:n.location,revalidation:n.revalidation,component:N,error:E,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:r}):B()},null)}function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(t){let e=O.useContext(Il);return Tt(e,qy(t)),e}function vN(t){let e=O.useContext(xd);return Tt(e,qy(t)),e}function _N(t){let e=O.useContext(lr);return Tt(e,qy(t)),e}function Gy(t){let e=_N(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bN(){return Gy("useRouteId")}function TN(){var r;let t=O.useContext(Hy),e=vN("useRouteError"),n=Gy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function EN(){let{router:t}=yN("useNavigate"),e=Gy("useNavigate"),n=O.useRef(!1);return yA(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Di(n.current,gA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var tE={};function bA(t,e,n){!e&&!tE[t]&&(tE[t]=!0,Di(!1,n))}O.memo(wN);function wN({routes:t,future:e,state:n,unstable_onError:r}){return _A(t,void 0,n,r,e)}function TA({to:t,replace:e,state:n,relative:r}){Tt(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(Mi);Di(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(lr),{pathname:c}=ur(),f=vA(),m=Fy(t,By(l),c,r==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:r})},[f,p,r,e,n]),null}function Ku(t){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){Tt(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Cl(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,R=O.useMemo(()=>{let N=qr(m,c);return N==null?null:{location:{pathname:N,search:p,hash:y,state:_,key:E},navigationType:r}},[c,m,p,y,_,E,r]);return Di(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:O.createElement(Mi.Provider,{value:f},O.createElement(Rc.Provider,{children:e,value:R}))}function SN({children:t,location:e}){return hN(Hg(t),e)}function Hg(t,e=[]){let n=[];return O.Children.forEach(t,(r,a)=>{if(!O.isValidElement(r))return;let l=[...e,a];if(r.type===O.Fragment){n.push.apply(n,Hg(r.props.children,l));return}Tt(r.type===Ku,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Hg(r.props.children,l)),n.push(c)}),n}var Of="get",Vf="application/x-www-form-urlencoded";function Rd(t){return t!=null&&typeof t.tagName=="string"}function xN(t){return Rd(t)&&t.tagName.toLowerCase()==="button"}function RN(t){return Rd(t)&&t.tagName.toLowerCase()==="form"}function CN(t){return Rd(t)&&t.tagName.toLowerCase()==="input"}function IN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DN(t,e){return t.button===0&&(!e||e==="_self")&&!IN(t)}var gf=null;function NN(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var ON=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(t){return t!=null&&!ON.has(t)?(Di(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):t}function VN(t,e){let n,r,a,l,c;if(RN(t)){let f=t.getAttribute("action");r=f?qr(f,e):null,n=t.getAttribute("method")||Of,a=lg(t.getAttribute("enctype"))||Vf,l=new FormData(t)}else if(xN(t)||CN(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(r=m?qr(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Of,a=lg(t.getAttribute("formenctype"))||lg(f.getAttribute("enctype"))||Vf,l=new FormData(f,t),!NN()){let{name:p,type:y,value:_}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Rd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Of,r=null,a=Vf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ky(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&qr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function kN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function LN(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await kN(l,n);return c.links?c.links():[]}return[]}));return BN(r.flat(1).filter(PN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nE(t,e,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?e.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function UN(t,e,{includeHydrateFallback:n}={}){return jN(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function jN(t){return[...new Set(t)]}function zN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function BN(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(zN(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function EA(){let t=O.useContext(Il);return Ky(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FN(){let t=O.useContext(xd);return Ky(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $y=O.createContext(void 0);$y.displayName="FrameworkContext";function wA(){let t=O.useContext($y);return Ky(t,"You must render this element inside a <HydratedRouter> element"),t}function HN(t,e){let n=O.useContext($y),[r,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let L=B=>{B.forEach(Q=>{c(Q.isIntersecting)})},M=new IntersectionObserver(L,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[t]),O.useEffect(()=>{if(r){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[r]);let R=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Fu(f,R),onBlur:Fu(m,N),onMouseEnter:Fu(p,R),onMouseLeave:Fu(y,N),onTouchStart:Fu(_,R)}]:[!1,E,{}]}function Fu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qN({page:t,...e}){let{router:n}=EA(),r=O.useMemo(()=>hA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(KN,{page:t,matches:r,...e}):null}function GN(t){let{manifest:e,routeModules:n}=wA(),[r,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return LN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),r}function KN({page:t,matches:e,...n}){let r=ur(),{manifest:a,routeModules:l}=wA(),{basename:c}=EA(),{loaderData:f,matches:m}=FN(),p=O.useMemo(()=>nE(t,e,m,a,r,"data"),[t,e,m,a,r]),y=O.useMemo(()=>nE(t,e,m,a,r,"assets"),[t,e,m,a,r]),_=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,L=!1;if(e.forEach(B=>{var F;let Q=a.routes[B.route.id];!Q||!Q.hasLoader||(!p.some(le=>le.route.id===B.route.id)&&B.route.id in f&&((F=l[B.route.id])!=null&&F.shouldRevalidate)||Q.hasClientLoader?L=!0:N.add(B.route.id))}),N.size===0)return[];let M=MN(t,c,"data");return L&&N.size>0&&M.searchParams.set("_routes",e.filter(B=>N.has(B.route.id)).map(B=>B.route.id).join(",")),[M.pathname+M.search]},[c,f,r,a,p,e,t,l]),E=O.useMemo(()=>UN(y,a),[y,a]),R=GN(y);return O.createElement(O.Fragment,null,_.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),E.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),R.map(({key:N,link:L})=>O.createElement("link",{key:N,nonce:n.nonce,...L})))}function $N(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AA&&(window.__reactRouterVersion="7.9.3")}catch{}function YN({basename:t,children:e,window:n}){let r=O.useRef();r.current==null&&(r.current=PD({window:n,v5Compat:!0}));let a=r.current,[l,c]=O.useState({action:a.action,location:a.location}),f=O.useCallback(m=>{O.startTransition(()=>c(m))},[c]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(AN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var SA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qf=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},R){let{basename:N}=O.useContext(Mi),L=typeof p=="string"&&SA.test(p),M,B=!1;if(typeof p=="string"&&L&&(M=p,AA))try{let C=new URL(window.location.href),k=p.startsWith("//")?new URL(C.protocol+p):new URL(p),U=qr(k.pathname,N);k.origin===C.origin&&U!=null?p=U+k.search+k.hash:B=!0}catch{Di(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=uN(p,{relative:a}),[F,le,ue]=HN(r,E),ce=ZN(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function I(C){e&&e(C),C.defaultPrevented||ce(C)}let S=O.createElement("a",{...E,...ue,href:M||Q,onClick:B||l?e:I,ref:$N(R,le),target:m,"data-discover":!L&&n==="render"?"true":void 0});return F&&!L?O.createElement(O.Fragment,null,S,O.createElement(qN,{page:Q})):S});Qf.displayName="Link";var QN=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=Cc(c,{relative:p.relative}),E=ur(),R=O.useContext(xd),{navigator:N,basename:L}=O.useContext(Mi),M=R!=null&&iO(_)&&f===!0,B=N.encodeLocation?N.encodeLocation(_).pathname:_.pathname,Q=E.pathname,F=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&L&&(F=qr(F,L)||F);const le=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ue=Q===B||!a&&Q.startsWith(B)&&Q.charAt(le)==="/",ce=F!=null&&(F===B||!a&&F.startsWith(B)&&F.charAt(B.length)==="/"),I={isActive:ue,isPending:ce,isTransitioning:M},S=ue?e:void 0,C;typeof r=="function"?C=r(I):C=[r,ue?"active":null,ce?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return O.createElement(Qf,{...p,"aria-current":S,className:C,ref:y,style:k,to:c,viewTransition:f},typeof m=="function"?m(I):m)});QN.displayName="NavLink";var XN=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Of,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},R)=>{let N=tO(),L=nO(f,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&SA.test(f),Q=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let le=F.nativeEvent.submitter,ue=(le==null?void 0:le.getAttribute("formmethod"))||c;N(le||F.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return O.createElement("form",{ref:R,method:M,action:L,onSubmit:r?m:Q,...E,"data-discover":!B&&t==="render"?"true":void 0})});XN.displayName="Form";function WN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(t){let e=O.useContext(Il);return Tt(e,WN(t)),e}function ZN(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=vA(),m=ur(),p=Cc(t,{relative:l});return O.useCallback(y=>{if(DN(y,e)){y.preventDefault();let _=n!==void 0?n:hc(m)===hc(p);f(t,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,e,t,a,l,c])}var JN=0,eO=()=>`__${String(++JN)}__`;function tO(){let{router:t}=xA("useSubmit"),{basename:e}=O.useContext(Mi),n=bN();return O.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=VN(r,e);if(a.navigate===!1){let y=a.fetcherKey||eO();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function nO(t,{relative:e}={}){let{basename:n}=O.useContext(Mi),r=O.useContext(lr);Tt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Cc(t||".",{relative:e})},c=ur();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Br([n,l.pathname])),hc(l)}function iO(t,{relative:e}={}){let n=O.useContext(pA);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=xA("useViewTransitionState"),a=Cc(t,{relative:e});if(!n.isTransitioning)return!1;let l=qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yf(a.pathname,c)!=null||Yf(a.pathname,l)!=null}const RA=O.createContext({});function rO(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yy=typeof window<"u",sO=Yy?O.useLayoutEffect:O.useEffect,Qy=O.createContext(null);function Xy(t,e){t.indexOf(e)===-1&&t.push(e)}function Wy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gr=(t,e,n)=>n>e?e:n<t?t:n;let Zy=()=>{};const Kr={},CA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function IA(t){return typeof t=="object"&&t!==null}const DA=t=>/^0[^.\s]+$/u.test(t);function Jy(t){let e;return()=>(e===void 0&&(e=t()),e)}const gi=t=>t,aO=(t,e)=>n=>e(t(n)),Ic=(...t)=>t.reduce(aO),fc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ev{constructor(){this.subscriptions=[]}add(e){return Xy(this.subscriptions,e),()=>Wy(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wi=t=>t*1e3,pi=t=>t/1e3;function NA(t,e){return e?t*(1e3/e):0}const OA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oO=1e-7,lO=12;function uO(t,e,n,r,a){let l,c,f=0;do c=e+(n-e)/2,l=OA(c,r,a)-t,l>0?n=c:e=c;while(Math.abs(l)>oO&&++f<lO);return c}function Dc(t,e,n,r){if(t===e&&n===r)return gi;const a=l=>uO(l,0,1,t,n);return l=>l===0||l===1?l:OA(a(l),e,r)}const VA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MA=t=>e=>1-t(1-e),kA=Dc(.33,1.53,.69,.99),tv=MA(kA),PA=VA(tv),LA=t=>(t*=2)<1?.5*tv(t):.5*(2-Math.pow(2,-10*(t-1))),nv=t=>1-Math.sin(Math.acos(t)),UA=MA(nv),jA=VA(nv),cO=Dc(.42,0,1,1),hO=Dc(0,0,.58,1),zA=Dc(.42,0,.58,1),fO=t=>Array.isArray(t)&&typeof t[0]!="number",BA=t=>Array.isArray(t)&&typeof t[0]=="number",dO={linear:gi,easeIn:cO,easeInOut:zA,easeOut:hO,circIn:nv,circInOut:jA,circOut:UA,backIn:tv,backInOut:PA,backOut:kA,anticipate:LA},mO=t=>typeof t=="string",iE=t=>{if(BA(t)){Zy(t.length===4);const[e,n,r,a]=t;return Dc(e,n,r,a)}else if(mO(t))return dO[t];return t},yf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pO(t,e){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),t()),y(f)}const p={schedule:(y,_=!1,E=!1)=>{const N=E&&a?n:r;return _&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const gO=40;function FA(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=yf.reduce((F,le)=>(F[le]=pO(l),F),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:R,postRender:N}=c,L=()=>{const F=Kr.useManualTiming?a.timestamp:performance.now();n=!1,Kr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,gO),1)),a.timestamp=F,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),R.process(a),N.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(L))},M=()=>{n=!0,r=!0,a.isProcessing||t(L)};return{schedule:yf.reduce((F,le)=>{const ue=c[le];return F[le]=(ce,I=!1,S=!1)=>(n||M(),ue.schedule(ce,I,S)),F},{}),cancel:F=>{for(let le=0;le<yf.length;le++)c[yf[le]].cancel(F)},state:a,steps:c}}const{schedule:bt,cancel:Js,state:dn,steps:ug}=FA(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let Mf;function yO(){Mf=void 0}const Hn={now:()=>(Mf===void 0&&Hn.set(dn.isProcessing||Kr.useManualTiming?dn.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(yO)}},HA=t=>e=>typeof e=="string"&&e.startsWith(t),iv=HA("--"),vO=HA("var(--"),rv=t=>vO(t)?_O.test(t.split("/*")[0].trim()):!1,_O=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...Nl,transform:t=>Gr(0,1,t)},vf={...Nl,default:1},ec=t=>Math.round(t*1e5)/1e5,sv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bO(t){return t==null}const TO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,av=(t,e)=>n=>!!(typeof n=="string"&&TO.test(n)&&n.startsWith(t)||e&&!bO(n)&&Object.prototype.hasOwnProperty.call(n,e)),qA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(sv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},EO=t=>Gr(0,255,t),cg={...Nl,transform:t=>Math.round(EO(t))},Ka={test:av("rgb","red"),parse:qA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cg.transform(t)+", "+cg.transform(e)+", "+cg.transform(n)+", "+ec(dc.transform(r))+")"};function wO(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const qg={test:av("#"),parse:wO,transform:Ka.transform},Nc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fs=Nc("deg"),Zi=Nc("%"),Ie=Nc("px"),AO=Nc("vh"),SO=Nc("vw"),rE={...Zi,parse:t=>Zi.parse(t)/100,transform:t=>Zi.transform(t*100)},sl={test:av("hsl","hue"),parse:qA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zi.transform(ec(e))+", "+Zi.transform(ec(n))+", "+ec(dc.transform(r))+")"},Kt={test:t=>Ka.test(t)||qg.test(t)||sl.test(t),parse:t=>Ka.test(t)?Ka.parse(t):sl.test(t)?sl.parse(t):qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ka.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Kt.parse(t);return e.alpha=0,Kt.transform(e)}},xO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sv))==null?void 0:e.length)||0)+(((n=t.match(xO))==null?void 0:n.length)||0)>0}const GA="number",KA="color",CO="var",IO="var(",sE="${}",DO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(DO,m=>(Kt.test(m)?(r.color.push(l),a.push(KA),n.push(Kt.parse(m))):m.startsWith(IO)?(r.var.push(l),a.push(CO),n.push(m)):(r.number.push(l),a.push(GA),n.push(parseFloat(m))),++l,sE)).split(sE);return{values:n,split:f,indexes:r,types:a}}function $A(t){return mc(t).values}function YA(t){const{split:e,types:n}=mc(t),r=e.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],a[c]!==void 0){const f=n[c];f===GA?l+=ec(a[c]):f===KA?l+=Kt.transform(a[c]):l+=a[c]}return l}}const NO=t=>typeof t=="number"?0:Kt.test(t)?Kt.getAnimatableNone(t):t;function OO(t){const e=$A(t);return YA(t)(e.map(NO))}const ea={test:RO,parse:$A,createTransformer:YA,getAnimatableNone:OO};function hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const f=n<.5?n*(1+e):n+e-n*e,m=2*n-f;a=hg(m,f,t+1/3),l=hg(m,f,t),c=hg(m,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Xf(t,e){return n=>n>0?e:t}const Et=(t,e,n)=>t+(e-t)*n,fg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},MO=[qg,Ka,sl],kO=t=>MO.find(e=>e.test(t));function aE(t){const e=kO(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=VO(n)),n}const oE=(t,e)=>{const n=aE(t),r=aE(e);if(!n||!r)return Xf(t,e);const a={...n};return l=>(a.red=fg(n.red,r.red,l),a.green=fg(n.green,r.green,l),a.blue=fg(n.blue,r.blue,l),a.alpha=Et(n.alpha,r.alpha,l),Ka.transform(a))},Gg=new Set(["none","hidden"]);function PO(t,e){return Gg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function LO(t,e){return n=>Et(t,e,n)}function ov(t){return typeof t=="number"?LO:typeof t=="string"?rv(t)?Xf:Kt.test(t)?oE:zO:Array.isArray(t)?QA:typeof t=="object"?Kt.test(t)?oE:UO:Xf}function QA(t,e){const n=[...t],r=n.length,a=t.map((l,c)=>ov(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function UO(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=ov(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function jO(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][r[l]],f=t.values[c]??0;n[a]=f,r[l]++}return n}const zO=(t,e)=>{const n=ea.createTransformer(e),r=mc(t),a=mc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Gg.has(t)&&!a.values.length||Gg.has(e)&&!r.values.length?PO(t,e):Ic(QA(jO(r,a),a.values),n):Xf(t,e)};function XA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Et(t,e,n):ov(t)(t,e)}const BO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>bt.update(e,n),stop:()=>Js(e),now:()=>dn.isProcessing?dn.timestamp:Hn.now()}},WA=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wf=2e4;function lv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wf;)e+=n,r=t.next(e);return e>=Wf?1/0:e}function FO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(lv(r),Wf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:pi(a)}}const HO=5;function ZA(t,e,n){const r=Math.max(e-HO,0);return NA(n-t(r),e-r)}const It={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dg=.001;function qO({duration:t=It.duration,bounce:e=It.bounce,velocity:n=It.velocity,mass:r=It.mass}){let a,l,c=1-e;c=Gr(It.minDamping,It.maxDamping,c),t=Gr(It.minDuration,It.maxDuration,pi(t)),c<1?(a=p=>{const y=p*c,_=y*t,E=y-n,R=Kg(p,c),N=Math.exp(-_);return dg-E/R*N},l=p=>{const _=p*c*t,E=_*n+n,R=Math.pow(c,2)*Math.pow(p,2)*t,N=Math.exp(-_),L=Kg(Math.pow(p,2),c);return(-a(p)+dg>0?-1:1)*((E-R)*N)/L}):(a=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-dg+y*_},l=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const f=5/t,m=KO(a,l,f);if(t=Wi(t),isNaN(m))return{stiffness:It.stiffness,damping:It.damping,duration:t};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const GO=12;function KO(t,e,n){let r=n;for(let a=1;a<GO;a++)r=r-t(r)/e(r);return r}function Kg(t,e){return t*Math.sqrt(1-e*e)}const $O=["duration","bounce"],YO=["stiffness","damping","mass"];function lE(t,e){return e.some(n=>t[n]!==void 0)}function QO(t){let e={velocity:It.velocity,stiffness:It.stiffness,damping:It.damping,mass:It.mass,isResolvedFromDuration:!1,...t};if(!lE(t,YO)&&lE(t,$O))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Gr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:It.mass,stiffness:a,damping:l}}else{const n=qO(t);e={...e,...n,mass:It.mass},e.isResolvedFromDuration=!0}return e}function Zf(t=It.visualDuration,e=It.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:R}=QO({...n,velocity:-pi(n.velocity||0)}),N=E||0,L=p/(2*Math.sqrt(m*y)),M=c-l,B=pi(Math.sqrt(m/y)),Q=Math.abs(M)<5;r||(r=Q?It.restSpeed.granular:It.restSpeed.default),a||(a=Q?It.restDelta.granular:It.restDelta.default);let F;if(L<1){const ue=Kg(B,L);F=ce=>{const I=Math.exp(-L*B*ce);return c-I*((N+L*B*M)/ue*Math.sin(ue*ce)+M*Math.cos(ue*ce))}}else if(L===1)F=ue=>c-Math.exp(-B*ue)*(M+(N+B*M)*ue);else{const ue=B*Math.sqrt(L*L-1);F=ce=>{const I=Math.exp(-L*B*ce),S=Math.min(ue*ce,300);return c-I*((N+L*B*M)*Math.sinh(S)+ue*M*Math.cosh(S))/ue}}const le={calculatedDuration:R&&_||null,next:ue=>{const ce=F(ue);if(R)f.done=ue>=_;else{let I=ue===0?N:0;L<1&&(I=ue===0?Wi(N):ZA(F,ue,ce));const S=Math.abs(I)<=r,C=Math.abs(c-ce)<=a;f.done=S&&C}return f.value=f.done?c:ce,f},toString:()=>{const ue=Math.min(lv(le),Wf),ce=WA(I=>le.next(ue*I).value,ue,30);return ue+"ms "+ce},toTransition:()=>{}};return le}Zf.applyToOptions=t=>{const e=FO(t,100,Zf);return t.ease=e.ease,t.duration=Wi(e.duration),t.type="keyframes",t};function $g({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=t[0],E={done:!1,value:_},R=S=>f!==void 0&&S<f||m!==void 0&&S>m,N=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let L=n*e;const M=_+L,B=c===void 0?M:c(M);B!==M&&(L=B-_);const Q=S=>-L*Math.exp(-S/r),F=S=>B+Q(S),le=S=>{const C=Q(S),k=F(S);E.done=Math.abs(C)<=p,E.value=E.done?B:k};let ue,ce;const I=S=>{R(E.value)&&(ue=S,ce=Zf({keyframes:[E.value,N(E.value)],velocity:ZA(F,S,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:S=>{let C=!1;return!ce&&ue===void 0&&(C=!0,le(S),I(S)),ue!==void 0&&S>=ue?ce.next(S-ue):(!C&&le(S),E)}}}function XO(t,e,n){const r=[],a=n||Kr.mix||XA,l=t.length-1;for(let c=0;c<l;c++){let f=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||gi:e;f=Ic(m,f)}r.push(f)}return r}function WO(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(Zy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=XO(e,r,a),m=f.length,p=y=>{if(c&&y<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const E=fc(t[_],t[_+1],y);return f[_](E)};return n?y=>p(Gr(t[0],t[l-1],y)):p}function ZO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=fc(0,e,r);t.push(Et(n,1,a))}}function JO(t){const e=[0];return ZO(e,t.length-1),e}function eV(t,e){return t.map(n=>n*e)}function tV(t,e){return t.map(()=>e||zA).splice(0,t.length-1)}function tc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=fO(r)?r.map(iE):iE(r),l={done:!1,value:e[0]},c=eV(n&&n.length===e.length?n:JO(e),t),f=WO(c,e,{ease:Array.isArray(a)?a:tV(e,a)});return{calculatedDuration:t,next:m=>(l.value=f(m),l.done=m>=t,l)}}const nV=t=>t!==null;function uv(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(nV),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const iV={decay:$g,inertia:$g,tween:tc,keyframes:tc,spring:Zf};function JA(t){typeof t.type=="string"&&(t.type=iV[t.type])}class cv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const rV=t=>t/100;class hv extends cv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;JA(e);const{type:n=tc,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:f}=e;const m=n||tc;m!==tc&&typeof f[0]!="number"&&(this.mixKeyframes=Ic(rV,XA(f[0],f[1])),f=[0,100]);const p=m({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=lv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:R,type:N,onUpdate:L,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,le=r;if(_){const S=Math.min(this.currentTime,a)/f;let C=Math.floor(S),k=S%1;!k&&S>=1&&(k=1),k===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(E==="reverse"?(k=1-k,R&&(k-=R/f)):E==="mirror"&&(le=c)),F=Gr(0,1,k)*f}const ue=Q?{done:!1,value:y[0]}:le.next(F);l&&(ue.value=l(ue.value));let{done:ce}=ue;!Q&&m!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return I&&N!==$g&&(ue.value=uv(y,this.options,M,this.speed)),L&&L(ue.value),I&&this.finish(),ue}then(e,n){return this.finished.then(e,n)}get duration(){return pi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(this.currentTime)}set time(e){var n;e=Wi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=BO,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function sV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,Yg=t=>{const e=$a(Math.atan2(t[1],t[0]));return Qg(e)},aV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yg,rotateZ:Yg,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qg=t=>(t=t%360,t<0&&(t+=360),t),uE=Yg,cE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),oV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cE,scaleY:hE,scale:t=>(cE(t)+hE(t))/2,rotateX:t=>Qg($a(Math.atan2(t[6],t[5]))),rotateY:t=>Qg($a(Math.atan2(-t[2],t[0]))),rotateZ:uE,rotate:uE,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Xg(t){return t.includes("scale")?1:0}function Wg(t,e){if(!t||t==="none")return Xg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=oV,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=aV,a=f}if(!a)return Xg(e);const l=r[e],c=a[1].split(",").map(uV);return typeof l=="function"?l(c):c[l]}const lV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Wg(n,e)};function uV(t){return parseFloat(t.trim())}const Ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(Ol),fE=t=>t===Nl||t===Ie,cV=new Set(["x","y","z"]),hV=Ol.filter(t=>!cV.has(t));function fV(t){const e=[];return hV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Wg(e,"x"),y:(t,{transform:e})=>Wg(e,"y")};Qa.translateX=Qa.x;Qa.translateY=Qa.y;const Xa=new Set;let Zg=!1,Jg=!1,ey=!1;function eS(){if(Jg){const t=Array.from(Xa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=fV(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jg=!1,Zg=!1,Xa.forEach(t=>t.complete(ey)),Xa.clear()}function tS(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jg=!0)})}function dV(){ey=!0,tS(),eS(),ey=!1}class fv{constructor(e,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),Zg||(Zg=!0,bt.read(tS),bt.resolveKeyframes(eS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}sV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mV=t=>t.startsWith("--");function pV(t,e,n){mV(e)?t.style.setProperty(e,n):t.style[e]=n}const gV=Jy(()=>window.ScrollTimeline!==void 0),yV={};function vV(t,e){const n=Jy(t);return()=>yV[e]??n()}const nS=vV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$u=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$u([0,.65,.55,1]),circOut:$u([.55,0,1,.45]),backIn:$u([.31,.01,.66,-.59]),backOut:$u([.33,1.53,.69,.99])};function iS(t,e){if(t)return typeof t=="function"?nS()?WA(t,e):"ease-out":BA(t)?$u(t):Array.isArray(t)?t.map(n=>iS(n,e)||dE.easeOut):dE[t]}function _V(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[e]:n};m&&(y.offset=m);const _=iS(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function rS(t){return typeof t=="function"&&"applyToOptions"in t}function bV({type:t,...e}){return rS(t)&&nS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class TV extends cv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Zy(typeof e.type!="string");const p=bV(e);this.animation=_V(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=uv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):pV(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return pi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pi(e)}get time(){return pi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&gV()?(this.animation.timeline=e,gi):n(this)}}const sS={anticipate:LA,backInOut:PA,circInOut:jA};function EV(t){return t in sS}function wV(t){typeof t.ease=="string"&&EV(t.ease)&&(t.ease=sS[t.ease])}const mE=10;class AV extends TV{constructor(e){wV(e),JA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new hv({...c,autoplay:!1}),m=Wi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-mE).value,f.sample(m).value,mE),f.stop()}}const pE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ea.test(t)||t==="0")&&!t.startsWith("url("));function SV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xV(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=pE(a,e),f=pE(l,e);return!c||!f?!1:SV(t)||(n==="spring"||rS(n))&&r}function ty(t){t.duration=0,t.type="keyframes"}const RV=new Set(["opacity","clipPath","filter","transform"]),CV=Jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IV(t){var y;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=t;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return CV()&&n&&RV.has(n)&&(n!=="transform"||!p)&&!m&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const DV=40;class NV extends cv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var N;super(),this.stop=()=>{var L,M;this._animation&&(this._animation.stop(),(L=this.stopTimeline)==null||L.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=Hn.now();const E={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},R=(y==null?void 0:y.KeyframeResolver)||fv;this.keyframeResolver=new R(f,(L,M,B)=>this.onKeyframesResolved(L,M,E,!B),m,p,y),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Hn.now(),xV(e,l,c,f)||((Kr.instantAnimations||!m)&&(y==null||y(uv(e,r,n))),e[0]=e[e.length-1],ty(r),r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>DV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},R=!p&&IV(E)?new AV({...E,element:E.motionValue.owner.current}):new hv(E);R.finished.then(()=>this.notifyFinished()).catch(gi),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const OV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VV(t){const e=OV.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function aS(t,e,n=1){const[r,a]=VV(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return CA(c)?parseFloat(c):c}return rv(a)?aS(a,e,n+1):a}function dv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const oS=new Set(["width","height","top","left","right","bottom",...Ol]),MV={test:t=>t==="auto",parse:t=>t},lS=t=>e=>e.test(t),uS=[Nl,Ie,Zi,Fs,SO,AO,MV],gE=t=>uS.find(lS(t));function kV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DA(t):!0}const PV=new Set(["brightness","contrast","saturate","opacity"]);function LV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sv)||[];if(!r)return t;const a=n.replace(r,"");let l=PV.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const UV=/\b([a-z-]*)\(.*?\)/gu,ny={...ea,getAnimatableNone:t=>{const e=t.match(UV);return e?e.map(LV).join(" "):t}},yE={...Nl,transform:Math.round},jV={rotate:Fs,rotateX:Fs,rotateY:Fs,rotateZ:Fs,scale:vf,scaleX:vf,scaleY:vf,scaleZ:vf,skew:Fs,skewX:Fs,skewY:Fs,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:dc,originX:rE,originY:rE,originZ:Ie},mv={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...jV,zIndex:yE,fillOpacity:dc,strokeOpacity:dc,numOctaves:yE},zV={...mv,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:ny,WebkitFilter:ny},cS=t=>zV[t];function hS(t,e){let n=cS(t);return n!==ny&&(n=ea),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BV=new Set(["auto","none","0"]);function FV(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!BV.has(l)&&mc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=hS(n,a)}class HV extends fv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),rv(p))){const y=aS(p,n.current);y!==void 0&&(e[m]=y),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!oS.has(r)||e.length!==2)return;const[a,l]=e,c=gE(a),f=gE(l);if(c!==f)if(fE(c)&&fE(f))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Qa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||kV(e[a]))&&r.push(a);r.length&&FV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function qV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const fS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function GV(t){return IA(t)&&"offsetHeight"in t}const vE=30,KV=t=>!isNaN(parseFloat(t));class $V{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const a=Hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ev);const r=this.events[e].add(n);return e==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vE);return NA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bl(t,e){return new $V(t,e)}const{schedule:pv}=FA(queueMicrotask,!1),Ri={x:!1,y:!1};function dS(){return Ri.x||Ri.y}function YV(t){return t==="x"||t==="y"?Ri[t]?null:(Ri[t]=!0,()=>{Ri[t]=!1}):Ri.x||Ri.y?null:(Ri.x=Ri.y=!0,()=>{Ri.x=Ri.y=!1})}function mS(t,e){const n=qV(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function _E(t){return!(t.pointerType==="touch"||dS())}function QV(t,e,n={}){const[r,a,l]=mS(t,n),c=f=>{if(!_E(f))return;const{target:m}=f,p=e(m,f);if(typeof p!="function"||!m)return;const y=_=>{_E(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const pS=(t,e)=>e?t===e?!0:pS(t,e.parentElement):!1,gv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WV(t){return XV.has(t.tagName)||t.tabIndex!==-1}const kf=new WeakSet;function bE(t){return e=>{e.key==="Enter"&&t(e)}}function mg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bE(()=>{if(kf.has(n))return;mg(n,"down");const a=bE(()=>{mg(n,"up")}),l=()=>mg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function TE(t){return gv(t)&&!dS()}function JV(t,e,n={}){const[r,a,l]=mS(t,n),c=f=>{const m=f.currentTarget;if(!TE(f))return;kf.add(m);const p=e(m,f),y=(R,N)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),kf.has(m)&&kf.delete(m),TE(R)&&typeof p=="function"&&p(R,{success:N})},_=R=>{y(R,m===window||m===document||n.useGlobalTarget||pS(m,R.target))},E=R=>{y(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),GV(f)&&(f.addEventListener("focus",p=>ZV(p,a)),!WV(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function gS(t){return IA(t)&&"ownerSVGElement"in t}function eM(t){return gS(t)&&t.tagName==="svg"}const wn=t=>!!(t&&t.getVelocity),tM=[...uS,Kt,ea],nM=t=>tM.find(lS(t)),yS=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function iM(t=!0){const e=O.useContext(Qy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const c=O.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const vS=O.createContext({strict:!1}),EE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tl={};for(const t in EE)Tl[t]={isEnabled:e=>EE[t].some(n=>!!e[n])};function rM(t){for(const e in t)Tl[e]={...Tl[e],...t[e]}}const sM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sM.has(t)}let _S=t=>!Jf(t);function aM(t){typeof t=="function"&&(_S=e=>e.startsWith("on")?!Jf(e):t(e))}try{aM(require("@emotion/is-prop-valid").default)}catch{}function oM(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(_S(a)||n===!0&&Jf(a)||!e&&!Jf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Cd=O.createContext({});function Id(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pc(t){return typeof t=="string"||Array.isArray(t)}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vv=["initial",...yv];function Dd(t){return Id(t.animate)||vv.some(e=>pc(t[e]))}function bS(t){return!!(Dd(t)||t.variants)}function lM(t,e){if(Dd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pc(n)?n:void 0,animate:pc(r)?r:void 0}}return t.inherit!==!1?e:{}}function uM(t){const{initial:e,animate:n}=lM(t,O.useContext(Cd));return O.useMemo(()=>({initial:e,animate:n}),[wE(e),wE(n)])}function wE(t){return Array.isArray(t)?t.join(" "):t}const gc={};function cM(t){for(const e in t)gc[e]=t[e],iv(e)&&(gc[e].isCSSVariable=!0)}function TS(t,{layout:e,layoutId:n}){return Vl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gc[t]||t==="opacity")}const hM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fM=Ol.length;function dM(t,e,n){let r="",a=!0;for(let l=0;l<fM;l++){const c=Ol[l],f=t[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=fS(f,mv[c]);if(!m){a=!1;const y=hM[c]||c;r+=`${y}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function _v(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let c=!1,f=!1;for(const m in e){const p=e[m];if(Vl.has(m)){c=!0;continue}else if(iv(m)){a[m]=p;continue}else{const y=fS(p,mv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(e.transform||(c||n?r.transform=dM(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ES(t,e,n){for(const r in e)!wn(e[r])&&!TS(r,n)&&(t[r]=e[r])}function mM({transformTemplate:t},e){return O.useMemo(()=>{const n=bv();return _v(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pM(t,e){const n=t.style||{},r={};return ES(r,n,t),Object.assign(r,mM(t,e)),r}function gM(t,e){const n={},r=pM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const yM={offset:"stroke-dashoffset",array:"stroke-dasharray"},vM={offset:"strokeDashoffset",array:"strokeDasharray"};function _M(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?yM:vM;t[l.offset]=Ie.transform(-r);const c=Ie.transform(e),f=Ie.transform(n);t[l.array]=`${c} ${f}`}function wS(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(_v(t,f,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:E}=t;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&_M(_,a,l,c,!1)}const AS=()=>({...bv(),attrs:{}}),SS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bM(t,e,n,r){const a=O.useMemo(()=>{const l=AS();return wS(l,e,SS(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ES(l,t.style,t),a.style={...l,...a.style}}return a}const TM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tv(t){return typeof t!="string"||t.includes("-")?!1:!!(TM.indexOf(t)>-1||/[A-Z]/u.test(t))}function EM(t,e,n,{latestValues:r},a,l=!1){const f=(Tv(t)?bM:gM)(e,r,a,t),m=oM(e,typeof t=="string",l),p=t!==O.Fragment?{...m,...f,ref:n}:{},{children:y}=e,_=O.useMemo(()=>wn(y)?y.get():y,[y]);return O.createElement(t,{...p,children:_})}function AE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ev(t,e,n,r){if(typeof e=="function"){const[a,l]=AE(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=AE(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Pf(t){return wn(t)?t.get():t}function wM({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:AM(n,r,a,t),renderState:e()}}function AM(t,e,n,r){const a={},l=r(t,{});for(const E in l)a[E]=Pf(l[E]);let{initial:c,animate:f}=t;const m=Dd(t),p=bS(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Id(_)){const E=Array.isArray(_)?_:[_];for(let R=0;R<E.length;R++){const N=Ev(t,E[R]);if(N){const{transitionEnd:L,transition:M,...B}=N;for(const Q in B){let F=B[Q];if(Array.isArray(F)){const le=y?F.length-1:0;F=F[le]}F!==null&&(a[Q]=F)}for(const Q in L)a[Q]=L[Q]}}}return a}const xS=t=>(e,n)=>{const r=O.useContext(Cd),a=O.useContext(Qy),l=()=>wM(t,e,r,a);return n?l():rO(l)};function wv(t,e,n){var l;const{style:r}=t,a={};for(const c in r)(wn(r[c])||e.style&&wn(e.style[c])||TS(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const SM=xS({scrapeMotionValuesFromProps:wv,createRenderState:bv});function RS(t,e,n){const r=wv(t,e,n);for(const a in t)if(wn(t[a])||wn(e[a])){const l=Ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const xM=xS({scrapeMotionValuesFromProps:RS,createRenderState:AS}),RM=Symbol.for("motionComponentSymbol");function al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CM(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):al(n)&&(n.current=r))},[e])}const Av=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IM="framerAppearId",CS="data-"+Av(IM),IS=O.createContext({});function DM(t,e,n,r,a){var L,M;const{visualElement:l}=O.useContext(Cd),c=O.useContext(vS),f=O.useContext(Qy),m=O.useContext(yS).reducedMotion,p=O.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=O.useContext(IS);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&NM(p.current,n,a,_);const E=O.useRef(!1);O.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const R=n[CS],N=O.useRef(!!R&&!((L=window.MotionHandoffIsComplete)!=null&&L.call(window,R))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,R)));return sO(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),N.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!N.current&&y.animationState&&y.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,R)}),N.current=!1),y.enteringChildren=void 0)}),y}function NM(t,e,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&al(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function DS(t){if(t)return t.options.allowProjection!==!1?t.projection:DS(t.parent)}function pg(t,{forwardMotionProps:e=!1}={},n,r){n&&rM(n);const a=Tv(t)?xM:SM;function l(f,m){let p;const y={...O.useContext(yS),...f,layoutId:OM(f)},{isStatic:_}=y,E=uM(f),R=a(f,_);if(!_&&Yy){VM();const N=MM(y);p=N.MeasureLayout,E.visualElement=DM(t,R,y,r,N.ProjectionNode)}return A.jsxs(Cd.Provider,{value:E,children:[p&&E.visualElement?A.jsx(p,{visualElement:E.visualElement,...y}):null,EM(t,f,CM(R,E.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=O.forwardRef(l);return c[RM]=t,c}function OM({layoutId:t}){const e=O.useContext(RA).id;return e&&t!==void 0?e+"-"+t:t}function VM(t,e){O.useContext(vS).strict}function MM(t){const{drag:e,layout:n}=Tl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kM(t,e){if(typeof Proxy>"u")return pg;const n=new Map,r=(l,c)=>pg(l,c,t,e),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,pg(c,void 0,t,e)),n.get(c))})}function NS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function PM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function LM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gg(t){return t===void 0||t===1}function iy({scale:t,scaleX:e,scaleY:n}){return!gg(t)||!gg(e)||!gg(n)}function qa(t){return iy(t)||OS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OS(t){return SE(t.x)||SE(t.y)}function SE(t){return t&&t!=="0%"}function ed(t,e,n){const r=t-n,a=e*r;return n+a}function xE(t,e,n,r,a){return a!==void 0&&(t=ed(t,a,r)),ed(t,n,r)+e}function ry(t,e=0,n=1,r,a){t.min=xE(t.min,e,n,r,a),t.max=xE(t.max,e,n,r,a)}function VS(t,{x:e,y:n}){ry(t.x,e.translate,e.scale,e.originPoint),ry(t.y,n.translate,n.scale,n.originPoint)}const RE=.999999999999,CE=1.0000000000001;function UM(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ll(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,VS(t,c)),r&&qa(l.latestValues)&&ll(t,l.latestValues))}e.x<CE&&e.x>RE&&(e.x=1),e.y<CE&&e.y>RE&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function IE(t,e,n,r,a=.5){const l=Et(t.min,t.max,a);ry(t,e,n,l,r)}function ll(t,e){IE(t.x,e.x,e.scaleX,e.scale,e.originX),IE(t.y,e.y,e.scaleY,e.scale,e.originY)}function MS(t,e){return NS(LM(t.getBoundingClientRect(),e))}function jM(t,e,n){const r=MS(t,n),{scroll:a}=e;return a&&(ol(r.x,a.offset.x),ol(r.y,a.offset.y)),r}const DE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:DE(),y:DE()}),NE=()=>({min:0,max:0}),Pt=()=>({x:NE(),y:NE()}),sy={current:null},kS={current:!1};function zM(){if(kS.current=!0,!!Yy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>sy.current=t.matches;t.addEventListener("change",e),e()}else sy.current=!1}const BM=new WeakMap;function FM(t,e,n){for(const r in e){const a=e[r],l=n[r];if(wn(a))t.addValue(r,a);else if(wn(l))t.addValue(r,bl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(r);t.addValue(r,bl(c!==void 0?c:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const OE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Hn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,bt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Dd(n),this.isVariantNode=bS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const R=_[E];m[E]!==void 0&&wn(R)&&R.set(m[E])}}mount(e){var n;this.current=e,BM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),kS.current||zM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Vl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Tl){const n=Tl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OE.length;r++){const a=OE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=FM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(CA(r)||DA(r))?r=parseFloat(r):!nM(r)&&ea.test(n)&&(r=hS(e,n)),this.setBaseTarget(e,wn(r)?r.get():r)),wn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Ev(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ev),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){pv.render(this.render)}}class PS extends HM{constructor(){super(...arguments),this.KeyframeResolver=HV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LS(t,{style:e,vars:n},r,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function qM(t){return window.getComputedStyle(t)}class GM extends PS{constructor(){super(...arguments),this.type="html",this.renderInstance=LS}readValueFromInstance(e,n){var r;if(Vl.has(n))return(r=this.projection)!=null&&r.isProjecting?Xg(n):lV(e,n);{const a=qM(e),l=(iv(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return MS(e,n)}build(e,n,r){_v(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return wv(e,n,r)}}const US=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KM(t,e,n,r){LS(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(US.has(a)?a:Av(a),e.attrs[a])}class $M extends PS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Vl.has(n)){const r=cS(n);return r&&r.default||0}return n=US.has(n)?n:Av(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return RS(e,n,r)}build(e,n,r){wS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){KM(e,n,r,a)}mount(e){this.isSVGTag=SS(e.tagName),super.mount(e)}}const YM=(t,e)=>Tv(t)?new $M(e):new GM(e,{allowProjection:t!==O.Fragment});function ml(t,e,n){const r=t.getProps();return Ev(r,e,n!==void 0?n:r.custom,t)}const ay=t=>Array.isArray(t);function QM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bl(n))}function XM(t){return ay(t)?t[t.length-1]||0:t}function WM(t,e){const n=ml(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=XM(l[c]);QM(t,c,f)}}function ZM(t){return!!(wn(t)&&t.add)}function oy(t,e){const n=t.getValue("willChange");if(ZM(n))return n.add(e);if(!n&&Kr.WillChange){const r=new Kr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function jS(t){return t.props[CS]}const JM=t=>t!==null;function ek(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(JM),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const tk={type:"spring",stiffness:500,damping:25,restSpeed:10},nk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ik={type:"keyframes",duration:.8},rk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sk=(t,{keyframes:e})=>e.length>2?ik:Vl.has(t)?t.startsWith("scale")?nk(e[1]):tk:rk;function ak({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Sv=(t,e,n,r={},a,l)=>c=>{const f=dv(r,t)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Wi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:E=>{e.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};ak(f)||Object.assign(y,sk(t,y)),y.duration&&(y.duration=Wi(y.duration)),y.repeatDelay&&(y.repeatDelay=Wi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ty(y),y.delay===0&&(_=!0)),(Kr.instantAnimations||Kr.skipAnimations)&&(_=!0,ty(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&e.get()!==void 0){const E=ek(y.keyframes,f);if(E!==void 0){bt.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new hv(y):new NV(y)};function ok({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zS(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...f}=e;r&&(l=r);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in f){const _=t.getValue(y,t.latestValues[y]??null),E=f[y];if(E===void 0||p&&ok(p,y))continue;const R={delay:n,...dv(l||{},y)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===N&&!R.velocity)continue;let L=!1;if(window.MotionHandoffAnimation){const B=jS(t);if(B){const Q=window.MotionHandoffAnimation(B,y,bt);Q!==null&&(R.startTime=Q,L=!0)}}oy(t,y),_.start(Sv(y,_,E,t.shouldReduceMotion&&oS.has(y)?{type:!1}:R,t,L));const M=_.animation;M&&m.push(M)}return c&&Promise.all(m).then(()=>{bt.update(()=>{c&&WM(t,c)})}),m}function BS(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),c=t.size,f=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:f-l*r}function ly(t,e,n={}){var m;const r=ml(t,e,n.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(zS(t,r,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return lk(t,e,p,y,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function lk(t,e,n=0,r=0,a=0,l=1,c){const f=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),f.push(ly(m,e,{...c,delay:n+(typeof r=="function"?0:r)+BS(t.variantChildren,m,r,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(f)}function uk(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>ly(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=ly(t,e,n);else{const a=typeof e=="function"?ml(t,e,n.custom):e;r=Promise.all(zS(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function FS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ck=vv.length;function HS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?HS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ck;n++){const r=vv[n],a=t.props[r];(pc(a)||a===!1)&&(e[r]=a)}return e}const hk=[...yv].reverse(),fk=yv.length;function dk(t){return e=>Promise.all(e.map(({animation:n,options:r})=>uk(t,n,r)))}function mk(t){let e=dk(t),n=VE(),r=!0;const a=m=>(p,y)=>{var E;const _=ml(t,y,m==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:R,transitionEnd:N,...L}=_;p={...p,...L,...N}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,y=HS(t.parent)||{},_=[],E=new Set;let R={},N=1/0;for(let M=0;M<fk;M++){const B=hk[M],Q=n[B],F=p[B]!==void 0?p[B]:y[B],le=pc(F),ue=B===m?Q.isActive:null;ue===!1&&(N=M);let ce=F===y[B]&&F!==p[B]&&le;if(ce&&r&&t.manuallyAnimateOnMount&&(ce=!1),Q.protectedKeys={...R},!Q.isActive&&ue===null||!F&&!Q.prevProp||Id(F)||typeof F=="boolean")continue;const I=pk(Q.prevProp,F);let S=I||B===m&&Q.isActive&&!ce&&le||M>N&&le,C=!1;const k=Array.isArray(F)?F:[F];let U=k.reduce(a(B),{});ue===!1&&(U={});const{prevResolvedValues:z={}}=Q,D={...z,...U},nt=se=>{S=!0,E.has(se)&&(C=!0,E.delete(se)),Q.needsAnimating[se]=!0;const ne=t.getValue(se);ne&&(ne.liveStyle=!1)};for(const se in D){const ne=U[se],Ne=z[se];if(R.hasOwnProperty(se))continue;let De=!1;ay(ne)&&ay(Ne)?De=!FS(ne,Ne):De=ne!==Ne,De?ne!=null?nt(se):E.add(se):ne!==void 0&&E.has(se)?nt(se):Q.protectedKeys[se]=!0}Q.prevProp=F,Q.prevResolvedValues=U,Q.isActive&&(R={...R,...U}),r&&t.blockInitialAnimation&&(S=!1);const Ze=ce&&I;S&&(!Ze||C)&&_.push(...k.map(se=>{const ne={type:B};if(typeof se=="string"&&r&&!Ze&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,De=ml(Ne,se);if(Ne.enteringChildren&&De){const{delayChildren:P}=De.transition||{};ne.delay=BS(Ne.enteringChildren,t,P)}}return{animation:se,options:ne}}))}if(E.size){const M={};if(typeof p.initial!="boolean"){const B=ml(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(M.transition=B.transition)}E.forEach(B=>{const Q=t.getBaseTarget(B),F=t.getValue(B);F&&(F.liveStyle=!0),M[B]=Q??null}),_.push({animation:M})}let L=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=t.variantChildren)==null||_.forEach(E=>{var R;return(R=E.animationState)==null?void 0:R.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=VE(),r=!0}}}function pk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FS(e,t):!1}function Fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VE(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class ua{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gk extends ua{constructor(e){super(e),e.animationState||(e.animationState=mk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Id(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let yk=0;class vk extends ua{constructor(){super(...arguments),this.id=yk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _k={animation:{Feature:gk},exit:{Feature:vk}};function yc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Oc(t){return{point:{x:t.pageX,y:t.pageY}}}const bk=t=>e=>gv(e)&&t(e,Oc(e));function nc(t,e,n,r){return yc(t,e,bk(n),r)}const qS=1e-4,Tk=1-qS,Ek=1+qS,GS=.01,wk=0-GS,Ak=0+GS;function Vn(t){return t.max-t.min}function Sk(t,e,n){return Math.abs(t-e)<=n}function ME(t,e,n,r=.5){t.origin=r,t.originPoint=Et(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),t.translate=Et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Tk&&t.scale<=Ek||isNaN(t.scale))&&(t.scale=1),(t.translate>=wk&&t.translate<=Ak||isNaN(t.translate))&&(t.translate=0)}function ic(t,e,n,r){ME(t.x,e.x,n.x,r?r.originX:void 0),ME(t.y,e.y,n.y,r?r.originY:void 0)}function kE(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function xk(t,e,n){kE(t.x,e.x,n.x),kE(t.y,e.y,n.y)}function PE(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function rc(t,e,n){PE(t.x,e.x,n.x),PE(t.y,e.y,n.y)}function di(t){return[t("x"),t("y")]}const KS=({current:t})=>t?t.ownerDocument.defaultView:null,LE=(t,e)=>Math.abs(t-e);function Rk(t,e){const n=LE(t.x,e.x),r=LE(t.y,e.y);return Math.sqrt(n**2+r**2)}class $S{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=vg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,N=Rk(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!N)return;const{point:L}=E,{timestamp:M}=dn;this.history.push({...L,timestamp:M});const{onStart:B,onMove:Q}=this.handlers;R||(B&&B(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),Q&&Q(this.lastMoveEvent,E)},this.handlePointerMove=(E,R)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=yg(R,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(E,R)=>{this.end();const{onEnd:N,onSessionEnd:L,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=vg(E.type==="pointercancel"?this.lastMoveEventInfo:yg(R,this.transformPagePoint),this.history);this.startEvent&&N&&N(E,B),L&&L(E,B)},!gv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const f=Oc(e),m=yg(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=dn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,vg(m,this.history)),this.removeListeners=Ic(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function yg(t,e){return e?{point:e(t.point)}:t}function UE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:UE(t,YS(e)),offset:UE(t,Ck(e)),velocity:Ik(e,.1)}}function Ck(t){return t[0]}function YS(t){return t[t.length-1]}function Ik(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=YS(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Wi(e)));)n--;if(!r)return{x:0,y:0};const l=pi(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Dk(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Et(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Et(n,t,r.max):Math.min(t,n)),t}function jE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Nk(t,{top:e,left:n,bottom:r,right:a}){return{x:jE(t.x,n,a),y:jE(t.y,e,r)}}function zE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Ok(t,e){return{x:zE(t.x,e.x),y:zE(t.y,e.y)}}function Vk(t,e){let n=.5;const r=Vn(t),a=Vn(e);return a>r?n=fc(e.min,e.max-r,t.min):r>a&&(n=fc(t.min,t.max-a,e.min)),Gr(0,1,n)}function Mk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uy=.35;function kk(t=uy){return t===!1?t=0:t===!0&&(t=uy),{x:BE(t,"left","right"),y:BE(t,"top","bottom")}}function BE(t,e,n){return{min:FE(t,e),max:FE(t,n)}}function FE(t,e){return typeof t=="number"?t:t[e]||0}const Pk=new WeakMap;class Lk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oc(_).point)},c=(_,E)=>{const{drag:R,dragPropagation:N,onDragStart:L}=this.getProps();if(R&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=YV(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(B=>{let Q=this.getAxisMotionValue(B).get()||0;if(Zi.test(Q)){const{projection:F}=this.visualElement;if(F&&F.layout){const le=F.layout.layoutBox[B];le&&(Q=Vn(le)*(parseFloat(Q)/100))}}this.originPoint[B]=Q}),L&&bt.postRender(()=>L(_,E)),oy(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},f=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E;const{dragPropagation:R,dragDirectionLock:N,onDirectionLock:L,onDrag:M}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=E;if(N&&this.currentDirection===null){this.currentDirection=Uk(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",E.point,B),this.updateAxis("y",E.point,B),this.visualElement.render(),M&&M(_,E)},m=(_,E)=>{this.latestPointerEvent=_,this.latestPanInfo=E,this.stop(_,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>di(_=>{var E;return this.getAnimationState(_)==="paused"&&((E=this.getAxisMotionValue(_).animation)==null?void 0:E.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new $S(e,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:KS(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&bt.postRender(()=>f(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!_f(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Dk(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&al(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Nk(r.layoutBox,e):this.constraints=!1,this.elastic=kk(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&di(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Mk(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!al(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=jM(r,a.root,this.visualElement.getTransformPagePoint());let c=Ok(a.layout.layoutBox,l);if(n){const f=n(PM(c));this.hasMutatedConstraints=!!f,f&&(c=NS(f))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=di(y=>{if(!_f(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,R=a?40:1e7,N={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return oy(this.visualElement,e),r.start(Sv(e,r,0,n,this.visualElement,!1))}stopAnimation(){di(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){di(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){di(n=>{const{drag:r}=this.getProps();if(!_f(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(e[n]-Et(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!al(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};di(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=Vk({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),di(c=>{if(!_f(c,e,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(Et(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;Pk.set(this.visualElement,this);const e=this.visualElement.current,n=nc(e,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();al(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),bt.read(r);const c=yc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(di(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=uy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function _f(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Uk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jk extends ua{constructor(e){super(e),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new Lk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}unmount(){this.removeGroupControls(),this.removeListeners()}}const HE=t=>(e,n)=>{t&&bt.postRender(()=>t(e,n))};class zk extends ua{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(e){this.session=new $S(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:HE(e),onStart:HE(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&bt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=qE(t,e.target.x),r=qE(t,e.target.y);return`${n}% ${r}%`}},Bk={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=ea.parse(t);if(a.length>5)return r;const l=ea.createTransformer(t),c=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=f,a[1+c]/=m;const p=Et(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let _g=!1;class Fk extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;cM(Hk),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),_g&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,_g=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||bt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;_g=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QS(t){const[e,n]=iM(),r=O.useContext(RA);return A.jsx(Fk,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(IS),isPresent:e,safeToRemove:n})}const Hk={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:Bk};function qk(t,e,n){const r=wn(t)?t:bl(t);return r.start(Sv("",r,e,n)),r.animation}const Gk=(t,e)=>t.depth-e.depth;class Kk{constructor(){this.children=[],this.isDirty=!1}add(e){Xy(this.children,e),this.isDirty=!0}remove(e){Wy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Gk),this.isDirty=!1,this.children.forEach(e)}}function $k(t,e){const n=Hn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Js(r),t(l-e))};return bt.setup(r,!0),()=>Js(r)}const XS=["TopLeft","TopRight","BottomLeft","BottomRight"],Yk=XS.length,GE=t=>typeof t=="string"?parseFloat(t):t,KE=t=>typeof t=="number"||Ie.test(t);function Qk(t,e,n,r,a,l){a?(t.opacity=Et(0,n.opacity??1,Xk(r)),t.opacityExit=Et(e.opacity??1,0,Wk(r))):l&&(t.opacity=Et(e.opacity??1,n.opacity??1,r));for(let c=0;c<Yk;c++){const f=`border${XS[c]}Radius`;let m=$E(e,f),p=$E(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||KE(m)===KE(p)?(t[f]=Math.max(Et(GE(m),GE(p),r),0),(Zi.test(p)||Zi.test(m))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Et(e.rotate||0,n.rotate||0,r))}function $E(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xk=WS(0,.5,UA),Wk=WS(.5,.95,gi);function WS(t,e,n){return r=>r<t?0:r>e?1:n(fc(t,e,r))}function YE(t,e){t.min=e.min,t.max=e.max}function fi(t,e){YE(t.x,e.x),YE(t.y,e.y)}function QE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XE(t,e,n,r,a){return t-=e,t=ed(t,1/n,r),a!==void 0&&(t=ed(t,1/a,r)),t}function Zk(t,e=0,n=1,r=.5,a,l=t,c=t){if(Zi.test(e)&&(e=parseFloat(e),e=Et(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=Et(l.min,l.max,r);t===l&&(f-=e),t.min=XE(t.min,e,n,f,a),t.max=XE(t.max,e,n,f,a)}function WE(t,e,[n,r,a],l,c){Zk(t,e[n],e[r],e[a],e.scale,l,c)}const Jk=["x","scaleX","originX"],eP=["y","scaleY","originY"];function ZE(t,e,n,r){WE(t.x,e,Jk,n?n.x:void 0,r?r.x:void 0),WE(t.y,e,eP,n?n.y:void 0,r?r.y:void 0)}function JE(t){return t.translate===0&&t.scale===1}function ZS(t){return JE(t.x)&&JE(t.y)}function ew(t,e){return t.min===e.min&&t.max===e.max}function tP(t,e){return ew(t.x,e.x)&&ew(t.y,e.y)}function tw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JS(t,e){return tw(t.x,e.x)&&tw(t.y,e.y)}function nw(t){return Vn(t.x)/Vn(t.y)}function iw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nP{constructor(){this.members=[]}add(e){Xy(this.members,e),e.scheduleRender()}remove(e){if(Wy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iP(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:R,skewY:N}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),R&&(r+=`skewX(${R}deg) `),N&&(r+=`skewY(${N}deg) `)}const f=t.x.scale*e.x,m=t.y.scale*e.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const bg=["","X","Y","Z"],rP=1e3;let sP=0;function Tg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ex(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ex(r)}function tx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=e==null?void 0:e()){this.id=sP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lP),this.nodes.forEach(fP),this.nodes.forEach(dP),this.nodes.forEach(uP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kk)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new ev),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=gS(c)&&!eM(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),t){let y,_=0;const E=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,y&&y(),y=$k(E,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(aw)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||vP,{onLayoutAnimationStart:L,onLayoutAnimationComplete:M}=p.getProps(),B=!this.targetLayout||!JS(this.targetLayout,R),Q=!_&&E;if(this.options.layoutRoot||this.resumeFrom||Q||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...dv(N,"layout"),onPlay:L,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,Q)}else _||aw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ex(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hP),this.nodes.forEach(aP),this.nodes.forEach(oP)):this.nodes.forEach(sw),this.clearAllSnapshots();const f=Hn.now();dn.delta=Gr(0,1e3/60,f-dn.timestamp),dn.timestamp=f,dn.isProcessing=!0,ug.update.process(dn),ug.preRender.process(dn),ug.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cP),this.sharedNodes.forEach(pP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vn(this.snapshot.measuredBox.x)&&!Vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!ZS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||qa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),_P(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Pt();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(bP))){const{scroll:y}=this.root;y&&(ol(f.x,y.offset.x),ol(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Pt();if(fi(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&fi(f,c),ol(f.x,_.offset.x),ol(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Pt();fi(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ll(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qa(y.latestValues)&&ll(m,y.latestValues)}return qa(this.latestValues)&&ll(m,this.latestValues),m}removeTransform(c){const f=Pt();fi(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!qa(p.latestValues))continue;iy(p.latestValues)&&p.updateSnapshot();const y=Pt(),_=p.measurePageBox();fi(y,_),ZE(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return qa(this.latestValues)&&ZE(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),rc(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),VS(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),rc(this.relativeTargetOrigin,this.target,R.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iy(this.parent.latestValues)||OS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;fi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;UM(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Pt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QE(this.prevProjectionDelta.x,this.projectionDelta.x),QE(this.prevProjectionDelta.y,this.projectionDelta.y)),ic(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!iw(this.projectionDelta.x,this.prevProjectionDelta.x)||!iw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ul(),this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Pt(),R=m?m.source:void 0,N=this.layout?this.layout.source:void 0,L=R!==N,M=this.getStack(),B=!M||M.members.length<=1,Q=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(yP));this.animationProgress=0;let F;this.mixTargetDelta=le=>{const ue=le/1e3;ow(_.x,c.x,ue),ow(_.y,c.y,ue),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rc(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gP(this.relativeTarget,this.relativeTargetOrigin,E,ue),F&&tP(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Pt()),fi(F,this.relativeTarget)),L&&(this.animationValues=y,Qk(y,p,this.latestValues,ue,Q,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ue},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bl(0)),this.currentAnimation=qk(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&nx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Pt();const _=Vn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=Vn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}fi(f,m),ll(f,y),ic(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new nP),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Tg("z",c,p,this.animationValues);for(let y=0;y<bg.length;y++)Tg(`rotate${bg[y]}`,c,p,this.animationValues),Tg(`skew${bg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Pf(f==null?void 0:f.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Pf(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=iP(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),c.transform=_;const{x:E,y:R}=this.projectionDelta;c.transformOrigin=`${E.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in gc){if(y[N]===void 0)continue;const{correct:L,applyTo:M,isCSSVariable:B}=gc[N],Q=_==="none"?y[N]:L(y[N],p);if(M){const F=M.length;for(let le=0;le<F;le++)c[M[le]]=Q}else B?this.options.visualElement.renderState.vars[N]=Q:c[N]=Q}this.options.layoutId&&(c.pointerEvents=p===this?Pf(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(rw),this.root.sharedNodes.clear()}}}function aP(t){t.updateLayout()}function oP(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?di(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],R=Vn(E);E.min=r[_].min,E.max=E.min+R}):nx(l,e.layoutBox,r)&&di(_=>{const E=c?e.measuredBox[_]:e.layoutBox[_],R=Vn(r[_]);E.max=E.min+R,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+R)});const f=ul();ic(f,r,e.layoutBox);const m=ul();c?ic(m,t.applyTransform(a,!0),e.measuredBox):ic(m,r,e.layoutBox);const p=!ZS(f);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:R}=_;if(E&&R){const N=Pt();rc(N,e.layoutBox,E.layoutBox);const L=Pt();rc(L,r,R.layoutBox),JS(N,L)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=N,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lP(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function uP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cP(t){t.clearSnapshot()}function rw(t){t.clearMeasurements()}function sw(t){t.isLayoutDirty=!1}function hP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function aw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fP(t){t.resolveTargetDelta()}function dP(t){t.calcProjection()}function mP(t){t.resetSkewAndRotation()}function pP(t){t.removeLeadSnapshot()}function ow(t,e,n){t.translate=Et(e.translate,0,n),t.scale=Et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lw(t,e,n,r){t.min=Et(e.min,n.min,r),t.max=Et(e.max,n.max,r)}function gP(t,e,n,r){lw(t.x,e.x,n.x,r),lw(t.y,e.y,n.y,r)}function yP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vP={duration:.45,ease:[.4,0,.1,1]},uw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cw=uw("applewebkit/")&&!uw("chrome/")?Math.round:gi;function hw(t){t.min=cw(t.min),t.max=cw(t.max)}function _P(t){hw(t.x),hw(t.y)}function nx(t,e,n){return t==="position"||t==="preserve-aspect"&&!Sk(nw(e),nw(n),.2)}function bP(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const TP=tx({attachResizeListener:(t,e)=>yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},ix=tx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Eg.current){const t=new TP({});t.mount(window),t.setOptions({layoutScroll:!0}),Eg.current=t}return Eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),EP={pan:{Feature:zk},drag:{Feature:jk,ProjectionNode:ix,MeasureLayout:QS}};function fw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&bt.postRender(()=>l(e,Oc(e)))}class wP extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=QV(e,(n,r)=>(fw(this.node,r,"Start"),a=>fw(this.node,a,"End"))))}unmount(){}}class AP extends ua{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function dw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&bt.postRender(()=>l(e,Oc(e)))}class SP extends ua{mount(){const{current:e}=this.node;e&&(this.unmount=JV(e,(n,r)=>(dw(this.node,r,"Start"),(a,{success:l})=>dw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cy=new WeakMap,wg=new WeakMap,xP=t=>{const e=cy.get(t.target);e&&e(t)},RP=t=>{t.forEach(xP)};function CP({root:t,...e}){const n=t||document;wg.has(n)||wg.set(n,{});const r=wg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(RP,{root:t,...e})),r[a]}function IP(t,e,n){const r=CP(e);return cy.set(t,n),r.observe(t),()=>{cy.delete(t),r.unobserve(t)}}const DP={some:0,all:1};class NP extends ua{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:DP[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return IP(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OP(e,n))&&this.startObserver()}unmount(){}}function OP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VP={inView:{Feature:NP},tap:{Feature:SP},focus:{Feature:AP},hover:{Feature:wP}},MP={layout:{ProjectionNode:ix,MeasureLayout:QS}},kP={..._k,...VP,...EP,...MP},rx=kM(kP,YM);function sx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=sx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function PP(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=sx(t))&&(r&&(r+=" "),r+=e);return r}const xv="-",LP=t=>{const e=jP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const f=c.split(xv);return f[0]===""&&f.length!==1&&f.shift(),ax(f,e)||UP(c)},getConflictingClassGroupIds:(c,f)=>{const m=n[c]||[];return f&&r[c]?[...m,...r[c]]:m}}},ax=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),a=r?ax(t.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const l=t.join(xv);return(c=e.validators.find(({validator:f})=>f(l)))==null?void 0:c.classGroupId},mw=/^\[(.+)\]$/,UP=t=>{if(mw.test(t)){const e=mw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},jP=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const a in n)hy(n[a],r,a,e);return r},hy=(t,e,n,r)=>{t.forEach(a=>{if(typeof a=="string"){const l=a===""?e:pw(e,a);l.classGroupId=n;return}if(typeof a=="function"){if(zP(a)){hy(a(r),e,n,r);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,c])=>{hy(c,pw(e,l),n,r)})})},pw=(t,e)=>{let n=t;return e.split(xv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zP=t=>t.isThemeGetter,BP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const a=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=r.get(l))!==void 0)return a(l,c),c},set(l,c){n.has(l)?n.set(l,c):a(l,c)}}},fy="!",dy=":",FP=dy.length,HP=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=a=>{const l=[];let c=0,f=0,m=0,p;for(let N=0;N<a.length;N++){let L=a[N];if(c===0&&f===0){if(L===dy){l.push(a.slice(m,N)),m=N+FP;continue}if(L==="/"){p=N;continue}}L==="["?c++:L==="]"?c--:L==="("?f++:L===")"&&f--}const y=l.length===0?a:a.substring(m),_=qP(y),E=_!==y,R=p&&p>m?p-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:R}};if(e){const a=e+dy,l=r;r=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},qP=t=>t.endsWith(fy)?t.substring(0,t.length-1):t.startsWith(fy)?t.substring(1):t,GP=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let l=[];return r.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},KP=t=>({cache:BP(t.cacheSize),parseClassName:HP(t),sortModifiers:GP(t),...LP(t)}),$P=/\s+/,YP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=t.trim().split($P);let m="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:_,modifiers:E,hasImportantModifier:R,baseClassName:N,maybePostfixModifierPosition:L}=n(y);if(_){m=y+(m.length>0?" "+m:m);continue}let M=!!L,B=r(M?N.substring(0,L):N);if(!B){if(!M){m=y+(m.length>0?" "+m:m);continue}if(B=r(N),!B){m=y+(m.length>0?" "+m:m);continue}M=!1}const Q=l(E).join(":"),F=R?Q+fy:Q,le=F+B;if(c.includes(le))continue;c.push(le);const ue=a(B,M);for(let ce=0;ce<ue.length;++ce){const I=ue[ce];c.push(F+I)}m=y+(m.length>0?" "+m:m)}return m};function QP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ox(e))&&(r&&(r+=" "),r+=n);return r}const ox=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ox(t[r]))&&(n&&(n+=" "),n+=e);return n};function XP(t,...e){let n,r,a,l=c;function c(m){const p=e.reduce((y,_)=>_(y),t());return n=KP(p),r=n.cache.get,a=n.cache.set,l=f,f(m)}function f(m){const p=r(m);if(p)return p;const y=YP(m,n);return a(m,y),y}return function(){return l(QP.apply(null,arguments))}}const Zt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ux=/^\((?:(\w[\w-]*):)?(.+)\)$/i,WP=/^\d+\/\d+$/,ZP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,t4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=t=>WP.test(t),je=t=>!!t&&!Number.isNaN(Number(t)),zs=t=>!!t&&Number.isInteger(Number(t)),Ag=t=>t.endsWith("%")&&je(t.slice(0,-1)),Ur=t=>ZP.test(t),i4=()=>!0,r4=t=>JP.test(t)&&!e4.test(t),cx=()=>!1,s4=t=>t4.test(t),a4=t=>n4.test(t),o4=t=>!ye(t)&&!ve(t),l4=t=>Ml(t,dx,cx),ye=t=>lx.test(t),Ha=t=>Ml(t,mx,r4),Sg=t=>Ml(t,d4,je),gw=t=>Ml(t,hx,cx),u4=t=>Ml(t,fx,a4),bf=t=>Ml(t,px,s4),ve=t=>ux.test(t),qu=t=>kl(t,mx),c4=t=>kl(t,m4),yw=t=>kl(t,hx),h4=t=>kl(t,dx),f4=t=>kl(t,fx),Tf=t=>kl(t,px,!0),Ml=(t,e,n)=>{const r=lx.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},kl=(t,e,n=!1)=>{const r=ux.exec(t);return r?r[1]?e(r[1]):n:!1},hx=t=>t==="position"||t==="percentage",fx=t=>t==="image"||t==="url",dx=t=>t==="length"||t==="size"||t==="bg-size",mx=t=>t==="length",d4=t=>t==="number",m4=t=>t==="family-name",px=t=>t==="shadow",p4=()=>{const t=Zt("color"),e=Zt("font"),n=Zt("text"),r=Zt("font-weight"),a=Zt("tracking"),l=Zt("leading"),c=Zt("breakpoint"),f=Zt("container"),m=Zt("spacing"),p=Zt("radius"),y=Zt("shadow"),_=Zt("inset-shadow"),E=Zt("text-shadow"),R=Zt("drop-shadow"),N=Zt("blur"),L=Zt("perspective"),M=Zt("aspect"),B=Zt("ease"),Q=Zt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ue=()=>[...le(),ve,ye],ce=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[ve,ye,m],C=()=>[Jo,"full","auto",...S()],k=()=>[zs,"none","subgrid",ve,ye],U=()=>["auto",{span:["full",zs,ve,ye]},zs,ve,ye],z=()=>[zs,"auto",ve,ye],D=()=>["auto","min","max","fr",ve,ye],nt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ze=()=>["start","end","center","stretch","center-safe","end-safe"],W=()=>["auto",...S()],se=()=>[Jo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],ne=()=>[t,ve,ye],Ne=()=>[...le(),yw,gw,{position:[ve,ye]}],De=()=>["no-repeat",{repeat:["","x","y","space","round"]}],P=()=>["auto","cover","contain",h4,l4,{size:[ve,ye]}],ee=()=>[Ag,qu,Ha],$=()=>["","none","full",p,ve,ye],fe=()=>["",je,qu,Ha],Te=()=>["solid","dashed","dotted","double"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[je,Ag,yw,gw],vt=()=>["","none",N,ve,ye],Qe=()=>["none",je,ve,ye],jt=()=>["none",je,ve,ye],Sn=()=>[je,ve,ye],yn=()=>[Jo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ur],breakpoint:[Ur],color:[i4],container:[Ur],"drop-shadow":[Ur],ease:["in","out","in-out"],font:[o4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ur],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ur],shadow:[Ur],spacing:["px",je],text:[Ur],"text-shadow":[Ur],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jo,ye,ve,M]}],container:["container"],columns:[{columns:[je,ye,ve,f]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ue()}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[zs,"auto",ve,ye]}],basis:[{basis:[Jo,"full","auto",f,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,Jo,"auto","initial","none",ye]}],grow:[{grow:["",je,ve,ye]}],shrink:[{shrink:["",je,ve,ye]}],order:[{order:[zs,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...nt(),"normal"]}],"justify-items":[{"justify-items":[...Ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ze()]}],"align-content":[{content:["normal",...nt()]}],"align-items":[{items:[...Ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":nt()}],"place-items":[{"place-items":[...Ze(),"baseline"]}],"place-self":[{"place-self":["auto",...Ze()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:W()}],mx:[{mx:W()}],my:[{my:W()}],ms:[{ms:W()}],me:[{me:W()}],mt:[{mt:W()}],mr:[{mr:W()}],mb:[{mb:W()}],ml:[{ml:W()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[f,"screen",...se()]}],"min-w":[{"min-w":[f,"screen","none",...se()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,qu,Ha]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ve,Sg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ag,ye]}],"font-family":[{font:[c4,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ve,ye]}],"line-clamp":[{"line-clamp":[je,"none",ve,Sg]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",ve,Ha]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[je,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ne()}],"bg-repeat":[{bg:De()}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zs,ve,ye],radial:["",ve,ye],conic:[zs,ve,ye]},f4,u4]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:$()}],"rounded-s":[{"rounded-s":$()}],"rounded-e":[{"rounded-e":$()}],"rounded-t":[{"rounded-t":$()}],"rounded-r":[{"rounded-r":$()}],"rounded-b":[{"rounded-b":$()}],"rounded-l":[{"rounded-l":$()}],"rounded-ss":[{"rounded-ss":$()}],"rounded-se":[{"rounded-se":$()}],"rounded-ee":[{"rounded-ee":$()}],"rounded-es":[{"rounded-es":$()}],"rounded-tl":[{"rounded-tl":$()}],"rounded-tr":[{"rounded-tr":$()}],"rounded-br":[{"rounded-br":$()}],"rounded-bl":[{"rounded-bl":$()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Te(),"hidden","none"]}],"divide-style":[{divide:[...Te(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...Te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,ve,ye]}],"outline-w":[{outline:["",je,qu,Ha]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",y,Tf,bf]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",_,Tf,bf]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[je,Ha]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",E,Tf,bf]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[je,ve,ye]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ne()}],"mask-repeat":[{mask:De()}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:vt()}],brightness:[{brightness:[je,ve,ye]}],contrast:[{contrast:[je,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",R,Tf,bf]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",je,ve,ye]}],"hue-rotate":[{"hue-rotate":[je,ve,ye]}],invert:[{invert:["",je,ve,ye]}],saturate:[{saturate:[je,ve,ye]}],sepia:[{sepia:["",je,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":vt()}],"backdrop-brightness":[{"backdrop-brightness":[je,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[je,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",je,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[je,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[je,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",je,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",ve,ye]}],ease:[{ease:["linear","initial",B,ve,ye]}],delay:[{delay:[je,ve,ye]}],animate:[{animate:["none",Q,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[L,ve,ye]}],"perspective-origin":[{"perspective-origin":ue()}],rotate:[{rotate:Qe()}],"rotate-x":[{"rotate-x":Qe()}],"rotate-y":[{"rotate-y":Qe()}],"rotate-z":[{"rotate-z":Qe()}],scale:[{scale:jt()}],"scale-x":[{"scale-x":jt()}],"scale-y":[{"scale-y":jt()}],"scale-z":[{"scale-z":jt()}],"scale-3d":["scale-3d"],skew:[{skew:Sn()}],"skew-x":[{"skew-x":Sn()}],"skew-y":[{"skew-y":Sn()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:ue()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:yn()}],"translate-x":[{"translate-x":yn()}],"translate-y":[{"translate-y":yn()}],"translate-z":[{"translate-z":yn()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[je,qu,Ha,Sg]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},g4=XP(p4);function Nd(...t){return g4(PP(t))}const y4=({children:t,className:e})=>A.jsx(rx.div,{className:Nd("relative",e),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:t}),v4=({children:t})=>A.jsx(rx.span,{className:"relative inline-block px-2 py-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.3},children:t});var gx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vw=Ys.createContext&&Ys.createContext(gx),_4=["attr","size","title"];function b4(t,e){if(t==null)return{};var n=T4(t,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function T4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}function _w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_w(Object(n),!0).forEach(function(r){E4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E4(t,e,n){return e=w4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4(t){var e=A4(t,"string");return typeof e=="symbol"?e:e+""}function A4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yx(t){return t&&t.map((e,n)=>Ys.createElement(e.tag,nd({key:n},e.attr),yx(e.child)))}function S4(t){return e=>Ys.createElement(x4,td({attr:nd({},t.attr)},e),yx(t.child))}function x4(t){var e=n=>{var{attr:r,size:a,title:l}=t,c=b4(t,_4),f=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),Ys.createElement("svg",td({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:nd(nd({color:t.color||n.color},n.style),t.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ys.createElement("title",null,l),t.children)};return vw!==void 0?Ys.createElement(vw.Consumer,null,n=>e(n)):e(gx)}function R4(t){return S4({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}const C4=()=>A.jsx("div",{className:"flex flex-col relative min-h-screen",children:A.jsx("section",{className:"relative z-10 flex flex-1 items-center justify-center pt-32 pb-16 px-4 min-h-screen",children:A.jsxs("div",{className:"max-w-4xl w-full flex flex-col md:flex-row items-center gap-12",children:[A.jsxs("div",{className:"flex-1 text-center md:text-left",children:[A.jsx("h1",{className:"text-5xl font-extrabold text-blue-200 mb-6 leading-tight drop-shadow-lg",children:A.jsxs(y4,{children:[A.jsx("span",{className:"text-blue-100",children:"Bridging the "})," ",A.jsx(v4,{children:"Gap"}),A.jsx("br",{className:"hidden md:block"})]})}),A.jsx("p",{className:"text-lg sm:text-xl text-blue-100 mb-8 max-w-xl mx-auto md:mx-0 leading-relaxed",children:"Students with dyslexia, ADHD, or language barriers often struggle with traditional learning resources. We're here to help."}),A.jsxs("div",{className:"flex gap-4 justify-center md:justify-start mb-8",children:[A.jsx(Qf,{to:"/signup",className:"px-8 py-3 bg-blue-200 text-black rounded-xl text-lg font-semibold shadow-lg hover:bg-blue-400 transition",children:"Get Started"}),A.jsx(Qf,{to:"/login",className:"px-8 py-3 border border-blue-200 text-blue-200 rounded-xl text-lg font-semibold hover:bg-blue-100 hover:text-black transition",children:"Log In"})]})]}),A.jsx("div",{className:"hidden md:block flex-1 text-center",children:A.jsx("div",{className:"w-64 h-64 rounded-2xl bg-blue-200 flex items-center justify-center mx-auto shadow-2xl",children:A.jsx("span",{className:"font-bold",children:A.jsx(R4,{className:"w-28 h-28 text-black"})})})})]})})}),I4=()=>A.jsx("footer",{className:"bg-blue-900/20 backdrop-blur-sm border-t border-blue-200/20 py-8 mt-auto",children:A.jsx("div",{className:"max-w-6xl mx-auto px-4 text-center",children:A.jsx("p",{className:"text-blue-200/80 text-sm",children:"© 2025 Visual Learning Studio. Making education accessible for everyone."})})}),cl=({children:t,className:e="",...n})=>A.jsx("label",{className:`block text-sm font-medium text-gray-700 mb-1 ${e}`,...n,children:t}),hl=({label:t,className:e="",...n})=>A.jsxs("div",{className:"w-full",children:[t&&A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),A.jsx("input",{className:`w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${e}`,...n})]}),D4=()=>{};var bw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},N4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},_x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(E=64)),r.push(n[y],n[_],n[E],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new O4;const E=l<<2|f>>4;if(r.push(E),p!==64){const R=f<<4&240|p>>2;if(r.push(R),_!==64){const N=p<<6&192|_;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V4=function(t){const e=vx(t);return _x.encodeByteArray(e,!0)},id=function(t){return V4(t).replace(/\./g,"")},bx=function(t){try{return _x.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=()=>M4().__FIREBASE_DEFAULTS__,P4=()=>{if(typeof process>"u"||typeof bw>"u")return;const t=bw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bx(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return D4()||k4()||P4()||L4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tx=t=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ex=t=>{const e=Tx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wx=()=>{var t;return(t=Od())===null||t===void 0?void 0:t.config},Ax=t=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[id(JSON.stringify(n)),id(JSON.stringify(c)),""].join(".")}const sc={};function j4(){const t={prod:[],emulator:[]};for(const e of Object.keys(sc))sc[e]?t.emulator.push(e):t.prod.push(e);return t}function z4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Tw=!1;function Cv(t,e){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||sc[t]===e||sc[t]||Tw)return;sc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=j4().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Tw=!0,c()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=z4(r),R=n("text"),N=document.getElementById(R)||document.createElement("span"),L=n("learnmore"),M=document.getElementById(L)||document.createElement("a"),B=n("preprendIcon"),Q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;f(F),y(M,L);const le=p();m(Q,B),F.append(Q,N,M,le),document.body.appendChild(F)}l?(N.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function F4(){var t;const e=(t=Od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function H4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function G4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K4(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $4(){return!F4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y4(){try{return typeof indexedDB=="object"}catch{return!1}}function Q4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X4,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?W4(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new cr(a,f,r)}}function W4(t,e){return t.replace(Z4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Z4=/\{\$([^}]+)}/g;function J4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Za(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],c=e[a];if(Ew(l)&&Ew(c)){if(!Za(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Ew(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function e3(t,e){const n=new t3(t,e);return n.subscribe.bind(n)}class t3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");n3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s3(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r3(t){return t===Ga?void 0:t}function s3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const o3={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},l3=Ge.INFO,u3={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},c3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=u3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iv{constructor(e){this.name=e,this._logLevel=l3,this._logHandler=c3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const h3=(t,e)=>e.some(n=>t instanceof n);let ww,Aw;function f3(){return ww||(ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d3(){return Aw||(Aw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xx=new WeakMap,my=new WeakMap,Rx=new WeakMap,Rg=new WeakMap,Dv=new WeakMap;function m3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Qs(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&xx.set(n,t)}).catch(()=>{}),Dv.set(e,t),e}function p3(t){if(my.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});my.set(t,e)}let py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function g3(t){py=t(py)}function y3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cg(this),e,...n);return Rx.set(r,e.sort?e.sort():[e]),Qs(r)}:d3().includes(t)?function(...e){return t.apply(Cg(this),e),Qs(xx.get(this))}:function(...e){return Qs(t.apply(Cg(this),e))}}function v3(t){return typeof t=="function"?y3(t):(t instanceof IDBTransaction&&p3(t),h3(t,f3())?new Proxy(t,py):t)}function Qs(t){if(t instanceof IDBRequest)return m3(t);if(Rg.has(t))return Rg.get(t);const e=v3(t);return e!==t&&(Rg.set(t,e),Dv.set(e,t)),e}const Cg=t=>Dv.get(t);function _3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=Qs(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Qs(c.result),m.oldVersion,m.newVersion,Qs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const b3=["get","getKey","getAll","getAllKeys","count"],T3=["put","add","delete","clear"],Ig=new Map;function Sw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ig.get(e))return Ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=T3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||b3.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Ig.set(e,l),l}g3(t=>({...t,get:(e,n,r)=>Sw(e,n)||t.get(e,n,r),has:(e,n)=>!!Sw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gy="@firebase/app",xw="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Iv("@firebase/app"),A3="@firebase/app-compat",S3="@firebase/analytics-compat",x3="@firebase/analytics",R3="@firebase/app-check-compat",C3="@firebase/app-check",I3="@firebase/auth",D3="@firebase/auth-compat",N3="@firebase/database",O3="@firebase/data-connect",V3="@firebase/database-compat",M3="@firebase/functions",k3="@firebase/functions-compat",P3="@firebase/installations",L3="@firebase/installations-compat",U3="@firebase/messaging",j3="@firebase/messaging-compat",z3="@firebase/performance",B3="@firebase/performance-compat",F3="@firebase/remote-config",H3="@firebase/remote-config-compat",q3="@firebase/storage",G3="@firebase/storage-compat",K3="@firebase/firestore",$3="@firebase/ai",Y3="@firebase/firestore-compat",Q3="firebase",X3="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",W3={[gy]:"fire-core",[A3]:"fire-core-compat",[x3]:"fire-analytics",[S3]:"fire-analytics-compat",[C3]:"fire-app-check",[R3]:"fire-app-check-compat",[I3]:"fire-auth",[D3]:"fire-auth-compat",[N3]:"fire-rtdb",[O3]:"fire-data-connect",[V3]:"fire-rtdb-compat",[M3]:"fire-fn",[k3]:"fire-fn-compat",[P3]:"fire-iid",[L3]:"fire-iid-compat",[U3]:"fire-fcm",[j3]:"fire-fcm-compat",[z3]:"fire-perf",[B3]:"fire-perf-compat",[F3]:"fire-rc",[H3]:"fire-rc-compat",[q3]:"fire-gcs",[G3]:"fire-gcs-compat",[K3]:"fire-fst",[Y3]:"fire-fst-compat",[$3]:"fire-vertex","fire-js":"fire-js",[Q3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Map,Z3=new Map,vy=new Map;function Rw(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ja(t){const e=t.name;if(vy.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of rd.values())Rw(n,t);for(const n of Z3.values())Rw(n,t);return!0}function Vd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Vc("app","Firebase",J3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=X3;function Cx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yy,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw Xs.create("bad-app-name",{appName:String(a)});if(n||(n=wx()),!n)throw Xs.create("no-options");const l=rd.get(a);if(l){if(Za(n,l.options)&&Za(r,l.config))return l;throw Xs.create("duplicate-app",{appName:a})}const c=new a3(a);for(const m of vy.values())c.addComponent(m);const f=new e5(n,r,c);return rd.set(a,f),f}function Nv(t=yy){const e=rd.get(t);if(!e&&t===yy&&wx())return Cx();if(!e)throw Xs.create("no-app",{appName:t});return e}function Ji(t,e,n){var r;let a=(r=W3[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(f.join(" "));return}Ja(new ta(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="firebase-heartbeat-database",n5=1,vc="firebase-heartbeat-store";let Dg=null;function Ix(){return Dg||(Dg=_3(t5,n5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),Dg}async function i5(t){try{const n=(await Ix()).transaction(vc),r=await n.objectStore(vc).get(Dx(t));return await n.done,r}catch(e){if(e instanceof cr)$r.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function Cw(t,e){try{const r=(await Ix()).transaction(vc,"readwrite");await r.objectStore(vc).put(e,Dx(t)),await r.done}catch(n){if(n instanceof cr)$r.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(r.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=1024,s5=30;class a5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Iw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>s5){const c=u5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$r.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iw(),{heartbeatsToSend:r,unsentEntries:a}=o5(this._heartbeatsCache.heartbeats),l=id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $r.warn(n),""}}}function Iw(){return new Date().toISOString().substring(0,10)}function o5(t,e=r5){const n=[];let r=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Dw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y4()?Q4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dw(t){return id(JSON.stringify({version:2,heartbeats:t})).length}function u5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){Ja(new ta("platform-logger",e=>new E3(e),"PRIVATE")),Ja(new ta("heartbeat",e=>new a5(e),"PRIVATE")),Ji(gy,xw,t),Ji(gy,xw,"esm2017"),Ji("fire-js","")}c5("");var h5="firebase",f5="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(h5,f5,"app");function Ov(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Nx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d5=Nx,Ox=new Vc("auth","Firebase",Nx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Iv("@firebase/auth");function m5(t,...e){sd.logLevel<=Ge.WARN&&sd.warn(`Auth (${so}): ${t}`,...e)}function Uf(t,...e){sd.logLevel<=Ge.ERROR&&sd.error(`Auth (${so}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw Vv(t,...e)}function er(t,...e){return Vv(t,...e)}function Vx(t,e,n){const r=Object.assign(Object.assign({},d5()),{[e]:n});return new Vc("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return Vx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ox.create(t,...e)}function Re(t,e,...n){if(!t)throw Vv(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function Yr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p5(){return Nw()==="http:"||Nw()==="https:"}function Nw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p5()||q4()||"connection"in navigator)?navigator.onLine:!0}function y5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=B4()||G4()}get(){return g5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b5=new kc(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wr(t,e,n,r,a={}){return kx(t,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Mc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:m},l);return H4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ro(t.emulatorConfig.host)&&(p.credentials="include"),Mx.fetch()(await Px(t,t.config.apiHost,n,f),p)})}async function kx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},v5),e);try{const a=new E5(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ef(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ef(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ef(t,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Vx(t,y,p);Ni(t,y)}}catch(a){if(a instanceof cr)throw a;Ni(t,"network-request-failed",{message:String(a)})}}async function Pc(t,e,n,r,a={}){const l=await Wr(t,e,n,r,a);return"mfaPendingCredential"in l&&Ni(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Px(t,e,n,r){const a=`${e}${n}?${r}`,l=t,c=l.config.emulator?Mv(t.config,a):`${t.config.apiScheme}://${a}`;return _5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function T5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),b5.get())})}}function Ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=er(t,e,r);return a.customData._tokenResponse=n,a}function Ow(t){return t!==void 0&&t.enterprise!==void 0}class w5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return T5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A5(t,e){return Wr(t,"GET","/v2/recaptchaConfig",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S5(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function ad(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x5(t,e=!1){const n=Qt(t),r=await n.getIdToken(e),a=kv(r);Re(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:ac(Ng(a.auth_time)),issuedAtTime:ac(Ng(a.iat)),expirationTime:ac(Ng(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ng(t){return Number(t)*1e3}function kv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=bx(n);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Vw(t){const e=kv(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&R5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(t){var e;const n=t.auth,r=await t.getIdToken(),a=await El(t,ad(n,{idToken:r}));Re(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Lx(l.providerUserInfo):[],f=D5(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new by(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function I5(t){const e=Qt(t);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D5(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Lx(t){return t.map(e=>{var{providerId:n}=e,r=Ov(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e){const n=await kx(t,{},async()=>{const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await Px(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return t.emulatorConfig&&ro(t.emulatorConfig.host)&&(m.credentials="include"),Mx.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O5(t,e){return Wr(t,"POST","/v2/accounts:revokeToken",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Vw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await N5(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new pl;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=Ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new C5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new by(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await El(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return x5(this,e)}reload(){return I5(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await El(this,S5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,N=(c=n.photoURL)!==null&&c!==void 0?c:void 0,L=(f=n.tenantId)!==null&&f!==void 0?f:void 0,M=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,B=(p=n.createdAt)!==null&&p!==void 0?p:void 0,Q=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:le,isAnonymous:ue,providerData:ce,stsTokenManager:I}=n;Re(F&&I,e,"internal-error");const S=pl.fromJSON(this.name,I);Re(typeof F=="string",e,"internal-error"),Bs(_,e.name),Bs(E,e.name),Re(typeof le=="boolean",e,"internal-error"),Re(typeof ue=="boolean",e,"internal-error"),Bs(R,e.name),Bs(N,e.name),Bs(L,e.name),Bs(M,e.name),Bs(B,e.name),Bs(Q,e.name);const C=new Ci({uid:F,auth:e,email:E,emailVerified:le,displayName:_,isAnonymous:ue,photoURL:N,phoneNumber:R,tenantId:L,stsTokenManager:S,createdAt:B,lastLoginAt:Q});return ce&&Array.isArray(ce)&&(C.providerData=ce.map(k=>Object.assign({},k))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new pl;a.updateFromServerResponse(n);const l=new Ci({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await od(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Lx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new pl;f.updateFromIdToken(r);const m=new Ci({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;function zr(t){Yr(t instanceof Function,"Expected a class definition");let e=Mw.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Mw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ux.type="NONE";const kw=Ux;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=jf(this.userKey,a.apiKey,l),this.fullPersistenceKey=jf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ad(this.auth,{idToken:e}).catch(()=>{});return n?Ci._fromGetAccountInfoResponse(this.auth,n,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(zr(kw),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||zr(kw);const c=jf(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await ad(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Ci._fromGetAccountInfoResponse(e,E,y)}else _=Ci._fromJSON(e,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new gl(l,e,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new gl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qx(e))return"Blackberry";if(Gx(e))return"Webos";if(zx(e))return"Safari";if((e.includes("chrome/")||Bx(e))&&!e.includes("edge/"))return"Chrome";if(Hx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jx(t=An()){return/firefox\//i.test(t)}function zx(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bx(t=An()){return/crios\//i.test(t)}function Fx(t=An()){return/iemobile/i.test(t)}function Hx(t=An()){return/android/i.test(t)}function qx(t=An()){return/blackberry/i.test(t)}function Gx(t=An()){return/webos/i.test(t)}function Pv(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function V5(t=An()){var e;return Pv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M5(){return K4()&&document.documentMode===10}function Kx(t=An()){return Pv(t)||Hx(t)||Gx(t)||qx(t)||/windows phone/i.test(t)||Fx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e=[]){let n;switch(t){case"Browser":n=Pw(An());break;case"Worker":n=`${Pw(An())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",ca(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=6;class U5{constructor(e){var n,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:L5,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lw(this),this.idTokenSubscription=new Lw(this),this.beforeStateQueue=new k5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ad(this,{idToken:e}),r=await Ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Fr(this));const n=e?Qt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P5(this),n=new U5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await O5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&m5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ao(t){return Qt(t)}class Lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=e3(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z5(t){Md=t}function Yx(t){return Md.loadJS(t)}function B5(){return Md.recaptchaEnterpriseScript}function F5(){return Md.gapiScript}function H5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class q5{constructor(){this.enterprise=new G5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const K5="recaptcha-enterprise",Qx="NO_RECAPTCHA";class $5{constructor(e){this.type=K5,this.auth=ao(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{A5(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new w5(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;Ow(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Qx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q5().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&Ow(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=B5();m.length!==0&&(m+=f),Yx(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function Uw(t,e,n,r=!1,a=!1){const l=new $5(t);let c;if(a)c=Qx;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Ty(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Uw(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Uw(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t,e){const n=Vd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Za(l,e??{}))return a;Ni(a,"already-initialized")}return n.initialize({options:e})}function Q5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function X5(t,e,n){const r=ao(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Xx(e),{host:c,port:f}=W5(e),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Za(p,r.config.emulator)&&Za(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ro(c)?(Rv(`${l}//${c}${m}`),Cv("Auth",!0)):Z5()}function Xx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W5(t){const e=Xx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:jw(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:jw(c)}}}function jw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function J5(t,e){return Wr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e){return Pc(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function n6(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends Lv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new _c(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _c(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(e,n,"signInWithPassword",e6);case"emailLink":return t6(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(e,r,"signUpPassword",J5);case"emailLink":return n6(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return Pc(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="http://localhost";class eo extends Lv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=Ov(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new eo(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:i6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s6(t){const e=Yu(Qu(t)).link,n=e?Yu(Qu(e)).deep_link_id:null,r=Yu(Qu(t)).deep_link_id;return(r?Yu(Qu(r)).link:null)||r||n||e||t}class Uv{constructor(e){var n,r,a,l,c,f;const m=Yu(Qu(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=r6((a=m.mode)!==null&&a!==void 0?a:null);Re(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=s6(e);try{return new Uv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.providerId=Pl.PROVIDER_ID}static credential(e,n){return _c._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Uv.parseLink(n);return Re(r,"argument-error"),_c._fromEmailAndCode(e,r.code,r.tenantId)}}Pl.PROVIDER_ID="password";Pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Wx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Lc{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hs.credential(e.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return eo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Lc{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Lc{constructor(){super("twitter.com")}static credential(e,n){return eo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(t,e){return Pc(t,"POST","/v1/accounts:signUp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Ci._fromIdTokenResponse(e,r,a),c=zw(r);return new to({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=zw(r);return new to({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function zw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends cr{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,ld.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new ld(e,n,r,a)}}function Zx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ld._fromErrorAndOperation(t,l,e,r):l})}async function o6(t,e,n=!1){const r=await El(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return to._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(Fr(r));const a="reauthenticate";try{const l=await El(t,Zx(r,a,e,t),n);Re(l.idToken,r,"internal-error");const c=kv(l.idToken);Re(c,r,"internal-error");const{sub:f}=c;return Re(t.uid===f,r,"user-mismatch"),to._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(t,e,n=!1){if(Jn(t.app))return Promise.reject(Fr(t));const r="signIn",a=await Zx(t,r,e),l=await to._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function u6(t,e){return Jx(ao(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t){const e=ao(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function c6(t,e,n){if(Jn(t.app))return Promise.reject(Fr(t));const r=ao(t),c=await Ty(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a6).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&eR(t),m}),f=await to._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function h6(t,e,n){return Jn(t.app)?Promise.reject(Fr(t)):u6(Qt(t),Pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f6(t,e){return Wr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qt(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await El(r,f6(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function m6(t,e,n,r){return Qt(t).onIdTokenChanged(e,n,r)}function p6(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function tR(t,e,n,r){return Qt(t).onAuthStateChanged(e,n,r)}function g6(t){return Qt(t).signOut()}const ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=1e3,v6=10;class iR extends nR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);M5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,v6):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iR.type="LOCAL";const _6=iR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends nR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rR.type="SESSION";const sR=rR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await b6(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=jv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function E6(t){tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function w6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S6(){return aR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebaseLocalStorageDb",x6=1,cd="firebaseLocalStorage",lR="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pd(t,e){return t.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function R6(){const t=indexedDB.deleteDatabase(oR);return new Uc(t).toPromise()}function Ey(){const t=indexedDB.open(oR,x6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cd,{keyPath:lR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),await R6(),e(await Ey()))})})}async function Bw(t,e,n){const r=Pd(t,!0).put({[lR]:e,value:n});return new Uc(r).toPromise()}async function C6(t,e){const n=Pd(t,!1).get(e),r=await new Uc(n).toPromise();return r===void 0?null:r.value}function Fw(t,e){const n=Pd(t,!0).delete(e);return new Uc(n).toPromise()}const I6=800,D6=3;class uR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ey(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(S6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w6(),!this.activeServiceWorker)return;this.sender=new T6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||A6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ey();return await Bw(e,ud,"1"),await Fw(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Pd(a,!1).getAll();return new Uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uR.type="LOCAL";const N6=uR;new kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t,e){return e?zr(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Lv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V6(t){return Jx(t.auth,new zv(t),t.bypassAuthState)}function M6(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),l6(n,new zv(t),t.bypassAuthState)}async function k6(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),o6(n,new zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V6;case"linkViaPopup":case"linkViaRedirect":return k6;case"reauthViaPopup":case"reauthViaRedirect":return M6;default:Ni(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new kc(2e3,1e4);class fl extends cR{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P6.get())};e()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="pendingRedirect",zf=new Map;class U6 extends cR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const r=await j6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j6(t,e){const n=F6(e),r=B6(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function z6(t,e){zf.set(t._key(),e)}function B6(t){return zr(t._redirectPersistence)}function F6(t){return jf(L6,t.config.apiKey,t.name)}async function H6(t,e,n=!1){if(Jn(t.app))return Promise.reject(Fr(t));const r=ao(t),a=O6(r,e),c=await new U6(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=600*1e3;class G6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hR(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hw(e))}saveEventToCache(e){this.cachedEventUids.add(Hw(e)),this.lastProcessedEventTime=Date.now()}}function Hw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q6=/^https?/;async function X6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $6(t);for(const n of e)try{if(W6(n))return}catch{}Ni(t,"unauthorized-domain")}function W6(t){const e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!Q6.test(n))return!1;if(Y6.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new kc(3e4,6e4);function qw(){const t=tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J6(t){return new Promise((e,n)=>{var r,a,l;function c(){qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qw(),n(er(t,"network-request-failed"))},timeout:Z6.get()})}if(!((a=(r=tr().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=tr().gapi)===null||l===void 0)&&l.load)c();else{const f=H5("iframefcb");return tr()[f]=()=>{gapi.load?c():n(er(t,"network-request-failed"))},Yx(`${F5()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function eL(t){return Bf=Bf||J6(t),Bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new kc(5e3,15e3),nL="__/auth/iframe",iL="emulator/auth/iframe",rL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aL(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mv(e,iL):`https://${t.config.authDomain}/${nL}`,r={apiKey:e.apiKey,appName:t.name,v:so},a=sL.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Mc(r).slice(1)}`}async function oL(t){const e=await eL(t),n=tr().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:aL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rL,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=er(t,"network-request-failed"),f=tr().setTimeout(()=>{l(c)},tL.get());function m(){tr().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uL=500,cL=600,hL="_blank",fL="http://localhost";class Gw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dL(t,e,n,r=uL,a=cL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},lL),{width:r.toString(),height:a.toString(),top:l,left:c}),p=An().toLowerCase();n&&(f=Bx(p)?hL:n),jx(p)&&(e=e||fL,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[R,N])=>`${E}${R}=${N},`,"");if(V5(p)&&f!=="_self")return mL(e||"",f),new Gw(null);const _=window.open(e||"",f,y);Re(_,t,"popup-blocked");try{_.focus()}catch{}return new Gw(_)}function mL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="__/auth/handler",gL="emulator/auth/handler",yL=encodeURIComponent("fac");async function Kw(t,e,n,r,a,l){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:so,eventId:a};if(e instanceof Wx){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",J4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Lc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),p=m?`#${yL}=${encodeURIComponent(m)}`:"";return`${vL(t)}?${Mc(f).slice(1)}${p}`}function vL({config:t}){return t.emulator?Mv(t,gL):`https://${t.authDomain}/${pL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class _L{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sR,this._completeRedirectFn=H6,this._overrideRedirectResult=z6}async _openPopup(e,n,r,a){var l;Yr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Kw(e,n,r,_y(),a);return dL(e,c,jv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await Kw(e,n,r,_y(),a);return E6(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oL(e),r=new G6(e);return n.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Og,{type:Og},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Og];c!==void 0&&n(!!c),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kx()||zx()||Pv()}}const bL=_L;var $w="@firebase/auth",Yw="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wL(t){Ja(new ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$x(t)},p=new j5(r,a,l,m);return Q5(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ja(new ta("auth-internal",e=>{const n=ao(e.getProvider("auth").getImmediate());return(r=>new TL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji($w,Yw,EL(t)),Ji($w,Yw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=300,SL=Ax("authIdTokenMaxAge")||AL;let Qw=null;const xL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SL)return;const a=n==null?void 0:n.token;Qw!==a&&(Qw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fR(t=Nv()){const e=Vd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y5(t,{popupRedirectResolver:bL,persistence:[N6,_6,sR]}),r=Ax("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=xL(l.toString());p6(n,c,()=>c(n.currentUser)),m6(n,f=>c(f))}}const a=Tx("auth");return a&&X5(n,`http://${a}`),n}function RL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=er("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",RL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wL("Browser");var Xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,dR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function C(){}C.prototype=S.prototype,I.D=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(k,U,z){for(var D=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)D[nt-2]=arguments[nt];return S.prototype[U].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,S,C){C||(C=0);var k=Array(16);if(typeof S=="string")for(var U=0;16>U;++U)k[U]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(U=0;16>U;++U)k[U]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],U=I.g[2];var z=I.g[3],D=S+(z^C&(U^z))+k[0]+3614090360&4294967295;S=C+(D<<7&4294967295|D>>>25),D=z+(U^S&(C^U))+k[1]+3905402710&4294967295,z=S+(D<<12&4294967295|D>>>20),D=U+(C^z&(S^C))+k[2]+606105819&4294967295,U=z+(D<<17&4294967295|D>>>15),D=C+(S^U&(z^S))+k[3]+3250441966&4294967295,C=U+(D<<22&4294967295|D>>>10),D=S+(z^C&(U^z))+k[4]+4118548399&4294967295,S=C+(D<<7&4294967295|D>>>25),D=z+(U^S&(C^U))+k[5]+1200080426&4294967295,z=S+(D<<12&4294967295|D>>>20),D=U+(C^z&(S^C))+k[6]+2821735955&4294967295,U=z+(D<<17&4294967295|D>>>15),D=C+(S^U&(z^S))+k[7]+4249261313&4294967295,C=U+(D<<22&4294967295|D>>>10),D=S+(z^C&(U^z))+k[8]+1770035416&4294967295,S=C+(D<<7&4294967295|D>>>25),D=z+(U^S&(C^U))+k[9]+2336552879&4294967295,z=S+(D<<12&4294967295|D>>>20),D=U+(C^z&(S^C))+k[10]+4294925233&4294967295,U=z+(D<<17&4294967295|D>>>15),D=C+(S^U&(z^S))+k[11]+2304563134&4294967295,C=U+(D<<22&4294967295|D>>>10),D=S+(z^C&(U^z))+k[12]+1804603682&4294967295,S=C+(D<<7&4294967295|D>>>25),D=z+(U^S&(C^U))+k[13]+4254626195&4294967295,z=S+(D<<12&4294967295|D>>>20),D=U+(C^z&(S^C))+k[14]+2792965006&4294967295,U=z+(D<<17&4294967295|D>>>15),D=C+(S^U&(z^S))+k[15]+1236535329&4294967295,C=U+(D<<22&4294967295|D>>>10),D=S+(U^z&(C^U))+k[1]+4129170786&4294967295,S=C+(D<<5&4294967295|D>>>27),D=z+(C^U&(S^C))+k[6]+3225465664&4294967295,z=S+(D<<9&4294967295|D>>>23),D=U+(S^C&(z^S))+k[11]+643717713&4294967295,U=z+(D<<14&4294967295|D>>>18),D=C+(z^S&(U^z))+k[0]+3921069994&4294967295,C=U+(D<<20&4294967295|D>>>12),D=S+(U^z&(C^U))+k[5]+3593408605&4294967295,S=C+(D<<5&4294967295|D>>>27),D=z+(C^U&(S^C))+k[10]+38016083&4294967295,z=S+(D<<9&4294967295|D>>>23),D=U+(S^C&(z^S))+k[15]+3634488961&4294967295,U=z+(D<<14&4294967295|D>>>18),D=C+(z^S&(U^z))+k[4]+3889429448&4294967295,C=U+(D<<20&4294967295|D>>>12),D=S+(U^z&(C^U))+k[9]+568446438&4294967295,S=C+(D<<5&4294967295|D>>>27),D=z+(C^U&(S^C))+k[14]+3275163606&4294967295,z=S+(D<<9&4294967295|D>>>23),D=U+(S^C&(z^S))+k[3]+4107603335&4294967295,U=z+(D<<14&4294967295|D>>>18),D=C+(z^S&(U^z))+k[8]+1163531501&4294967295,C=U+(D<<20&4294967295|D>>>12),D=S+(U^z&(C^U))+k[13]+2850285829&4294967295,S=C+(D<<5&4294967295|D>>>27),D=z+(C^U&(S^C))+k[2]+4243563512&4294967295,z=S+(D<<9&4294967295|D>>>23),D=U+(S^C&(z^S))+k[7]+1735328473&4294967295,U=z+(D<<14&4294967295|D>>>18),D=C+(z^S&(U^z))+k[12]+2368359562&4294967295,C=U+(D<<20&4294967295|D>>>12),D=S+(C^U^z)+k[5]+4294588738&4294967295,S=C+(D<<4&4294967295|D>>>28),D=z+(S^C^U)+k[8]+2272392833&4294967295,z=S+(D<<11&4294967295|D>>>21),D=U+(z^S^C)+k[11]+1839030562&4294967295,U=z+(D<<16&4294967295|D>>>16),D=C+(U^z^S)+k[14]+4259657740&4294967295,C=U+(D<<23&4294967295|D>>>9),D=S+(C^U^z)+k[1]+2763975236&4294967295,S=C+(D<<4&4294967295|D>>>28),D=z+(S^C^U)+k[4]+1272893353&4294967295,z=S+(D<<11&4294967295|D>>>21),D=U+(z^S^C)+k[7]+4139469664&4294967295,U=z+(D<<16&4294967295|D>>>16),D=C+(U^z^S)+k[10]+3200236656&4294967295,C=U+(D<<23&4294967295|D>>>9),D=S+(C^U^z)+k[13]+681279174&4294967295,S=C+(D<<4&4294967295|D>>>28),D=z+(S^C^U)+k[0]+3936430074&4294967295,z=S+(D<<11&4294967295|D>>>21),D=U+(z^S^C)+k[3]+3572445317&4294967295,U=z+(D<<16&4294967295|D>>>16),D=C+(U^z^S)+k[6]+76029189&4294967295,C=U+(D<<23&4294967295|D>>>9),D=S+(C^U^z)+k[9]+3654602809&4294967295,S=C+(D<<4&4294967295|D>>>28),D=z+(S^C^U)+k[12]+3873151461&4294967295,z=S+(D<<11&4294967295|D>>>21),D=U+(z^S^C)+k[15]+530742520&4294967295,U=z+(D<<16&4294967295|D>>>16),D=C+(U^z^S)+k[2]+3299628645&4294967295,C=U+(D<<23&4294967295|D>>>9),D=S+(U^(C|~z))+k[0]+4096336452&4294967295,S=C+(D<<6&4294967295|D>>>26),D=z+(C^(S|~U))+k[7]+1126891415&4294967295,z=S+(D<<10&4294967295|D>>>22),D=U+(S^(z|~C))+k[14]+2878612391&4294967295,U=z+(D<<15&4294967295|D>>>17),D=C+(z^(U|~S))+k[5]+4237533241&4294967295,C=U+(D<<21&4294967295|D>>>11),D=S+(U^(C|~z))+k[12]+1700485571&4294967295,S=C+(D<<6&4294967295|D>>>26),D=z+(C^(S|~U))+k[3]+2399980690&4294967295,z=S+(D<<10&4294967295|D>>>22),D=U+(S^(z|~C))+k[10]+4293915773&4294967295,U=z+(D<<15&4294967295|D>>>17),D=C+(z^(U|~S))+k[1]+2240044497&4294967295,C=U+(D<<21&4294967295|D>>>11),D=S+(U^(C|~z))+k[8]+1873313359&4294967295,S=C+(D<<6&4294967295|D>>>26),D=z+(C^(S|~U))+k[15]+4264355552&4294967295,z=S+(D<<10&4294967295|D>>>22),D=U+(S^(z|~C))+k[6]+2734768916&4294967295,U=z+(D<<15&4294967295|D>>>17),D=C+(z^(U|~S))+k[13]+1309151649&4294967295,C=U+(D<<21&4294967295|D>>>11),D=S+(U^(C|~z))+k[4]+4149444226&4294967295,S=C+(D<<6&4294967295|D>>>26),D=z+(C^(S|~U))+k[11]+3174756917&4294967295,z=S+(D<<10&4294967295|D>>>22),D=U+(S^(z|~C))+k[2]+718787259&4294967295,U=z+(D<<15&4294967295|D>>>17),D=C+(z^(U|~S))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var C=S-this.blockSize,k=this.B,U=this.h,z=0;z<S;){if(U==0)for(;z<=C;)a(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<S;)if(k[U++]=I.charCodeAt(z++),U==this.blockSize){a(this,k),U=0;break}}else for(;z<S;)if(k[U++]=I[z++],U==this.blockSize){a(this,k),U=0;break}}this.h=U,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var C=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=C&255,C/=256;for(this.u(I),I=Array(16),S=C=0;4>S;++S)for(var k=0;32>k;k+=8)I[C++]=this.g[S]>>>k&255;return I};function l(I,S){var C=f;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function c(I,S){this.h=S;for(var C=[],k=!0,U=I.length-1;0<=U;U--){var z=I[U]|0;k&&z==S||(C[U]=z,k=!1)}this.g=C}var f={};function m(I){return-128<=I&&128>I?l(I,function(S){return new c([S|0],0>S?-1:0)}):new c([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return M(p(-I));for(var S=[],C=1,k=0;I>=C;k++)S[k]=I/C|0,C*=4294967296;return new c(S,0)}function y(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return M(y(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(S,8)),k=_,U=0;U<I.length;U+=8){var z=Math.min(8,I.length-U),D=parseInt(I.substring(U,U+z),S);8>z?(z=p(Math.pow(S,z)),k=k.j(z).add(p(D))):(k=k.j(C),k=k.add(p(D)))}return k}var _=m(0),E=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(L(this))return-M(this).m();for(var I=0,S=1,C=0;C<this.g.length;C++){var k=this.i(C);I+=(0<=k?k:4294967296+k)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(L(this))return"-"+M(this).toString(I);for(var S=p(Math.pow(I,6)),C=this,k="";;){var U=le(C,S).g;C=B(C,U.j(S));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=U,N(C))return z+k;for(;6>z.length;)z="0"+z;k=z+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function L(I){return I.h==-1}t.l=function(I){return I=B(this,I),L(I)?-1:N(I)?0:1};function M(I){for(var S=I.g.length,C=[],k=0;k<S;k++)C[k]=~I.g[k];return new c(C,~I.h).add(E)}t.abs=function(){return L(this)?M(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0,U=0;U<=S;U++){var z=k+(this.i(U)&65535)+(I.i(U)&65535),D=(z>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);k=D>>>16,z&=65535,D&=65535,C[U]=D<<16|z}return new c(C,C[C.length-1]&-2147483648?-1:0)};function B(I,S){return I.add(M(S))}t.j=function(I){if(N(this)||N(I))return _;if(L(this))return L(I)?M(this).j(M(I)):M(M(this).j(I));if(L(I))return M(this.j(M(I)));if(0>this.l(R)&&0>I.l(R))return p(this.m()*I.m());for(var S=this.g.length+I.g.length,C=[],k=0;k<2*S;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var U=0;U<I.g.length;U++){var z=this.i(k)>>>16,D=this.i(k)&65535,nt=I.i(U)>>>16,Ze=I.i(U)&65535;C[2*k+2*U]+=D*Ze,Q(C,2*k+2*U),C[2*k+2*U+1]+=z*Ze,Q(C,2*k+2*U+1),C[2*k+2*U+1]+=D*nt,Q(C,2*k+2*U+1),C[2*k+2*U+2]+=z*nt,Q(C,2*k+2*U+2)}for(k=0;k<S;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=S;k<2*S;k++)C[k]=0;return new c(C,0)};function Q(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function F(I,S){this.g=I,this.h=S}function le(I,S){if(N(S))throw Error("division by zero");if(N(I))return new F(_,_);if(L(I))return S=le(M(I),S),new F(M(S.g),M(S.h));if(L(S))return S=le(I,M(S)),new F(M(S.g),S.h);if(30<I.g.length){if(L(I)||L(S))throw Error("slowDivide_ only works with positive integers.");for(var C=E,k=S;0>=k.l(I);)C=ue(C),k=ue(k);var U=ce(C,1),z=ce(k,1);for(k=ce(k,2),C=ce(C,2);!N(k);){var D=z.add(k);0>=D.l(I)&&(U=U.add(C),z=D),k=ce(k,1),C=ce(C,1)}return S=B(I,U.j(S)),new F(U,S)}for(U=_;0<=I.l(S);){for(C=Math.max(1,Math.floor(I.m()/S.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),z=p(C),D=z.j(S);L(D)||0<D.l(I);)C-=k,z=p(C),D=z.j(S);N(z)&&(z=E),U=U.add(z),I=B(I,D)}return new F(U,I)}t.A=function(I){return le(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)&I.i(k);return new c(C,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)|I.i(k);return new c(C,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],k=0;k<S;k++)C[k]=this.i(k)^I.i(k);return new c(C,this.h^I.h)};function ue(I){for(var S=I.g.length+1,C=[],k=0;k<S;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(C,I.h)}function ce(I,S){var C=S>>5;S%=32;for(var k=I.g.length-C,U=[],z=0;z<k;z++)U[z]=0<S?I.i(z+C)>>>S|I.i(z+C+1)<<32-S:I.i(z+C);return new c(U,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dR=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Ws=c}).apply(typeof Xw<"u"?Xw:typeof self<"u"?self:typeof window<"u"?window:{});var wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mR,Xu,pR,Ff,wy,gR,yR,vR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof wf=="object"&&wf];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)e:{var T=r;h=h.split(".");for(var x=0;x<h.length-1;x++){var q=h[x];if(!(q in T))break e;T=T[q]}h=h[h.length-1],x=T[h],v=v(x),v!=x&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,x=!1,q={next:function(){if(!x&&T<h.length){var Z=T++;return{value:v(Z,h[Z]),done:!1}}return x=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,x),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function E(h,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function R(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function N(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(x,q,Z){for(var he=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)he[rt-2]=arguments[rt];return v.prototype[q].apply(x,he)}}function L(h){const v=h.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=h[x];return T}return[]}function M(h,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(m(x)){const q=h.length||0,Z=x.length||0;h.length=q+Z;for(let he=0;he<Z;he++)h[q+he]=x[he]}else h.push(x)}}class B{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function le(h){return le[" "](h),h}le[" "]=function(){};var ue=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ce(h,v,T){for(const x in h)v.call(T,h[x],x,h)}function I(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function S(h){const v={};for(const T in h)v[T]=h[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,v){let T,x;for(let q=1;q<arguments.length;q++){x=arguments[q];for(T in x)h[T]=x[T];for(let Z=0;Z<C.length;Z++)T=C[Z],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function U(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function z(h){f.setTimeout(()=>{throw h},0)}function D(){var h=Ne;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class nt{constructor(){this.h=this.g=null}add(v,T){const x=Ze.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var Ze=new B(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ne=!1,Ne=new nt,De=()=>{const h=f.Promise.resolve(void 0);se=()=>{h.then(P)}};var P=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(T){z(T)}var v=Ze;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ne=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h})();function Te(h,v){if($.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ue){e:{try{le(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Te.aa.h.call(this)}}N(Te,$);var Oe={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),vt=0;function Qe(h,v,T,x,q){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=q,this.key=++vt,this.da=this.fa=!1}function jt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Sn(h){this.src=h,this.g={},this.h=0}Sn.prototype.add=function(h,v,T,x,q){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var he=Dt(h,v,x,q);return-1<he?(v=h[he],T||(v.fa=!1)):(v=new Qe(v,this.src,Z,!!x,q),v.fa=T,h.push(v)),v};function yn(h,v){var T=v.type;if(T in h.g){var x=h.g[T],q=Array.prototype.indexOf.call(x,v,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(x,q,1),Z&&(jt(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Dt(h,v,T,x){for(var q=0;q<h.length;++q){var Z=h[q];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==x)return q}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),vi={};function fr(h,v,T,x,q){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)fr(h,v[Z],T,x,q);return null}return T=ho(T),h&&h[be]?h.K(v,T,p(x)?!!x.capture:!1,q):Fl(h,v,T,!1,x,q)}function Fl(h,v,T,x,q,Z){if(!v)throw Error("Invalid event type");var he=p(q)?!!q.capture:!!q,rt=ki(h);if(rt||(h[xn]=rt=new Sn(h)),T=rt.add(v,T,x,he,Z),T.proxy)return T;if(x=ma(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)fe||(q=he),q===void 0&&(q=!1),h.addEventListener(v.toString(),x,q);else if(h.attachEvent)h.attachEvent(Jr(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ma(){function h(T){return v.call(h.src,h.listener,T)}const v=co;return h}function Zr(h,v,T,x,q){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Zr(h,v[Z],T,x,q);else x=p(x)?!!x.capture:!!x,T=ho(T),h&&h[be]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],T=Dt(Z,T,x,q),-1<T&&(jt(Z[T]),Array.prototype.splice.call(Z,T,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=ki(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Dt(v,T,x,q)),(T=-1<h?v[h]:null)&&dr(T))}function dr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[be])yn(v.i,h);else{var T=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(T,x,h.capture):v.detachEvent?v.detachEvent(Jr(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=ki(v))?(yn(T,h),T.h==0&&(T.src=null,v[xn]=null)):jt(h)}}}function Jr(h){return h in vi?vi[h]:vi[h]="on"+h}function co(h,v){if(h.da)h=!0;else{v=new Te(v,this);var T=h.listener,x=h.ha||h.src;h.fa&&dr(h),h=T.call(x,v)}return h}function ki(h){return h=h[xn],h instanceof Sn?h:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ho(h){return typeof h=="function"?h:(h[Nt]||(h[Nt]=function(v){return h.handleEvent(v)}),h[Nt])}function Ot(){ee.call(this),this.i=new Sn(this),this.M=this,this.F=null}N(Ot,ee),Ot.prototype[be]=!0,Ot.prototype.removeEventListener=function(h,v,T,x){Zr(this,h,v,T,x)};function At(h,v){var T,x=h.F;if(x)for(T=[];x;x=x.F)T.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new $(v,h);else if(v instanceof $)v.target=v.target||h;else{var q=v;v=new $(x,h),k(v,q)}if(q=!0,T)for(var Z=T.length-1;0<=Z;Z--){var he=v.g=T[Z];q=_i(he,x,!0,v)&&q}if(he=v.g=h,q=_i(he,x,!0,v)&&q,q=_i(he,x,!1,v)&&q,T)for(Z=0;Z<T.length;Z++)he=v.g=T[Z],q=_i(he,x,!1,v)&&q}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],x=0;x<T.length;x++)jt(T[x]);delete h.g[v],h.h--}}this.F=null},Ot.prototype.K=function(h,v,T,x){return this.i.add(String(h),v,!1,T,x)},Ot.prototype.L=function(h,v,T,x){return this.i.add(String(h),v,!0,T,x)};function _i(h,v,T,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Z=0;Z<v.length;++Z){var he=v[Z];if(he&&!he.da&&he.capture==T){var rt=he.listener,zt=he.ha||he.src;he.fa&&yn(h.i,he),q=rt.call(zt,x)!==!1&&q}}return q&&!x.defaultPrevented}function Pi(h,v,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function pa(h){h.g=Pi(()=>{h.g=null,h.i&&(h.i=!1,pa(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class fo extends ee{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Li(h){ee.call(this),this.h=h,this.g={}}N(Li,ee);var bi=[];function Xt(h){ce(h.g,function(v,T){this.g.hasOwnProperty(T)&&dr(v)},h),h.g={}}Li.prototype.N=function(){Li.aa.N.call(this),Xt(this)},Li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=f.JSON.stringify,en=f.JSON.parse,mo=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function es(){}es.prototype.h=null;function ga(h){return h.h||(h.h=h.i())}function J(){}var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Se(){$.call(this,"d")}N(Se,$);function Xe(){$.call(this,"c")}N(Xe,$);var xe={},We=null;function lt(){return We=We||new Ot}xe.La="serverreachability";function ti(h){$.call(this,xe.La,h)}N(ti,$);function Ui(h){const v=lt();At(v,new ti(v))}xe.STAT_EVENT="statevent";function ts(h,v){$.call(this,xe.STAT_EVENT,h),this.stat=v}N(ts,$);function on(h){const v=lt();At(v,new ts(v,h))}xe.Ma="timingevent";function Hl(h,v){$.call(this,xe.Ma,h),this.size=v}N(Hl,$);function ns(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function ql(h,v,T,x,q,Z){h.info(function(){if(h.g)if(Z)for(var he="",rt=Z.split("&"),zt=0;zt<rt.length;zt++){var Ue=rt[zt].split("=");if(1<Ue.length){var nn=Ue[0];Ue=Ue[1];var rn=nn.split("_");he=2<=rn.length&&rn[1]=="type"?he+(nn+"="+Ue+"&"):he+(nn+"=redacted&")}}else he=null;else he=Z;return"XMLHTTP REQ ("+x+") [attempt "+q+"]: "+v+`
`+T+`
`+he})}function Gl(h,v,T,x,q,Z,he){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+q+"]: "+v+`
`+T+`
`+Z+" "+he})}function mr(h,v,T,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ji(h,T)+(x?" "+x:"")})}function Gc(h,v){h.info(function(){return"TIMEOUT: "+v})}is.prototype.info=function(){};function ji(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var x=T[h];if(!(2>x.length)){var q=x[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var he=1;he<q.length;he++)q[he]=""}}}}return Rn(T)}catch{return v}}var St={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ln={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zi;function rs(){}N(rs,es),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},zi=new rs;function Bi(h,v,T,x){this.j=h,this.i=v,this.l=T,this.R=x||1,this.U=new Li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kc}function Kc(){this.i=null,this.g="",this.h=!1}var Kl={},pr={};function ya(h,v,T){h.L=1,h.v=ba(xt(v)),h.m=T,h.P=!0,gr(h,null)}function gr(h,v){h.F=Date.now(),Ti(h),h.A=xt(h.v);var T=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),_r(T.i,"t",x),h.C=0,T=h.j.J,h.h=new Kc,h.g=lh(h.j,T?v:null,!h.m),0<h.O&&(h.M=new fo(E(h.Y,h,h.g),h.O)),v=h.U,T=h.g,x=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(bi[0]=q.toString()),q=bi);for(var Z=0;Z<q.length;Z++){var he=fr(T,q[Z],x||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ui(),ql(h.i,h.u,h.A,h.l,h.R,h.m)}Bi.prototype.ca=function(h){h=h.target;const v=this.M;v&&Dn(h)==3?v.j():this.Y(h)},Bi.prototype.Y=function(h){try{if(h==this.g)e:{const rn=Dn(this.g);var v=this.g.Ba();const ys=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||wa(this.g)))){this.J||rn!=4||v==7||(v==8||0>=ys?Ui(3):Ui(2)),po(this);var T=this.g.Z();this.X=T;t:if(yr(this)){var x=wa(this.g);h="";var q=x.length,Z=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),ss(this);var he="";break t}this.h.i=new f.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(x[v],{stream:!(Z&&v==q-1)});x.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=T==200,Gl(this.i,this.u,this.A,this.l,this.R,rn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,zt=this.g;if((rt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(rt)){var Ue=rt;break t}}Ue=null}if(T=Ue)mr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,T);else{this.o=!1,this.s=3,on(12),Cn(this),ss(this);break e}}if(this.P){T=!0;let kn;for(;!this.J&&this.C<he.length;)if(kn=va(this,he),kn==pr){rn==4&&(this.s=4,on(14),T=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Kl){this.s=4,on(15),mr(this.i,this.l,he,"[Invalid Chunk]"),T=!1;break}else mr(this.i,this.l,kn,null),Fi(this,kn);if(yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||he.length!=0||this.h.h||(this.s=1,on(16),T=!1),this.o=this.o&&T,!T)mr(this.i,this.l,he,"[Invalid Chunked Response]"),Cn(this),ss(this);else if(0<he.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),iu(nn),nn.M=!0,on(11))}}else mr(this.i,this.l,he,null),Fi(this,he);rn==4&&Cn(this),this.o&&!this.J&&(rn==4?sh(this.j,this):(this.o=!1,Ti(this)))}else Jc(this.g),T==400&&0<he.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),Cn(this),ss(this)}}}catch{}finally{}};function yr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function va(h,v){var T=h.C,x=v.indexOf(`
`,T);return x==-1?pr:(T=Number(v.substring(T,x)),isNaN(T)?Kl:(x+=1,x+T>v.length?pr:(v=v.slice(x,x+T),h.C=x+T,v)))}Bi.prototype.cancel=function(){this.J=!0,Cn(this)};function Ti(h){h.S=Date.now()+h.I,Vt(h,h.I)}function Vt(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ns(E(h.ba,h),v)}function po(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Bi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Gc(this.i,this.A),this.L!=2&&(Ui(),on(17)),Cn(this),this.s=2,ss(this)):Vt(this,this.S-h)};function ss(h){h.j.G==0||h.J||sh(h.j,h)}function Cn(h){po(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Xt(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Fi(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||as(T.h,h))){if(!h.K&&as(T.h,h)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var q=x;if(q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)ps(T),ms(T);else break e;nu(T),on(18)}}else T.za=q[1],0<T.za-T.T&&37500>q[2]&&T.F&&T.v==0&&!T.C&&(T.C=ns(E(T.Za,T),6e3));if(1>=$c(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Tr(T,11)}else if((h.K||T.g==h)&&ps(T),!Q(v))for(q=T.Da.g.parse(v),v=0;v<q.length;v++){let Ue=q[v];if(T.T=Ue[0],Ue=Ue[1],T.G==2)if(Ue[0]=="c"){T.K=Ue[1],T.ia=Ue[2];const nn=Ue[3];nn!=null&&(T.la=nn,T.j.info("VER="+T.la));const rn=Ue[4];rn!=null&&(T.Aa=rn,T.j.info("SVER="+T.Aa));const ys=Ue[5];ys!=null&&typeof ys=="number"&&0<ys&&(x=1.5*ys,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const kn=h.g;if(kn){const xa=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var Z=x.h;Z.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(os(Z,Z.h),Z.h=null))}if(x.D){const Er=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Er&&(x.ya=Er,Je(x.I,x.D,Er))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var he=h;if(x.qa=oh(x,x.J?x.ia:null,x.W),he.K){ni(x.h,he);var rt=he,zt=x.L;zt&&(rt.I=zt),rt.B&&(po(rt),Ti(rt)),x.g=he}else ih(x);0<T.i.length&&wo(T)}else Ue[0]!="stop"&&Ue[0]!="close"||Tr(T,7);else T.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Tr(T,7):eu(T):Ue[0]!="noop"&&T.l&&T.l.ta(Ue),T.v=0)}}Ui(4)}catch{}}var nm=class{constructor(h,v){this.g=h,this.map=v}};function $l(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $c(h){return h.h?1:h.g?h.g.size:0}function as(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function os(h,v){h.g?h.g.add(v):h.h=v}function ni(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}$l.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function In(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return L(h.i)}function Yc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,x=0;x<T;x++)v.push(h[x]);return v}v=[],T=0;for(x in h)v[T++]=h[x];return v}function im(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const x in h)v[T++]=x;return v}}}function go(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=im(h),x=Yc(h),q=x.length,Z=0;Z<q;Z++)v.call(void 0,x[Z],T&&T[Z],h)}var Ql=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yo(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var x=h[T].indexOf("="),q=null;if(0<=x){var Z=h[T].substring(0,x);q=h[T].substring(x+1)}else Z=h[T];v(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof vr){this.h=h.h,ls(this,h.j),this.o=h.o,this.g=h.g,_a(this,h.s),this.l=h.l;var v=h.i,T=new Hi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),vo(this,T),this.m=h.m}else h&&(v=String(h).match(Ql))?(this.h=!1,ls(this,v[1]||"",!0),this.o=us(v[2]||""),this.g=us(v[3]||"",!0),_a(this,v[4]),this.l=us(v[5]||"",!0),vo(this,v[6]||"",!0),this.m=us(v[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}vr.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ii(v,Xl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ii(v,Xl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(ii(T,T.charAt(0)=="/"?Wl:Qc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",ii(T,am)),h.join("")};function xt(h){return new vr(h)}function ls(h,v,T){h.j=T?us(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function _a(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function vo(h,v,T){v instanceof Hi?(h.i=v,Xc(h.i,h.h)):(T||(v=ii(v,sm)),h.i=new Hi(v,h.h))}function Je(h,v,T){h.i.set(v,T)}function ba(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function us(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ii(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,rm),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function rm(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xl=/[#\/\?@]/g,Qc=/[#\?:]/g,Wl=/[#\?]/g,sm=/[#\?@]/g,am=/#/g;function Hi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function tn(h){h.g||(h.g=new Map,h.h=0,h.i&&yo(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}t=Hi.prototype,t.add=function(h,v){tn(this),this.i=null,h=qn(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function _o(h,v){tn(h),v=qn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function bo(h,v){return tn(h),v=qn(h,v),h.g.has(v)}t.forEach=function(h,v){tn(this),this.g.forEach(function(T,x){T.forEach(function(q){h.call(v,q,x,this)},this)},this)},t.na=function(){tn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const q=h[x];for(let Z=0;Z<q.length;Z++)T.push(v[x])}return T},t.V=function(h){tn(this);let v=[];if(typeof h=="string")bo(this,h)&&(v=v.concat(this.g.get(qn(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},t.set=function(h,v){return tn(this),this.i=null,h=qn(this,h),bo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function _r(h,v,T){_o(h,v),0<T.length&&(h.i=null,h.g.set(qn(h,v),L(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const Z=encodeURIComponent(String(x)),he=this.V(x);for(x=0;x<he.length;x++){var q=Z;he[x]!==""&&(q+="="+encodeURIComponent(String(he[x]))),h.push(q)}}return this.i=h.join("&")};function qn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Xc(h,v){v&&!h.j&&(tn(h),h.i=null,h.g.forEach(function(T,x){var q=x.toLowerCase();x!=q&&(_o(this,x),_r(this,q,T))},h)),h.j=v}function Zl(h,v){const T=new is;if(f.Image){const x=new Image;x.onload=R(Mn,T,"TestLoadImage: loaded",!0,v,x),x.onerror=R(Mn,T,"TestLoadImage: error",!1,v,x),x.onabort=R(Mn,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=R(Mn,T,"TestLoadImage: timeout",!1,v,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Wc(h,v){const T=new is,x=new AbortController,q=setTimeout(()=>{x.abort(),Mn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(Z=>{clearTimeout(q),Z.ok?Mn(T,"TestPingServer: ok",!0,v):Mn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Mn(T,"TestPingServer: error",!1,v)})}function Mn(h,v,T,x,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),x(T)}catch{}}function Ei(){this.g=new mo}function Jl(h,v,T){const x=T||"";try{go(h,function(q,Z){let he=q;p(q)&&(he=Rn(q)),v.push(x+Z+"="+encodeURIComponent(he))})}catch(q){throw v.push(x+"type="+encodeURIComponent("_badmap")),q}}function qi(h){this.l=h.Ub||null,this.j=h.eb||!1}N(qi,es),qi.prototype.g=function(){return new Gn(this.l,this.j)},qi.prototype.i=(function(h){return function(){return h}})({});function Gn(h,v){Ot.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Gn,Ot),t=Gn.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,cs(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;To(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function To(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Gi(this):cs(this),this.readyState==3&&To(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Gi(this))},t.Qa=function(h){this.g&&(this.response=h,Gi(this))},t.ga=function(){this.g&&Gi(this)};function Gi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,cs(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function cs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Gn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ta(h){let v="";return ce(h,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function hs(h,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Ta(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Je(h,v,T))}function mt(h){Ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(mt,Ot);var vn=/^https?$/i,br=["POST","PUT"];t=mt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zi.g(),this.v=this.o?ga(this.o):ga(zi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){Ea(this,Z);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var q in x)T.set(q,x[q]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Z of x.keys())T.set(Z,x.get(Z));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(br,v,void 0))||x||q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of T)this.g.setRequestHeader(Z,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){Ea(this,Z)}};function Ea(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,fs(h),ds(h)}function fs(h){h.A||(h.A=!0,At(h,"complete"),At(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,At(this,"complete"),At(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zc(this):this.bb())},t.bb=function(){Zc(this)};function Zc(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Dn(h)!=4||h.Z()!=2)){if(h.u&&Dn(h)==4)Pi(h.Ea,0,h);else if(At(h,"readystatechange"),Dn(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=he===0){var q=String(h.D).match(Ql)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),x=!vn.test(q?q.toLowerCase():"")}T=x}if(T)At(h,"complete"),At(h,"success");else{h.m=6;try{var Z=2<Dn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",fs(h)}}finally{ds(h)}}}}function ds(h,v){if(h.g){Eo(h);const T=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||At(h,"ready");try{T.onreadystatechange=x}catch{}}}function Eo(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Dn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),en(v)}};function wa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(h){const v={};h=(h.g&&2<=Dn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(Q(h[x]))continue;var T=U(h[x]);const q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[q]||[];v[q]=Z,Z.push(T)}I(v,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function eh(h){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,h),this.cb=Aa("retryDelaySeedMs",1e4,h),this.Wa=Aa("forwardChannelMaxRetries",2,h),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new $l(h&&h.concurrentRequestLimit),this.Da=new Ei,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=eh.prototype,t.la=8,t.G=1,t.connect=function(h,v,T,x){on(0),this.W=h,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=oh(this,null,this.W),wo(this)};function eu(h){if(th(h),h.G==3){var v=h.U++,T=xt(h.I);if(Je(T,"SID",h.K),Je(T,"RID",v),Je(T,"TYPE","terminate"),Sa(h,T),v=new Bi(h,h.j,v),v.L=2,v.v=ba(xt(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=lh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ti(v)}ru(h)}function ms(h){h.g&&(iu(h),h.g.cancel(),h.g=null)}function th(h){ms(h),h.u&&(f.clearTimeout(h.u),h.u=null),ps(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function wo(h){if(!Yl(h.h)&&!h.s){h.s=!0;var v=h.Ga;se||De(),ne||(se(),ne=!0),Ne.add(v,h),h.B=0}}function om(h,v){return $c(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ns(E(h.Ga,h,v),ah(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new Bi(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=S(Z),k(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=tu(this,q,v),T=xt(this.I),Je(T,"RID",h),Je(T,"CVER",22),this.D&&Je(T,"X-HTTP-Session-Id",this.D),Sa(this,T),Z&&(this.O?v="headers="+encodeURIComponent(String(Ta(Z)))+"&"+v:this.m&&hs(T,this.m,Z)),os(this.h,q),this.Ua&&Je(T,"TYPE","init"),this.P?(Je(T,"$req",v),Je(T,"SID","null"),q.T=!0,ya(q,T,null)):ya(q,T,v),this.G=2}}else this.G==3&&(h?nh(this,h):this.i.length==0||Yl(this.h)||nh(this))};function nh(h,v){var T;v?T=v.l:T=h.U++;const x=xt(h.I);Je(x,"SID",h.K),Je(x,"RID",T),Je(x,"AID",h.T),Sa(h,x),h.m&&h.o&&hs(x,h.m,h.o),T=new Bi(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=tu(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),os(h.h,T),ya(T,x,v)}function Sa(h,v){h.H&&ce(h.H,function(T,x){Je(v,x,T)}),h.l&&go({},function(T,x){Je(v,x,T)})}function tu(h,v,T){T=Math.min(h.i.length,T);var x=h.l?E(h.l.Na,h.l,h):null;e:{var q=h.i;let Z=-1;for(;;){const he=["count="+T];Z==-1?0<T?(Z=q[0].g,he.push("ofs="+Z)):Z=0:he.push("ofs="+Z);let rt=!0;for(let zt=0;zt<T;zt++){let Ue=q[zt].g;const nn=q[zt].map;if(Ue-=Z,0>Ue)Z=Math.max(0,q[zt].g-100),rt=!1;else try{Jl(nn,he,"req"+Ue+"_")}catch{x&&x(nn)}}if(rt){x=he.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,x}function ih(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;se||De(),ne||(se(),ne=!0),Ne.add(v,h),h.v=0}}function nu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ns(E(h.Fa,h),ah(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ns(E(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),ms(this),rh(this))};function iu(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function rh(h){h.g=new Bi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xt(h.qa);Je(v,"RID","rpc"),Je(v,"SID",h.K),Je(v,"AID",h.T),Je(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(v,"TO",h.ja),Je(v,"TYPE","xmlhttp"),Sa(h,v),h.m&&h.o&&hs(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=ba(xt(v)),T.m=null,T.P=!0,gr(T,h)}t.Za=function(){this.C!=null&&(this.C=null,ms(this),nu(this),on(19))};function ps(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function sh(h,v){var T=null;if(h.g==v){ps(h),iu(h),h.g=null;var x=2}else if(as(h.h,v))T=v.D,ni(h.h,v),x=1;else return;if(h.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;x=lt(),At(x,new Hl(x,T)),wo(h)}else ih(h);else if(q=v.s,q==3||q==0&&0<v.X||!(x==1&&om(h,v)||x==2&&nu(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),q){case 1:Tr(h,5);break;case 4:Tr(h,10);break;case 3:Tr(h,6);break;default:Tr(h,2)}}}function ah(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Tr(h,v){if(h.j.info("Error code "+v),v==2){var T=E(h.fb,h),x=h.Xa;const q=!x;x=new vr(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ls(x,"https"),ba(x),q?Zl(x.toString(),T):Wc(x.toString(),T)}else on(2);h.G=0,h.l&&h.l.sa(v),ru(h),th(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function ru(h){if(h.G=0,h.ka=[],h.l){const v=In(h.h);(v.length!=0||h.i.length!=0)&&(M(h.ka,v),M(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function oh(h,v,T){var x=T instanceof vr?xt(T):new vr(T);if(x.g!="")v&&(x.g=v+"."+x.g),_a(x,x.s);else{var q=f.location;x=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Z=new vr(null);x&&ls(Z,x),v&&(Z.g=v),q&&_a(Z,q),T&&(Z.l=T),x=Z}return T=h.D,v=h.ya,T&&v&&Je(x,T,v),Je(x,"VER",h.la),Sa(h,x),x}function lh(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new mt(new qi({eb:T})):new mt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ao(){}Ao.prototype.g=function(h,v){return new Nn(h,v)};function Nn(h,v){Ot.call(this),this.g=new eh(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!Q(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new gs(this)}N(Nn,Ot),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){eu(this.g)},Nn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Rn(h),h=T);v.i.push(new nm(v.Ya++,h)),v.G==3&&wo(v)},Nn.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,Nn.aa.N.call(this)};function ch(h){Se.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}N(ch,Se);function hh(){Xe.call(this),this.status=1}N(hh,Xe);function gs(h){this.g=h}N(gs,uh),gs.prototype.ua=function(){At(this.g,"a")},gs.prototype.ta=function(h){At(this.g,new ch(h))},gs.prototype.sa=function(h){At(this.g,new hh)},gs.prototype.ra=function(){At(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,vR=function(){return new Ao},yR=function(){return lt()},gR=xe,wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,Ff=St,ln.COMPLETE="complete",pR=ln,J.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Xu=J,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,mR=mt}).apply(typeof wf<"u"?wf:typeof self<"u"?self:typeof window<"u"?window:{});const Ww="@firebase/firestore",Zw="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new Iv("@firebase/firestore");function tl(){return no.logLevel}function pe(t,...e){if(no.logLevel<=Ge.DEBUG){const n=e.map(Bv);no.debug(`Firestore (${Ll}): ${t}`,...n)}}function Qr(t,...e){if(no.logLevel<=Ge.ERROR){const n=e.map(Bv);no.error(`Firestore (${Ll}): ${t}`,...n)}}function na(t,...e){if(no.logLevel<=Ge.WARN){const n=e.map(Bv);no.warn(`Firestore (${Ll}): ${t}`,...n)}}function Bv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_R(t,r,n)}function _R(t,e,n){let r=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qr(r),new Error(r)}function st(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||_R(e,a,r)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tn.UNAUTHENTICATED)))}shutdown(){}}class IL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DL{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new bR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new Tn(e)}}class NL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=ML(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Ay(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return ze(r,a);{const l=TR(),c=kL(l.encode(e1(t,n)),l.encode(e1(e,n)));return c!==0?c:ze(r,a)}}n+=r>65535?2:1}return ze(t.length,e.length)}function e1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ze(t[n],e[n]);return ze(t.length,e.length)}function wl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="__name__";class Xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Xi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const r=Xi.isNumericId(e),a=Xi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):Ay(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class dt extends Xi{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new dt(n)}static emptyPath(){return new dt([])}}const PL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Xi{construct(e,n,r){return new pn(e,n,r)}static isValidIdentifier(e){return PL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===t1}static keyField(){return new pn([t1])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(dt.fromString(e))}static fromName(e){return new we(dt.fromString(e).popFirst(5))}static empty(){return new we(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LL(t,e,n,r){if(e===!0&&r===!0)throw new de(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n1(t){if(!we.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i1(t){if(we.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce(12329,{type:typeof t})}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(t);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function jc(t,e){if(!wR(t))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new de(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=-62135596800,s1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*s1);return new yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r1)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s1}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Yt("string",yt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new yt(0,0))}static max(){return new Ve(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function UL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new ia(a,we.empty(),e)}function jL(t){return new ia(t.readTime,t.key,bc)}class ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ia(Ve.min(),we.empty(),bc)}static max(){return new ia(Ve.max(),we.empty(),bc)}}function zL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==BL)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):oe.reject(n)}static resolve(e){return new oe(((n,r)=>{n(e)}))}static reject(e){return new oe(((n,r)=>{r(e)}))}static waitFor(e){return new oe(((n,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>r(m)))})),c=!0,l===a&&n()}))}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next((a=>a?oe.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new oe(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((y=>{c[p]=y,++f,f===l&&r(c)}),(y=>a(y)))}}))}static doWhile(e,n){return new oe(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function HL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Ud.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-1;function jd(t){return t==null}function hd(t){return t===0&&1/t==-1/0}function qL(t){return typeof t=="number"&&Number.isInteger(t)&&!hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="";function GL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=a1(e)),e=KL(t.get(n),e);return a1(e)}function KL(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case AR:n+="";break;default:n+=l}}return n}function a1(t){return t+AR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??mn.RED,this.left=a??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new mn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l1(this.data.getIterator())}getIteratorFrom(e){return new l1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class l1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new ei([])}unionWith(e){let n=new Jt(pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new xR("Invalid base64 string: "+l):l}})(e);return new gn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const $L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=$L.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sa(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="server_timestamp",CR="__type__",IR="__previous_value__",DR="__local_write_time__";function qv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[CR])===null||n===void 0?void 0:n.stringValue)===RR}function zd(t){const e=t.mapValue.fields[IR];return qv(e)?zd(e):e}function Tc(t){const e=ra(t.mapValue.fields[DR].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,a,l,c,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const fd="(default)";class Ec{constructor(e,n){this.projectId=e,this.database=n||fd}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="__type__",QL="__max__",Sf={mapValue:{}},OR="__vector__",dd="value";function aa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qv(t)?4:WL(t)?9007199254740991:XL(t)?10:11:Ce(28295,{value:t})}function ar(t,e){if(t===e)return!0;const n=aa(t);if(n!==aa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ra(a.timestampValue),f=ra(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return sa(a.bytesValue).isEqual(sa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Lt(a.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(a.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Lt(a.integerValue)===Lt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Lt(a.doubleValue),f=Lt(l.doubleValue);return c===f?hd(c)===hd(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(o1(c)!==o1(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!ar(c[m],f[m])))return!1;return!0})(t,e);default:return Ce(52216,{left:t})}}function wc(t,e){return(t.values||[]).find((n=>ar(n,e)))!==void 0}function Al(t,e){if(t===e)return 0;const n=aa(t),r=aa(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Lt(l.integerValue||l.doubleValue),m=Lt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return u1(t.timestampValue,e.timestampValue);case 4:return u1(Tc(t),Tc(e));case 5:return Ay(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=sa(l),m=sa(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=ze(f[p],m[p]);if(y!==0)return y}return ze(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=ze(Lt(l.latitude),Lt(c.latitude));return f!==0?f:ze(Lt(l.longitude),Lt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return c1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var f,m,p,y;const _=l.fields||{},E=c.fields||{},R=(f=_[dd])===null||f===void 0?void 0:f.arrayValue,N=(m=E[dd])===null||m===void 0?void 0:m.arrayValue,L=ze(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0);return L!==0?L:c1(R,N)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Sf.mapValue&&c===Sf.mapValue)return 0;if(l===Sf.mapValue)return 1;if(c===Sf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Ay(m[_],y[_]);if(E!==0)return E;const R=Al(f[m[_]],p[y[_]]);if(R!==0)return R}return ze(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Ce(23264,{le:n})}}function u1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=ra(t),r=ra(e),a=ze(n.seconds,r.seconds);return a!==0?a:ze(n.nanos,r.nanos)}function c1(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Al(n[a],r[a]);if(l)return l}return ze(n.length,r.length)}function Sl(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ra(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return sa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Sy(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Sy(n.fields[c])}`;return a+"}"})(t.mapValue):Ce(61005,{value:t})}function Hf(t){switch(aa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(t);return e?16+Hf(e):16;case 5:return 2*t.stringValue.length;case 6:return sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Hf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ha(r.fields,((l,c)=>{a+=l.length+Hf(c)})),a})(t.mapValue);default:throw Ce(13486,{value:t})}}function h1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xy(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function f1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qf(t){return!!t&&"mapValue"in t}function XL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NR])===null||n===void 0?void 0:n.stringValue)===OR}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=oc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=pn.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=oc(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ha(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Fn(oc(this.value))}}function VR(t){const e=[];return ha(t.fields,((n,r)=>{const a=new pn([n]);if(qf(r)){const l=VR(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,r,a,l,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new En(e,0,Ve.min(),Ve.min(),Ve.min(),Fn.empty(),0)}static newFoundDocument(e,n,r,a){return new En(e,1,n,Ve.min(),r,a,0)}static newNoDocument(e,n){return new En(e,2,n,Ve.min(),Ve.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,Ve.min(),Ve.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.position=e,this.inclusive=n}}function m1(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?r=we.comparator(we.fromName(c.referenceValue),n.key):r=Al(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function p1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{}class $t extends MR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eU(e,n,r):n==="array-contains"?new iU(e,r):n==="in"?new rU(e,r):n==="not-in"?new sU(e,r):n==="array-contains-any"?new aU(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tU(e,r):new nU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Al(n,this.value)):n!==null&&aa(this.value)===aa(n)&&this.matchesComparison(Al(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends MR{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Vi(e,n)}matches(e){return kR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function kR(t){return t.op==="and"}function PR(t){return JL(t)&&kR(t)}function JL(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function Ry(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Sl(t.value);if(PR(t))return t.filters.map((e=>Ry(e))).join(",");{const e=t.filters.map((n=>Ry(n))).join(",");return`${t.op}(${e})`}}function LR(t,e){return t instanceof $t?(function(r,a){return a instanceof $t&&r.op===a.op&&r.field.isEqual(a.field)&&ar(r.value,a.value)})(t,e):t instanceof Vi?(function(r,a){return a instanceof Vi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&LR(c,a.filters[f])),!0):!1})(t,e):void Ce(19439)}function UR(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sl(n.value)}`})(t):t instanceof Vi?(function(n){return n.op.toString()+" {"+n.getFilters().map(UR).join(" ,")+"}"})(t):"Filter"}class eU extends $t{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class tU extends $t{constructor(e,n){super(e,"in",n),this.keys=jR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class nU extends $t{constructor(e,n){super(e,"not-in",n),this.keys=jR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function jR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>we.fromName(r.referenceValue)))}class iU extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gv(n)&&wc(n.arrayValue,this.value)}}class rU extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class sU extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class aU extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Pe=null}}function g1(t,e=null,n=[],r=[],a=null,l=null,c=null){return new oU(t,e,n,r,a,l,c)}function Kv(t){const e=ke(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ry(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sl(r))).join(",")),e.Pe=n}return e.Pe}function $v(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p1(t.startAt,e.startAt)&&p1(t.endAt,e.endAt)}function Cy(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lU(t,e,n,r,a,l,c,f){return new zl(t,e,n,r,a,l,c,f)}function Yv(t){return new zl(t)}function y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zR(t){return t.collectionGroup!==null}function lc(t){const e=ke(t);if(e.Te===null){e.Te=[];const n=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Jt(pn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Ac(l,r))})),n.has(pn.keyField().canonicalString())||e.Te.push(new Ac(pn.keyField(),r))}return e.Te}function nr(t){const e=ke(t);return e.Ie||(e.Ie=uU(e,lc(t))),e.Ie}function uU(t,e){if(t.limitType==="F")return g1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ac(a.field,l)}));const n=t.endAt?new md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new md(t.startAt.position,t.startAt.inclusive):null;return g1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iy(t,e){const n=t.filters.concat([e]);return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pd(t,e,n){return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bd(t,e){return $v(nr(t),nr(e))&&t.limitType===e.limitType}function BR(t){return`${Kv(nr(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>UR(a))).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Sl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Sl(a))).join(",")),`Target(${r})`})(nr(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):we.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of lc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,m){const p=m1(c,f,m);return c.inclusive?p<=0:p<0})(r.startAt,lc(r),a)||r.endAt&&!(function(c,f,m){const p=m1(c,f,m);return c.inclusive?p>=0:p>0})(r.endAt,lc(r),a))})(t,e)}function cU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FR(t){return(e,n)=>{let r=!1;for(const a of lc(t)){const l=hU(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function hU(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Al(m,p):Ce(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return SR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new wt(we.comparator);function Xr(){return fU}const HR=new wt(we.comparator);function Wu(...t){let e=HR;for(const n of t)e=e.insert(n.key,n);return e}function qR(t){let e=HR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ya(){return uc()}function GR(){return uc()}function uc(){return new oo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dU=new wt(we.comparator),mU=new Jt(we.comparator);function Ke(...t){let e=mU;for(const n of t)e=e.add(n);return e}const pU=new Jt(ze);function gU(){return pU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function KR(t){return{integerValue:""+t}}function yU(t,e){return qL(e)?KR(e):Qv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function vU(t,e,n){return t instanceof gd?(function(a,l){const c={fields:{[CR]:{stringValue:RR},[DR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&qv(l)&&(l=zd(l)),l&&(c.fields[IR]=l),{mapValue:c}})(n,e):t instanceof Sc?YR(t,e):t instanceof xc?QR(t,e):(function(a,l){const c=$R(a,l),f=v1(c)+v1(a.Ee);return xy(c)&&xy(a.Ee)?KR(f):Qv(a.serializer,f)})(t,e)}function _U(t,e,n){return t instanceof Sc?YR(t,e):t instanceof xc?QR(t,e):n}function $R(t,e){return t instanceof yd?(function(r){return xy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class gd extends Hd{}class Sc extends Hd{constructor(e){super(),this.elements=e}}function YR(t,e){const n=XR(e);for(const r of t.elements)n.some((a=>ar(a,r)))||n.push(r);return{arrayValue:{values:n}}}class xc extends Hd{constructor(e){super(),this.elements=e}}function QR(t,e){let n=XR(e);for(const r of t.elements)n=n.filter((a=>!ar(a,r)));return{arrayValue:{values:n}}}class yd extends Hd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function v1(t){return Lt(t.integerValue||t.doubleValue)}function XR(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bU(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Sc&&a instanceof Sc||r instanceof xc&&a instanceof xc?wl(r.elements,a.elements,ar):r instanceof yd&&a instanceof yd?ar(r.Ee,a.Ee):r instanceof gd&&a instanceof gd})(t.transform,e.transform)}class TU{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function WR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xv(t.key,yi.none()):new zc(t.key,t.data,yi.none());{const n=t.data,r=Fn.empty();let a=new Jt(pn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new fa(t.key,r,new ei(a.toArray()),yi.none())}}function EU(t,e,n){t instanceof zc?(function(a,l,c){const f=a.value.clone(),m=b1(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof fa?(function(a,l,c){if(!Gf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=b1(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(ZR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function cc(t,e,n,r){return t instanceof zc?(function(l,c,f,m){if(!Gf(l.precondition,c))return f;const p=l.value.clone(),y=T1(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof fa?(function(l,c,f,m){if(!Gf(l.precondition,c))return f;const p=T1(l.fieldTransforms,m,c),y=c.data;return y.setAll(ZR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(l,c,f){return Gf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function wU(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=$R(r.transform,a||null);l!=null&&(n===null&&(n=Fn.empty()),n.set(r.field,l))}return n||null}function _1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&wl(r,a,((l,c)=>bU(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zc extends qd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fa extends qd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ZR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function b1(t,e,n){const r=new Map;st(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,_U(c,f,n[a]))}return r}function T1(t,e,n){const r=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);r.set(a.field,vU(l,c,e))}return r}class Xv extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AU extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&EU(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=GR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=WR(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((n,r)=>_1(n,r)))&&wl(this.baseMutations,e.baseMutations,((n,r)=>_1(n,r)))}}class Wv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){st(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let a=(function(){return dU})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Wv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ye;function CU(t){switch(t){case re.OK:return Ce(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce(15467,{code:t})}}function JR(t){if(t===void 0)return Qr("GRPC error has no .code"),re.UNKNOWN;switch(t){case Gt.OK:return re.OK;case Gt.CANCELLED:return re.CANCELLED;case Gt.UNKNOWN:return re.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return re.INTERNAL;case Gt.UNAVAILABLE:return re.UNAVAILABLE;case Gt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Gt.NOT_FOUND:return re.NOT_FOUND;case Gt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Gt.ABORTED:return re.ABORTED;case Gt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Gt.DATA_LOSS:return re.DATA_LOSS;default:return Ce(39323,{code:t})}}(Ye=Gt||(Gt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=new Ws([4294967295,4294967295],0);function E1(t){const e=TR().encode(t),n=new dR;return n.update(e),new Uint8Array(n.digest())}function w1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([a,l],0)]}class Zv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(r<0)throw new Zu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ws.fromNumber(this.fe)}pe(e,n,r){let a=e.add(n.multiply(Ws.fromNumber(r)));return a.compare(IU)===1&&(a=new Ws([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=E1(e),[r,a]=w1(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);if(!this.ye(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zv(l,a,n);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.fe===0)return;const n=E1(e),[r,a]=w1(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);this.we(c)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gd(Ve.min(),a,new wt(ze),Xr(),Ke())}}class Bc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r,a){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=a}}class eC{constructor(e,n){this.targetId=e,this.De=n}}class tC{constructor(e,n,r=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class A1{constructor(){this.ve=0,this.Ce=S1(),this.Fe=gn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ke(),n=Ke(),r=Ke();return this.Ce.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ce(38017,{changeType:l})}})),new Bc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=S1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class DU{constructor(e){this.We=e,this.Ge=new Map,this.ze=Xr(),this.je=xf(),this.Je=xf(),this.He=new wt(ze)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((r,a)=>{this.nt(a)&&n(a)}))}it(e){const n=e.targetId,r=e.De.count,a=this.st(n);if(a){const l=a.target;if(Cy(l))if(r===0){const c=new we(l.path);this.Xe(n,c,En.newNoDocument(c,Ve.min()))}else st(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const f=this._t(e),m=f?this.ut(f,e,c):1;if(m!==0){this.rt(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=sa(r).toUint8Array()}catch(m){if(m instanceof xR)return na("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Zv(c,a,l)}catch(m){return na(m instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.We.lt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(n,l,null),a++)})),a}Pt(e){const n=new Map;this.Ge.forEach(((l,c)=>{const f=this.st(c);if(f){if(l.current&&Cy(f.target)){const m=new we(f.target.path);this.Tt(m).has(c)||this.It(c,m)||this.Xe(c,m,En.newNoDocument(m,e))}l.Ne&&(n.set(c,l.Le()),l.ke())}}));let r=Ke();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.st(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.ze.forEach(((l,c)=>c.setReadTime(e)));const a=new Gd(e,n,this.He,this.ze,r);return this.ze=Xr(),this.je=xf(),this.Je=xf(),this.He=new wt(ze),a}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new A1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Jt(ze),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Jt(ze),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new A1),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function xf(){return new wt(we.comparator)}function S1(){return new wt(we.comparator)}const NU={asc:"ASCENDING",desc:"DESCENDING"},OU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VU={and:"AND",or:"OR"};class MU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dy(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kU(t,e){return vd(t,e.toTimestamp())}function ir(t){return st(!!t,49232),Ve.fromTimestamp((function(n){const r=ra(n);return new yt(r.seconds,r.nanos)})(t))}function Jv(t,e){return Ny(t,e).canonicalString()}function Ny(t,e){const n=(function(a){return new dt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function iC(t){const e=dt.fromString(t);return st(lC(e),10190,{key:e.toString()}),e}function Oy(t,e){return Jv(t.databaseId,e.path)}function Vg(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(sC(n))}function rC(t,e){return Jv(t.databaseId,e)}function PU(t){const e=iC(t);return e.length===4?dt.emptyPath():sC(e)}function Vy(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sC(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x1(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function LU(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(st(y===void 0||typeof y=="string",58123),gn.fromBase64String(y||"")):(st(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),gn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?re.UNKNOWN:JR(p.code);return new de(y,p.message||"")})(c);n=new tC(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vg(t,r.document.name),l=ir(r.document.updateTime),c=r.document.createTime?ir(r.document.createTime):Ve.min(),f=new Fn({mapValue:{fields:r.document.fields}}),m=En.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Kf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Vg(t,r.document),l=r.readTime?ir(r.readTime):Ve.min(),c=En.newNoDocument(a,l),f=r.removedTargetIds||[];n=new Kf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Vg(t,r.document),l=r.removedTargetIds||[];n=new Kf([],l,a,null)}else{if(!("filter"in e))return Ce(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new RU(a,l),f=r.targetId;n=new eC(f,c)}}return n}function UU(t,e){let n;if(e instanceof zc)n={update:x1(t,e.key,e.value)};else if(e instanceof Xv)n={delete:Oy(t,e.key)};else if(e instanceof fa)n={update:x1(t,e.key,e.data),updateMask:$U(e.fieldMask)};else{if(!(e instanceof AU))return Ce(16599,{Rt:e.type});n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof gd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Sc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof xc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yd)return{fieldPath:c.field.canonicalString(),increment:f.Ee};throw Ce(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:kU(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ce(27497)})(t,e.precondition)),n}function jU(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?ir(a.updateTime):ir(l);return c.isEqual(Ve.min())&&(c=ir(l)),new TU(c,a.transformResults||[])})(n,e)))):[]}function zU(t,e){return{documents:[rC(t,e.path)]}}function BU(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rC(t,a);const l=(function(p){if(p.length!==0)return oC(Vi.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:il(E.field),direction:qU(E.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Dy(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{Vt:n,parent:a}}function FU(t){let e=PU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){st(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=aC(_);return E instanceof Vi&&PR(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(N){return new Ac(rl(N.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,jd(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,R=_.values||[];return new md(R,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,R=_.values||[];return new md(R,E)})(n.endAt)),lU(e,a,c,l,f,"F",m,p)}function HU(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rl(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rl(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(rl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vi.create(n.compositeFilter.filters.map((r=>aC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(t):Ce(30097,{filter:t})}function qU(t){return NU[t]}function GU(t){return OU[t]}function KU(t){return VU[t]}function il(t){return{fieldPath:t.canonicalString()}}function rl(t){return pn.fromServerFormat(t.fieldPath)}function oC(t){return t instanceof $t?(function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(f1(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(f1(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:GU(n.op),value:n.value}}})(t):t instanceof Vi?(function(n){const r=n.getFilters().map((a=>oC(a)));return r.length===1?r[0]:{compositeFilter:{op:KU(n.op),filters:r}}})(t):Ce(54877,{filter:t})}function $U(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function lC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,a,l=Ve.min(),c=Ve.min(),f=gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.gt=e}}function QU(t){const e=FU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.Dn=new WU}addToCollectionParentIndex(e,n){return this.Dn.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(ia.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class WU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Jt(dt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Jt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uC=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(uC,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new xl(0)}static ur(){return new xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="LruGarbageCollector",ZU=1048576;function I1([t,e],[n,r]){const a=ze(t,n);return a===0?ze(e,r):a}class JU{constructor(e){this.Tr=e,this.buffer=new Jt(I1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ej{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){pe(C1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?pe(C1,"Ignoring IndexedDB error during garbage collection: ",n):await Ul(n)}await this.Rr(3e5)}))}}class tj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return oe.resolve(Ud.ue);const r=new JU(n);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(R1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R1):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(r=_,f=Date.now(),this.removeTargets(e,r,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),tl()<=Ge.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function nj(t,e){return new tj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.changes=new oo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&cc(r.mutation,a,ei.empty(),yt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const a=Ya();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let c=Wu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Ya();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,r,a){let l=Xr();const c=uc(),f=(function(){return uc()})();return n.forEach(((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof fa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),cc(y.mutation,p,y.mutation.getFieldMask(),yt.now())):c.set(p.key,ei.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>{var _;return f.set(p,new rj(y,(_=c.get(p))!==null&&_!==void 0?_:null))})),f)))}recalculateAndSaveOverlays(e,n){const r=uc();let a=new wt(((c,f)=>c-f)),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||ei.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Ke()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=GR();y.forEach((E=>{if(!l.has(E)){const R=WR(n.get(E),r.get(E));R!==null&&_.set(E,R),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return oe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):oe.resolve(Ya());let f=bc,m=l;return c.next((p=>oe.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Ke()))).next((y=>({batchId:f,changes:qR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((r=>{let a=Wu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let c=Wu();return this.indexManager.getCollectionParents(e,l).next((f=>oe.forEach(f,(m=>{const p=(function(_,E){return new zl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,En.newInvalidDocument(y)))}));let f=Wu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&cc(y.mutation,p,ei.empty(),yt.now()),Fd(n,p)&&(f=f.insert(m,p))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return oe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ir(a.createTime)}})(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(a){return{name:a.name,query:QU(a.bundledQuery),readTime:ir(a.readTime)}})(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.overlays=new wt(we.comparator),this.kr=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ya();return oe.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.wt(e,n,l)})),oe.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const a=Ya(),l=n.length+1,c=new we(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new wt(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ya(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Ya(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return oe.resolve(f)}wt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new xU(n,r));let l=this.kr.get(n);l===void 0&&(l=Ke(),this.kr.set(n,l)),this.kr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.qr=new Jt(an.Qr),this.$r=new Jt(an.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new an(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new an(e,n))}Gr(e,n){e.forEach((r=>this.removeReference(r,n)))}zr(e){const n=new we(new dt([])),r=new an(n,e),a=new an(n,e+1),l=[];return this.$r.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new we(new dt([])),r=new an(n,e),a=new an(n,e+1);let l=Ke();return this.$r.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new an(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return we.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Jt(an.Qr)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SU(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Yr=this.Yr.add(new an(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,n){return oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?Hv:this.er-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),a=new an(n,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(ze);return n.forEach((a=>{const l=new an(a,0),c=new an(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],(f=>{r=r.add(f.Hr)}))})),oe.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;we.isDocumentKey(l)||(l=l.child(""));const c=new an(new we(l),0);let f=new Jt(ze);return this.Yr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),c),oe.resolve(this.ei(f))}ei(e){const n=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){st(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return oe.forEach(n.mutations,(a=>{const l=new an(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=r}))}rr(e){}containsKey(e,n){const r=new an(n,0),a=this.Yr.firstAfterOrEqual(r);return oe.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.ni=e,this.docs=(function(){return new wt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))})),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Xr();const c=n.path,f=new we(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||zL(jL(y),r)<=0||(a.has(y.key)||Fd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ce(9500)}ri(e,n){return oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new hj(this)}getSize(e){return oe.resolve(this.size)}}class hj extends ij{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(r)})),oe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.persistence=e,this.ii=new oo((n=>Kv(n)),$v),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.si=0,this.oi=new e0,this.targetCount=0,this._i=xl.ar()}forEachTarget(e,n){return this.ii.forEach(((r,a)=>n(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),oe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.hr(n),oe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.ii.forEach(((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.ai={},this.overlays={},this.ui=new Ud(0),this.ci=!1,this.ci=!0,this.li=new lj,this.referenceDelegate=e(this),this.hi=new fj(this),this.indexManager=new XU,this.remoteDocumentCache=(function(a){return new cj(a)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new YU(n),this.Ti=new aj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new uj(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const a=new dj(this.ui.next());return this.referenceDelegate.Ii(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return oe.or(Object.values(this.ai).map((r=>()=>r.containsKey(e,n))))}}class dj extends FL{constructor(e){super(),this.currentSequenceNumber=e}}class t0{constructor(e){this.persistence=e,this.Ai=new e0,this.Ri=null}static Vi(e){return new t0(e)}get mi(){if(this.Ri)return this.Ri;throw Ce(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((a=>this.mi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.mi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.mi,(r=>{const a=we.fromPath(r);return this.fi(e,a).next((l=>{l||n.removeEntry(a,Ve.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return oe.or([()=>oe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _d{constructor(e,n){this.persistence=e,this.gi=new oo((r=>GL(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=nj(this,n)}static Vi(e,n){return new _d(e,n)}Ii(){}di(e){return oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}yr(e){let n=0;return this.gr(e,(r=>{n++})).next((()=>n))}gr(e,n){return oe.forEach(this.gi,((r,a)=>this.Sr(e,r,a).next((l=>l?oe.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,(c=>this.Sr(e,c,n).next((f=>{f||(r++,l.removeEntry(c,Ve.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),oe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hf(e.data.value)),n}Sr(e,n,r){return oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=a}static Es(e,n){let r=Ke(),a=Ke();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new n0(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return $4()?8:HL(An())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ps(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ys(e,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new mj;return this.ws(e,n,c).next((f=>{if(l.result=f,this.Rs)return this.Ss(e,n,c,f.size)}))})).next((()=>l.result))}Ss(e,n,r,a){return r.documentReadCount<this.Vs?(tl()<=Ge.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),oe.resolve()):(tl()<=Ge.DEBUG&&pe("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(tl()<=Ge.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):oe.resolve())}ps(e,n){if(y1(n))return oe.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=pd(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ke(...l);return this.gs.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((m=>{const p=this.bs(n,f);return this.Ds(n,p,c,m.readTime)?this.ps(e,pd(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ys(e,n,r,a){return y1(n)||a.isEqual(Ve.min())?oe.resolve(null):this.gs.getDocuments(e,r).next((l=>{const c=this.bs(n,l);return this.Ds(n,c,r,a)?oe.resolve(null):(tl()<=Ge.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nl(n)),this.vs(e,c,n,UL(a,bc)).next((f=>f)))}))}bs(e,n){let r=new Jt(FR(e));return n.forEach(((a,l)=>{Fd(e,l)&&(r=r.add(l))})),r}Ds(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,n,r){return tl()<=Ge.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",nl(n)),this.gs.getDocumentsMatchingQuery(e,n,ia.min(),r)}vs(e,n,r,a){return this.gs.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="LocalStore",gj=3e8;class yj{constructor(e,n,r,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new wt(ze),this.Ms=new oo((l=>Kv(l)),$v),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sj(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function vj(t,e,n,r){return new yj(t,e,n,r)}async function hC(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Ns(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let m=Ke();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next((p=>({Bs:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function _j(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Os.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,E=_.keys();let R=oe.resolve();return E.forEach((N=>{R=R.next((()=>y.getEntry(m,N))).next((L=>{const M=p.docVersions.get(N);st(M!==null,48541),L.version.compareTo(M)<0&&(_.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=Ke();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function fC(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function bj(t,e){const n=ke(t),r=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const f=[];e.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.hi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.hi.addMatchingKeys(l,y.addedDocuments,_))));let R=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(gn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),a=a.insert(_,R),(function(L,M,B){return L.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=gj?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,R,y)&&f.push(n.hi.updateTargetData(l,R))}));let m=Xr(),p=Ke();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Tj(l,c,e.documentUpdates).next((y=>{m=y.Ls,p=y.ks}))),!r.isEqual(Ve.min())){const y=n.hi.getLastRemoteSnapshotVersion(l).next((_=>n.hi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(y)}return oe.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Fs=a,l)))}function Tj(t,e,n){let r=Ke(),a=Ke();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Xr();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):pe(i0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Ls:c,ks:a}}))}function Ej(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function wj(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.hi.getTargetData(r,e).next((l=>l?(a=l,oe.resolve(a)):n.hi.allocateTargetId(r).next((c=>(a=new $s(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r}))}async function My(t,e,n){const r=ke(t),a=r.Fs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!jl(c))throw c;pe(i0,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(a.target)}function D1(t,e,n){const r=ke(t);let a=Ve.min(),l=Ke();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=ke(m),E=_.Ms.get(y);return E!==void 0?oe.resolve(_.Fs.get(E)):_.hi.getTargetData(p,y)})(r,c,nr(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,n?a:Ve.min(),n?l:Ke()))).next((f=>(Aj(r,cU(e),f),{documents:f,qs:l})))))}function Aj(t,e,n){let r=t.xs.get(e)||Ve.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.xs.set(e,r)}class N1{constructor(){this.activeTargetIds=gU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sj{constructor(){this.Fo=new N1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new N1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="ConnectivityMonitor";class V1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){pe(O1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){pe(O1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf=null;function ky(){return Rf===null?Rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rf++,"0x"+Rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="RestConnection",Rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cj{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===fd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,n,r,a,l){const c=ky(),f=this.Go(e,n.toUriEncodedString());pe(Mg,`Sending RPC '${e}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,l);const{host:p}=new URL(f),y=ro(p);return this.jo(e,f,m,r,y).then((_=>(pe(Mg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw na(Mg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",r),_}))}Jo(e,n,r,a,l,c){return this.Wo(e,n,r,a,l)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Go(e,n){const r=Rj[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class Dj extends Cj{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,a,l){const c=ky();return new Promise(((f,m)=>{const p=new mR;p.setWithCredentials(!0),p.listenOnce(pR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ff.NO_ERROR:const _=p.getResponseJson();pe(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case Ff.TIMEOUT:pe(bn,`RPC '${e}' ${c} timed out`),m(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const E=p.getStatus();if(pe(bn,`RPC '${e}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const L=(function(B){const Q=B.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Q)>=0?Q:re.UNKNOWN})(N.status);m(new de(L,N.message))}else m(new de(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(re.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{c_:e,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{pe(bn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);pe(bn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)}))}P_(e,n,r){const a=ky(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=vR(),f=yR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");pe(bn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.T_(_);let E=!1,R=!1;const N=new Ij({Ho:M=>{R?pe(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(E||(pe(bn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),pe(bn,`RPC '${e}' stream ${a} sending:`,M),_.send(M))},Yo:()=>_.close()}),L=(M,B,Q)=>{M.listen(B,(F=>{try{Q(F)}catch(le){setTimeout((()=>{throw le}),0)}}))};return L(_,Xu.EventType.OPEN,(()=>{R||(pe(bn,`RPC '${e}' stream ${a} transport opened.`),N.s_())})),L(_,Xu.EventType.CLOSE,(()=>{R||(R=!0,pe(bn,`RPC '${e}' stream ${a} transport closed`),N.__(),this.I_(_))})),L(_,Xu.EventType.ERROR,(M=>{R||(R=!0,na(bn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),N.__(new de(re.UNAVAILABLE,"The operation could not be completed")))})),L(_,Xu.EventType.MESSAGE,(M=>{var B;if(!R){const Q=M.data[0];st(!!Q,16349);const F=Q,le=(F==null?void 0:F.error)||((B=F[0])===null||B===void 0?void 0:B.error);if(le){pe(bn,`RPC '${e}' stream ${a} received error:`,le);const ue=le.status;let ce=(function(C){const k=Gt[C];if(k!==void 0)return JR(k)})(ue),I=le.message;ce===void 0&&(ce=re.INTERNAL,I="Unknown error status: "+ue+" with message "+le.message),R=!0,N.__(new de(ce,I)),_.close()}else pe(bn,`RPC '${e}' stream ${a} received:`,Q),N.a_(Q)}})),L(f,gR.STAT_EVENT,(M=>{M.stat===wy.PROXY?pe(bn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===wy.NOPROXY&&pe(bn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.o_()}),0),N}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new MU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-r);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="PersistentStream";class mC{constructor(e,n,r,a,l,c,f,m){this.Fi=e,this.w_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dC(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.b_===n&&this.W_(r,a)}),(r=>{e((()=>{const a=new de(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)}))}))}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{r((()=>this.G_(a)))})),this.stream.onMessage((a=>{r((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return pe(M1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(pe(M1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nj extends mC{constructor(e,n,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=LU(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?ir(c.readTime):Ve.min()})(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Vy(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Cy(m)?{documents:zU(l,m)}:{query:BU(l,m).Vt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=nC(l,c.resumeToken);const p=Dy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ve.min())>0){f.readTime=vd(l,c.snapshotVersion.toTimestamp());const p=Dy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,e);const r=HU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Vy(this.serializer),n.removeTarget=e,this.k_(n)}}class Oj extends mC{constructor(e,n,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=jU(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Vy(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>UU(this.serializer,r)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{}class Mj extends Vj{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Ny(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(re.UNKNOWN,l.toString())}))}Jo(e,n,r,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Jo(e,Ny(n,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(re.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class kj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Qr(n),this._a=!1):pe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class Pj{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((c=>{r.enqueueAndForget((async()=>{lo(this)&&(pe(io,"Restarting streams for network reachability change."),await(async function(m){const p=ke(m);p.Ia.add(4),await Fc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await $d(p)})(this))}))})),this.Aa=new kj(r,a)}}async function $d(t){if(lo(t))for(const e of t.da)await e(!0)}async function Fc(t){for(const e of t.da)await e(!1)}function pC(t,e){const n=ke(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),o0(n)?a0(n):Bl(n).x_()&&s0(n,e))}function r0(t,e){const n=ke(t),r=Bl(n);n.Ta.delete(e),r.x_()&&gC(n,e),n.Ta.size===0&&(r.x_()?r.B_():lo(n)&&n.Aa.set("Unknown"))}function s0(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).H_(e)}function gC(t,e){t.Ra.$e(e),Bl(t).Y_(e)}function a0(t){t.Ra=new DU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.Aa.aa()}function o0(t){return lo(t)&&!Bl(t).M_()&&t.Ta.size>0}function lo(t){return ke(t).Ia.size===0}function yC(t){t.Ra=void 0}async function Lj(t){t.Aa.set("Online")}async function Uj(t){t.Ta.forEach(((e,n)=>{s0(t,e)}))}async function jj(t,e){yC(t),o0(t)?(t.Aa.la(e),a0(t)):t.Aa.set("Unknown")}async function zj(t,e,n){if(t.Aa.set("Online"),e instanceof tC&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ta.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ta.delete(f),a.Ra.removeTarget(f))})(t,e)}catch(r){pe(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bd(t,r)}else if(e instanceof Kf?t.Ra.Ye(e):e instanceof eC?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Ve.min()))try{const r=await fC(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const f=l.Ra.Pt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ta.get(p);y&&l.Ta.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ta.get(m);if(!y)return;l.Ta.set(m,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),gC(l,m);const _=new $s(y.target,m,p,y.sequenceNumber);s0(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(r){pe(io,"Failed to raise snapshot:",r),await bd(t,r)}}async function bd(t,e,n){if(!jl(e))throw e;t.Ia.add(1),await Fc(t),t.Aa.set("Offline"),n||(n=()=>fC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(io,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await $d(t)}))}function vC(t,e){return e().catch((n=>bd(t,n,e)))}async function Yd(t){const e=ke(t),n=oa(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Hv;for(;Bj(e);)try{const a=await Ej(e.localStore,r);if(a===null){e.Pa.length===0&&n.B_();break}r=a.batchId,Fj(e,a)}catch(a){await bd(e,a)}_C(e)&&bC(e)}function Bj(t){return lo(t)&&t.Pa.length<10}function Fj(t,e){t.Pa.push(e);const n=oa(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function _C(t){return lo(t)&&!oa(t).M_()&&t.Pa.length>0}function bC(t){oa(t).start()}async function Hj(t){oa(t).na()}async function qj(t){const e=oa(t);for(const n of t.Pa)e.X_(n.mutations)}async function Gj(t,e,n){const r=t.Pa.shift(),a=Wv.from(r,e,n);await vC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Yd(t)}async function Kj(t,e){e&&oa(t).Z_&&await(async function(r,a){if((function(c){return CU(c)&&c!==re.ABORTED})(a.code)){const l=r.Pa.shift();oa(r).N_(),await vC(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Yd(r)}})(t,e),_C(t)&&bC(t)}async function k1(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),pe(io,"RemoteStore received new credentials");const r=lo(n);n.Ia.add(3),await Fc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await $d(n)}async function $j(t,e){const n=ke(t);e?(n.Ia.delete(2),await $d(n)):e||(n.Ia.add(2),await Fc(n),n.Aa.set("Unknown"))}function Bl(t){return t.Va||(t.Va=(function(n,r,a){const l=ke(n);return l.ia(),new Nj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:Lj.bind(null,t),e_:Uj.bind(null,t),n_:jj.bind(null,t),J_:zj.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),o0(t)?a0(t):t.Aa.set("Unknown")):(await t.Va.stop(),yC(t))}))),t.Va}function oa(t){return t.ma||(t.ma=(function(n,r,a){const l=ke(n);return l.ia(),new Oj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Hj.bind(null,t),n_:Kj.bind(null,t),ea:qj.bind(null,t),ta:Gj.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Yd(t)):(await t.ma.stop(),t.Pa.length>0&&(pe(io,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const c=Date.now()+r,f=new l0(e,n,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u0(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),jl(t))return new de(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(){this.fa=new wt(we.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ce(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Rl{constructor(e,n,r,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new Rl(e,n,vl.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class Qj{constructor(){this.queries=L1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const a=ke(n),l=a.queries;a.queries=L1(),l.forEach(((c,f)=>{for(const m of f.wa)m.onError(r)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function L1(){return new oo((t=>BR(t)),Bd)}async function TC(t,e){const n=ke(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.ba()&&(r=2):(l=new Yj,r=e.ba()?0:1);try{switch(r){case 0:l.ya=await n.onListen(a,!0);break;case 1:l.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=u0(c,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.wa.push(e),e.va(n.onlineState),l.ya&&e.Ca(l.ya)&&c0(n)}async function EC(t,e){const n=ke(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xj(t,e){const n=ke(t);let r=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.wa)f.Ca(a)&&(r=!0);c.ya=a}}r&&c0(n)}function Wj(t,e,n){const r=ke(t),a=r.queries.get(e);if(a)for(const l of a.wa)l.onError(n);r.queries.delete(e)}function c0(t){t.Da.forEach((e=>{e.next()}))}var Py,U1;(U1=Py||(Py={})).Fa="default",U1.Cache="cache";class wC{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Py.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.key=e}}class SC{constructor(e){this.key=e}}class Zj{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ke(),this.mutatedKeys=Ke(),this.Xa=FR(e),this.eu=new vl(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new P1,a=n?n.eu:this.eu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const E=a.get(y),R=Fd(this.query,_)?_:null,N=!!E&&this.mutatedKeys.has(E.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let M=!1;E&&R?E.data.isEqual(R.data)?N!==L&&(r.track({type:3,doc:R}),M=!0):this.iu(E,R)||(r.track({type:2,doc:R}),M=!0,(m&&this.Xa(R,m)>0||p&&this.Xa(R,p)<0)&&(f=!0)):!E&&R?(r.track({type:0,doc:R}),M=!0):E&&!R&&(r.track({type:1,doc:E}),M=!0,(m||p)&&(f=!0)),M&&(R?(c=c.add(R),l=L?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{eu:c,ru:r,Ds:f,mutatedKeys:l}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort(((y,_)=>(function(R,N){const L=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{At:M})}};return L(R)-L(N)})(y.type,_.type)||this.Xa(y.doc,_.doc))),this.su(r),a=a!=null&&a;const f=n&&!a?this.ou():[],m=this.Za.size===0&&this.current&&!a?1:0,p=m!==this.Ya;return this.Ya=m,c.length!==0||p?{snapshot:new Rl(this.query,e.eu,l,c,e.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new P1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ke(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return e.forEach((r=>{this.Za.has(r)||n.push(new SC(r))})),this.Za.forEach((r=>{e.has(r)||n.push(new AC(r))})),n}uu(e){this.Ha=e.qs,this.Za=Ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Rl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const h0="SyncEngine";class Jj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class e9{constructor(e){this.key=e,this.lu=!1}}class t9{constructor(e,n,r,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new oo((f=>BR(f)),Bd),this.Tu=new Map,this.Iu=new Set,this.du=new wt(we.comparator),this.Eu=new Map,this.Au=new e0,this.Ru={},this.Vu=new Map,this.mu=xl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function n9(t,e,n=!0){const r=NC(t);let a;const l=r.Pu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await xC(r,e,n,!0),a}async function i9(t,e){const n=NC(t);await xC(n,e,!0,!1)}async function xC(t,e,n,r){const a=await wj(t.localStore,nr(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await r9(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&pC(t.remoteStore,a),f}async function r9(t,e,n,r,a){t.gu=(_,E,R)=>(async function(L,M,B,Q){let F=M.view.nu(B);F.Ds&&(F=await D1(L.localStore,M.query,!1).then((({documents:I})=>M.view.nu(I,F))));const le=Q&&Q.targetChanges.get(M.targetId),ue=Q&&Q.targetMismatches.get(M.targetId)!=null,ce=M.view.applyChanges(F,L.isPrimaryClient,le,ue);return z1(L,M.targetId,ce._u),ce.snapshot})(t,_,E,R);const l=await D1(t.localStore,e,!0),c=new Zj(e,l.qs),f=c.nu(l.documents),m=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);z1(t,n,p._u);const y=new Jj(e,n,c);return t.Pu.set(e,y),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),p.snapshot}async function s9(t,e,n){const r=ke(t),a=r.Pu.get(e),l=r.Tu.get(a.targetId);if(l.length>1)return r.Tu.set(a.targetId,l.filter((c=>!Bd(c,e)))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await My(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&r0(r.remoteStore,a.targetId),Ly(r,a.targetId)})).catch(Ul)):(Ly(r,a.targetId),await My(r.localStore,a.targetId,!0))}async function a9(t,e){const n=ke(t),r=n.Pu.get(e),a=n.Tu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),r0(n.remoteStore,r.targetId))}async function o9(t,e,n){const r=m9(t);try{const a=await(function(c,f){const m=ke(c),p=yt.now(),y=f.reduce(((R,N)=>R.add(N.key)),Ke());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let N=Xr(),L=Ke();return m.Os.getEntries(R,y).next((M=>{N=M,N.forEach(((B,Q)=>{Q.isValidDocument()||(L=L.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,N))).next((M=>{_=M;const B=[];for(const Q of f){const F=wU(Q,_.get(Q.key).overlayedDocument);F!=null&&B.push(new fa(Q.key,F,VR(F.value.mapValue),yi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,B,f)})).next((M=>{E=M;const B=M.applyToLocalDocumentSet(_,L);return m.documentOverlayCache.saveOverlays(R,M.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:qR(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Ru[c.currentUser.toKey()];p||(p=new wt(ze)),p=p.insert(f,m),c.Ru[c.currentUser.toKey()]=p})(r,a.batchId,n),await Hc(r,a.changes),await Yd(r.remoteStore)}catch(a){const l=u0(a,"Failed to persist write");n.reject(l)}}async function RC(t,e){const n=ke(t);try{const r=await bj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Eu.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?st(c.lu,14607):a.removedDocuments.size>0&&(st(c.lu,42227),c.lu=!1))})),await Hc(n,r,e)}catch(r){await Ul(r)}}function j1(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Pu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=ke(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const E of _.wa)E.va(f)&&(p=!0)})),p&&c0(m)})(r.eventManager,e),a.length&&r.hu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l9(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),l=a&&a.key;if(l){let c=new wt(we.comparator);c=c.insert(l,En.newNoDocument(l,Ve.min()));const f=Ke().add(l),m=new Gd(Ve.min(),new Map,new wt(ze),c,f);await RC(r,m),r.du=r.du.remove(l),r.Eu.delete(e),f0(r)}else await My(r.localStore,e,!1).then((()=>Ly(r,e,n))).catch(Ul)}async function u9(t,e){const n=ke(t),r=e.batch.batchId;try{const a=await _j(n.localStore,e);IC(n,r,null),CC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(n,a)}catch(a){await Ul(a)}}async function c9(t,e,n){const r=ke(t);try{const a=await(function(c,f){const m=ke(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>(st(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);IC(r,e,n),CC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hc(r,a)}catch(a){await Ul(a)}}function CC(t,e){(t.Vu.get(e)||[]).forEach((n=>{n.resolve()})),t.Vu.delete(e)}function IC(t,e,n){const r=ke(t);let a=r.Ru[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Ru[r.currentUser.toKey()]=a}}function Ly(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((r=>{t.Au.containsKey(r)||DC(t,r)}))}function DC(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(r0(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),f0(t))}function z1(t,e,n){for(const r of n)r instanceof AC?(t.Au.addReference(r.key,e),h9(t,r)):r instanceof SC?(pe(h0,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||DC(t,r.key)):Ce(19791,{yu:r})}function h9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(pe(h0,"New document in limbo: "+n),t.Iu.add(r),f0(t))}function f0(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new we(dt.fromString(e)),r=t.mu.next();t.Eu.set(r,new e9(n)),t.du=t.du.insert(n,r),pC(t.remoteStore,new $s(nr(Yv(n.path)),r,"TargetPurposeLimboResolution",Ud.ue))}}async function Hc(t,e,n){const r=ke(t),a=[],l=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach(((f,m)=>{c.push(r.gu(m,e,n).then((p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=n0.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(c),r.hu.J_(a),await(async function(m,p){const y=ke(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>oe.forEach(p,(E=>oe.forEach(E.Is,(R=>y.persistence.referenceDelegate.addReference(_,E.targetId,R))).next((()=>oe.forEach(E.ds,(R=>y.persistence.referenceDelegate.removeReference(_,E.targetId,R)))))))))}catch(_){if(!jl(_))throw _;pe(i0,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const R=y.Fs.get(E),N=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(N);y.Fs=y.Fs.insert(E,L)}}})(r.localStore,l))}async function f9(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){pe(h0,"User change. New user:",e.toKey());const r=await hC(n.localStore,e);n.currentUser=e,(function(l,c){l.Vu.forEach((f=>{f.forEach((m=>{m.reject(new de(re.CANCELLED,c))}))})),l.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(n,r.Bs)}}function d9(t,e){const n=ke(t),r=n.Eu.get(e);if(r&&r.lu)return Ke().add(r.key);{let a=Ke();const l=n.Tu.get(e);if(!l)return a;for(const c of l){const f=n.Pu.get(c);a=a.unionWith(f.view.tu)}return a}}function NC(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.hu.J_=Xj.bind(null,e.eventManager),e.hu.pu=Wj.bind(null,e.eventManager),e}function m9(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c9.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return vj(this.persistence,new pj,e.initialUser,this.serializer)}Du(e){return new cC(t0.Vi,this.serializer)}bu(e){return new Sj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class p9 extends Td{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){st(this.persistence.referenceDelegate instanceof _d,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ej(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new cC((r=>_d.Vi(r,n)),this.serializer)}}class Uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f9.bind(null,this.syncEngine),await $j(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Qj})()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=(function(l){return new Dj(l)})(e.databaseInfo);return(function(l,c,f,m){return new Mj(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,c,f){return new Pj(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>j1(this.syncEngine,n,0)),(function(){return V1.C()?new V1:new xj})())}createSyncEngine(e,n){return(function(a,l,c,f,m,p,y){const _=new t9(a,l,c,f,m,p);return y&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=ke(a);pe(io,"RemoteStore shutting down."),l.Ia.add(5),await Fc(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Uy.provider={build:()=>new Uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="FirestoreClient";class g9{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=Fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{pe(la,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(pe(la,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=u0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),pe(la,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await hC(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>{na("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{pe("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{na("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),t._offlineComponents=e}async function B1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y9(t);pe(la,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>k1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>k1(e.remoteStore,a))),t._onlineComponents=e}async function y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(la,"Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;na("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new Td)}}else pe(la,"Using default OfflineComponentProvider"),await Pg(t,new p9(void 0));return t._offlineComponents}async function VC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(la,"Using user provided OnlineComponentProvider"),await B1(t,t._uninitializedComponentsProvider._online)):(pe(la,"Using default OnlineComponentProvider"),await B1(t,new Uy))),t._onlineComponents}function v9(t){return VC(t).then((e=>e.syncEngine))}async function MC(t){const e=await VC(t),n=e.eventManager;return n.onListen=n9.bind(null,e.syncEngine),n.onUnlisten=s9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a9.bind(null,e.syncEngine),n}function _9(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new OC({next:E=>{y.Ou(),c.enqueueAndForget((()=>EC(l,_)));const R=E.docs.has(f);!R&&E.fromCache?p.reject(new de(re.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&E.fromCache&&m&&m.source==="server"?p.reject(new de(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new wC(Yv(f.path),y,{includeMetadataChanges:!0,ka:!0});return TC(l,_)})(await MC(t),t.asyncQueue,e,n,r))),r.promise}function b9(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new OC({next:E=>{y.Ou(),c.enqueueAndForget((()=>EC(l,_))),E.fromCache&&m.source==="server"?p.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new wC(f,y,{includeMetadataChanges:!0,ka:!0});return TC(l,_)})(await MC(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="firestore.googleapis.com",H1=!0;class q1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PC,this.ssl=H1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:H1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZU)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CL;switch(r.type){case"firstParty":return new OL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=F1.get(n);r&&(pe("ComponentProvider","Removing Datastore"),F1.delete(n),r.terminate())})(this),Promise.resolve()}}function T9(t,e,n,r={}){var a;t=Oi(t,Qd);const l=ro(e),c=t._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;l&&(Rv(`https://${m}`),Cv("Firestore",!0)),c.host!==PC&&c.host!==m&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!Za(p,f)&&(t._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Tn.MOCK_USER;else{y=Sx(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Tn(E)}t._authCredentials=new IL(new bR(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(jc(n,Ut._jsonSchema))return new Ut(e,r||null,new we(dt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Yt("string",Ut._jsonSchemaVersion),referencePath:Yt("string")};class Zs extends da{constructor(e,n,r){super(e,n,Yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new we(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function el(t,e,...n){if(t=Qt(t),ER("collection","path",e),t instanceof Qd){const r=dt.fromString(e,...n);return i1(r),new Zs(t,null,r)}{if(!(t instanceof Ut||t instanceof Zs))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return i1(r),new Zs(t.firestore,null,r)}}function dl(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=Fv.newId()),ER("doc","path",e),t instanceof Qd){const r=dt.fromString(e,...n);return n1(r),new Ut(t,null,new we(r))}{if(!(t instanceof Ut||t instanceof Zs))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return n1(r),new Ut(t.firestore,t instanceof Zs?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="AsyncQueue";class K1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dC(this,"async_queue_retry"),this.oc=()=>{const r=kg();r&&pe(G1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Hr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!jl(e))throw e;pe(G1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((r=>{throw this.tc=r,this.nc=!1,Qr("INTERNAL UNHANDLED ERROR: ",$1(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=l0.createAndSchedule(this,e,n,r,(l=>this.lc(l)));return this.ec.push(a),a}ac(){this.tc&&Ce(47125,{hc:$1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function $1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class uo extends Qd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new K1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K1(e),this._firestoreClient=void 0,await e}}}function E9(t,e){const n=typeof t=="object"?t:Nv(),r=typeof t=="string"?t:fd,a=Vd(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Ex("firestore");l&&T9(a,...l)}return a}function d0(t){if(t._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w9(t),t._firestoreClient}function w9(t){var e,n,r;const a=t._freezeSettings(),l=(function(f,m,p,y){return new YL(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new g9(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mi(gn.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mi(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jc(e,mi._jsonSchema))return mi.fromBase64String(e.bytes)}}mi._jsonSchemaVersion="firestore/bytes/1.0",mi._jsonSchema={type:Yt("string",mi._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(jc(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Yt("string",rr._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jc(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sr(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Yt("string",sr._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=/^__.*__$/;class S9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}class LC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ec:t})}}class p0{constructor(e,n,r,a,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new p0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.fc(e),a}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ed(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(UC(this.Ec)&&A9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class x9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}Dc(e,n,r,a=!1){return new p0({Ec:e,methodName:n,bc:r,path:pn.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wd(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new x9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jC(t,e,n,r,a,l={}){const c=t.Dc(l.merge||l.mergeFields?2:0,e,n,a);g0("Data must be an object, but it was:",c,r);const f=zC(r,c);let m,p;if(l.merge)m=new ei(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=jy(e,_,n);if(!c.contains(E))throw new de(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);FC(y,E)||y.push(E)}m=new ei(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new S9(new Fn(f),m,p)}class Zd extends m0{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function R9(t,e,n,r){const a=t.Dc(1,e,n);g0("Data must be an object, but it was:",a,r);const l=[],c=Fn.empty();ha(r,((m,p)=>{const y=y0(e,m,n);p=Qt(p);const _=a.gc(y);if(p instanceof Zd)l.push(y);else{const E=qc(p,_);E!=null&&(l.push(y),c.set(y,E))}}));const f=new ei(l);return new LC(c,f,a.fieldTransforms)}function C9(t,e,n,r,a,l){const c=t.Dc(1,e,n),f=[jy(e,r,n)],m=[a];if(l.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(jy(e,l[E])),m.push(l[E+1]);const p=[],y=Fn.empty();for(let E=f.length-1;E>=0;--E)if(!FC(p,f[E])){const R=f[E];let N=m[E];N=Qt(N);const L=c.gc(R);if(N instanceof Zd)p.push(R);else{const M=qc(N,L);M!=null&&(p.push(R),y.set(R,M))}}const _=new ei(p);return new LC(y,_,c.fieldTransforms)}function I9(t,e,n,r=!1){return qc(n,t.Dc(r?4:3,e))}function qc(t,e){if(BC(t=Qt(t)))return g0("Unsupported field value:",e,t),zC(t,e);if(t instanceof m0)return(function(r,a){if(!UC(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let m=qc(f,a.yc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yU(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=yt.fromDate(r);return{timestampValue:vd(a.serializer,l)}}if(r instanceof yt){const l=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(a.serializer,l)}}if(r instanceof rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mi)return{bytesValue:nC(a.serializer,r._byteString)};if(r instanceof Ut){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof sr)return(function(c,f){return{mapValue:{fields:{[NR]:{stringValue:OR},[dd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.wc("VectorValues must only contain numeric values.");return Qv(f.serializer,p)}))}}}}}})(r,a);throw a.wc(`Unsupported field value: ${Ld(r)}`)})(t,e)}function zC(t,e){const n={};return SR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,((r,a)=>{const l=qc(a,e.Vc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function BC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof rr||t instanceof mi||t instanceof Ut||t instanceof m0||t instanceof sr)}function g0(t,e,n){if(!BC(n)||!wR(n)){const r=Ld(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function jy(t,e,n){if((e=Qt(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return y0(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const D9=new RegExp("[~\\*/\\[\\]]");function y0(t,e,n){if(e.search(D9)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new de(re.INVALID_ARGUMENT,f+t+m)}function FC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N9 extends HC{data(){return super.data()}}function Jd(t,e){return typeof e=="string"?y0(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}class _0 extends v0{}function Cf(t,e,...n){let r=[];e instanceof v0&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((m=>m instanceof b0)).length,f=l.filter((m=>m instanceof em)).length;if(c>1||c>0&&f>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class em extends _0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new em(e,n,r)}_apply(e){const n=this._parse(e);return qC(e._query,n),new da(e.firestore,e.converter,Iy(e._query,n))}_parse(e){const n=Wd(e.firestore);return(function(l,c,f,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){W1(_,y);const N=[];for(const L of _)N.push(X1(m,l,L));E={arrayValue:{values:N}}}else E=X1(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||W1(_,y),E=I9(f,c,_,y==="in"||y==="not-in");return $t.create(p,y,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Y1(t,e,n){const r=e,a=Jd("where",t);return em._create(a,r,n)}class b0 extends v0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new b0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)qC(c,m),c=Iy(c,m)})(e._query,n),new da(e.firestore,e.converter,Iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class T0 extends _0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new T0(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(l,c)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new zl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Q1(t,e="asc"){const n=e,r=Jd("orderBy",t);return T0._create(r,n)}class E0 extends _0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new E0(e,n,r)}_apply(e){return new da(e.firestore,e.converter,pd(e._query,this._limit,this._limitType))}}function V9(t){return E0._create("limit",t,"F")}function X1(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zR(e)&&n.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!we.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h1(t,new we(r))}if(n instanceof Ut)return h1(t,n._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(n)}.`)}function W1(t,e){if(!Array.isArray(t)||t.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qC(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class M9{convertValue(e,n="none"){switch(aa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[dd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map((c=>Lt(c.doubleValue)));return new sr(l)}convertGeoPoint(e){return new rr(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=ra(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);st(lC(r),9688,{name:e});const a=new Ec(r.get(1),r.get(3)),l=new we(r.popFirst(5));return a.isEqual(n)||Qr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends HC{constructor(e,n,r,a,l,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:Yt("string",Wa._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class $f extends Wa{data(e={}){return super.data(e)}}class _l{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ju(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new $f(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new $f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new $f(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:k9(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_l._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){t=Oi(t,Ut);const e=Oi(t.firestore,uo);return _9(d0(e),t._key).then((n=>j9(e,t,n)))}_l._jsonSchemaVersion="firestore/querySnapshot/1.0",_l._jsonSchema={type:Yt("string",_l._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class KC extends M9{constructor(e){super(),this.firestore=e}convertBytes(e){return new mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function If(t){t=Oi(t,da);const e=Oi(t.firestore,uo),n=d0(e),r=new KC(e);return O9(t._query),b9(n,t._query).then((a=>new _l(e,r,t,a)))}function L9(t,e,n){t=Oi(t,Ut);const r=Oi(t.firestore,uo),a=GC(t.converter,e);return tm(r,[jC(Wd(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,yi.none())])}function U9(t,e,n,...r){t=Oi(t,Ut);const a=Oi(t.firestore,uo),l=Wd(a);let c;return c=typeof(e=Qt(e))=="string"||e instanceof Xd?C9(l,"updateDoc",t._key,e,n,r):R9(l,"updateDoc",t._key,e),tm(a,[c.toMutation(t._key,yi.exists(!0))])}function Lg(t){return tm(Oi(t.firestore,uo),[new Xv(t._key,yi.none())])}function Z1(t,e){const n=Oi(t.firestore,uo),r=dl(t),a=GC(t.converter,e);return tm(n,[jC(Wd(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,yi.exists(!1))]).then((()=>r))}function tm(t,e){return(function(r,a){const l=new Hr;return r.asyncQueue.enqueueAndForget((async()=>o9(await v9(r),a,l))),l.promise})(d0(t),e)}function j9(t,e,n){const r=n.docs.get(e._key),a=new KC(t);return new Wa(t,a,e._key,r,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ll=a})(so),Ja(new ta("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new uo(new DL(r.getProvider("auth-internal")),new VL(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(p.options.projectId,y)})(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ji(Ww,Zw,e),Ji(Ww,Zw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebasestorage.googleapis.com",z9="storageBucket",B9=120*1e3,F9=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends cr{constructor(e,n,r=0){super(Ug(e),`Firebase Storage: ${n} (${Ug(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var or;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(or||(or={}));function Ug(t){return"storage/"+t}function H9(){const t="An unknown error occurred, please check the error payload for server response.";return new hr(or.UNKNOWN,t)}function q9(){return new hr(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G9(){return new hr(or.CANCELED,"User canceled the upload/download.")}function K9(t){return new hr(or.INVALID_URL,"Invalid URL '"+t+"'.")}function $9(t){return new hr(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J1(t){return new hr(or.INVALID_ARGUMENT,t)}function YC(){return new hr(or.APP_DELETED,"The Firebase app was deleted.")}function Y9(t){return new hr(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ii.makeFromUrl(e,n)}catch{return new Ii(e,"")}if(r.path==="")return r;throw $9(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(le){le.path_=decodeURIComponent(le.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),N={bucket:1,path:3},L=n===$C?"(?:storage.googleapis.com|storage.cloud.google.com)":n,M="([^?#]*)",B=new RegExp(`^https?://${L}/${a}/${M}`,"i"),F=[{regex:f,indices:m,postModify:l},{regex:R,indices:N,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let le=0;le<F.length;le++){const ue=F[le],ce=ue.regex.exec(e);if(ce){const I=ce[ue.indices.bucket];let S=ce[ue.indices.path];S||(S=""),r=new Ii(I,S),ue.postModify(r);break}}if(r==null)throw K9(e);return r}}class Q9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t,e,n){let r=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...M){p||(p=!0,e.apply(null,M))}function _(M){a=setTimeout(()=>{a=null,t(R,m())},M)}function E(){l&&clearTimeout(l)}function R(M,...B){if(p){E();return}if(M){E(),y.call(null,M,...B);return}if(m()||c){E(),y.call(null,M,...B);return}r<64&&(r*=2);let F;f===1?(f=2,F=0):F=(r+Math.random())*1e3,_(F)}let N=!1;function L(M){N||(N=!0,E(),!p&&(a!==null?(M||(f=2),clearTimeout(a),_(0)):M||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,L(!0)},n),L}function W9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t){return t!==void 0}function eA(t,e,n,r){if(r<e)throw J1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw J1(`Invalid value for '${t}'. Expected ${n} or less.`)}function J9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var wd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wd||(wd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n,r,a,l,c,f,m,p,y,_,E=!0,R=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,L)=>{this.resolve_=N,this.reject_=L,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Df(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===wd.NO_ERROR,m=l.getStatus();if(!f||ez(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===wd.ABORT;r(!1,new Df(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new Df(p,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());Z9(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=H9();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?YC():G9();c(m)}else{const m=q9();c(m)}};this.canceled_?n(!1,new Df(!1,null,!0)):this.backoffId_=X9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&W9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Df{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function nz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function iz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function az(t,e,n,r,a,l,c=!0,f=!1){const m=J9(t.urlParams),p=t.url+m,y=Object.assign({},t.headers);return rz(y,e),nz(y,n),iz(y,l),sz(y,r),new tz(p,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this._service=e,n instanceof Ii?this._location=n:this._location=Ii.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ad(e,n)}get root(){const e=new Ii(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lz(this._location.path)}get storage(){return this._service}get parent(){const e=oz(this._location.path);if(e===null)return null;const n=new Ii(this._location.bucket,e);return new Ad(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Y9(e)}}function tA(t,e){const n=e==null?void 0:e[z9];return n==null?null:Ii.makeFromBucketSpec(n,t)}function uz(t,e,n,r={}){t.host=`${e}:${n}`;const a=ro(e);a&&(Rv(`https://${t.host}/b`),Cv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:Sx(l,t.app.options.projectId))}class cz{constructor(e,n,r,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=$C,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B9,this._maxUploadRetryTime=F9,this._requests=new Set,a!=null?this._bucket=Ii.makeFromBucketSpec(a,this._host):this._bucket=tA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ii.makeFromBucketSpec(this._url,e):this._bucket=tA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){eA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ad(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new Q9(YC());{const c=az(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const nA="@firebase/storage",iA="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="storage";function hz(t=Nv(),e){t=Qt(t);const r=Vd(t,QC).getImmediate({identifier:e}),a=Ex("storage");return a&&fz(r,...a),r}function fz(t,e,n,r={}){uz(t,e,n,r)}function dz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new cz(n,r,a,e,so)}function mz(){Ja(new ta(QC,dz,"PUBLIC").setMultipleInstances(!0)),Ji(nA,iA,""),Ji(nA,iA,"esm2017")}mz();const XC={apiKey:"AIzaSyBfPd9EtQ3u4d0t5REkAAdf51CA4f6sZhA",authDomain:"learning-barriers.firebaseapp.com",projectId:"learning-barriers",storageBucket:"learning-barriers.firebasestorage.app",messagingSenderId:"315291103623",appId:"1:315291103623:web:a3cb2d00464d76b5b26322"},w0=Cx(XC),Sd=fR(w0),xi=E9(w0);hz(w0);console.log("Firebase initialized with project:",XC.projectId);function pz(){const[t,e]=O.useState(!1),[n,r]=O.useState(null),a=async l=>{l.preventDefault(),r(null),e(!0);const c=new FormData(l.currentTarget),f=c.get("firstname"),m=c.get("lastname"),p=c.get("email"),y=c.get("password");try{const E=(await c6(Sd,p,y)).user;await d6(E,{displayName:`${f} ${m}`}),await L9(dl(xi,"users",E.uid),{firstname:f,lastname:m,email:p,createdAt:new Date().toISOString()}),window.location.href="/dashboard"}catch(_){r(_.message||"Failed to sign up")}finally{e(!1)}};return A.jsxs("div",{className:"shadow-input mx-auto w-full max-w-2xl rounded-none p-4 md:rounded-2xl md:p-8",children:[A.jsx("h2",{className:"text-xl font-bold text-blue-200 mt-36",children:"Welcome! Create your account below."}),A.jsx("div",{className:"my-8 flex flex-col md:flex-row md:space-x-8",children:A.jsxs("form",{className:"flex-1",onSubmit:a,children:[A.jsxs("div",{className:"mb-4 flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[A.jsxs(Nf,{children:[A.jsxs(cl,{htmlFor:"firstname",children:["First Name ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx(hl,{id:"firstname",name:"firstname",placeholder:"Tyler",type:"text",required:!0})]}),A.jsxs(Nf,{children:[A.jsxs(cl,{htmlFor:"lastname",children:["Last Name ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx(hl,{id:"lastname",name:"lastname",placeholder:"Durden",type:"text",required:!0})]})]}),A.jsxs(Nf,{className:"mb-4",children:[A.jsxs(cl,{htmlFor:"email",children:["Email Address ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx(hl,{id:"email",name:"email",placeholder:"projectmayhem@fc.com",type:"email",required:!0,className:"focus:outline-none focus:ring-0"})]}),A.jsxs(Nf,{className:"mb-4",children:[A.jsxs(cl,{htmlFor:"password",children:["Password ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx(hl,{id:"password",name:"password",placeholder:"••••••••",type:"password",required:!0,className:"focus:outline-none focus:ring-0"})]}),n&&A.jsx("div",{className:"mb-4 text-red-500 text-sm",children:n}),A.jsxs("button",{className:" relative block h-10 w-full rounded-md font-medium text-white border border-blue-200 hover:bg-blue-200 hover:text-black duration-300",type:"submit",disabled:t,children:[t?"Signing Up...":"Sign Up",A.jsx(gz,{})]})]})})]})}const gz=()=>A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"absolute inset-x-0 -bottom-px block h-px w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-0 transition duration-500"}),A.jsx("span",{className:"absolute inset-x-10 -bottom-px mx-auto block h-px w-1/2 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-0 blur-sm transition duration-500"})]}),Nf=({children:t,className:e})=>A.jsx("div",{className:Nd("flex w-full flex-col space-y-2",e),children:t});function yz(){const[t,e]=O.useState(!1),[n,r]=O.useState(null),a=async l=>{l.preventDefault(),r(null),e(!0);const c=new FormData(l.currentTarget),f=c.get("email"),m=c.get("password");try{await h6(Sd,f,m),window.location.href="/dashboard"}catch(p){r(p.message||"Failed to log in")}finally{e(!1)}};return A.jsxs("div",{className:"shadow-input mx-auto w-full max-w-2xl rounded-none p-4 md:rounded-2xl md:p-8",children:[A.jsx("h2",{className:"text-xl font-bold text-blue-200 mt-36",children:"Welcome back! Please log in."}),A.jsx("div",{className:"my-8 flex flex-col md:flex-row md:space-x-8",children:A.jsxs("form",{className:"flex-1",onSubmit:a,children:[A.jsxs(rA,{className:"mb-4",children:[A.jsxs(cl,{htmlFor:"email",children:["Email Address ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx(hl,{id:"email",name:"email",placeholder:"projectmayhem@fc.com",type:"email",required:!0,className:"focus:outline-none focus:ring-0"})]}),A.jsxs(rA,{className:"mb-4",children:[A.jsxs(cl,{htmlFor:"password",children:["Password ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx(hl,{id:"password",name:"password",placeholder:"••••••••",type:"password",required:!0,className:"focus:outline-none focus:ring-0"})]}),n&&A.jsx("div",{className:"mb-4 text-red-500 text-sm",children:n}),A.jsxs("button",{className:"relative block h-10 w-full rounded-md font-medium text-white border border-blue-200 hover:bg-blue-200 hover:text-black duration-300",type:"submit",disabled:t,children:[t?"Logging In...":"Log In",A.jsx(vz,{})]})]})})]})}const vz=()=>A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"absolute inset-x-0 -bottom-px block h-px w-full bg-gradient-to-r from-transparent via-cyan-500 to-transparent opacity-0 transition duration-500"}),A.jsx("span",{className:"absolute inset-x-10 -bottom-px mx-auto block h-px w-1/2 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-0 blur-sm transition duration-500"})]}),rA=({children:t,className:e})=>A.jsx("div",{className:Nd("flex w-full flex-col space-y-2",e),children:t}),_z="modulepreload",bz=function(t){return"/"+t},sA={},Tz=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=c(n.map(p=>{if(p=bz(p),p in sA)return;sA[p]=!0;const y=p.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":_z,y||(E.as="script"),E.crossOrigin="",E.href=p,m&&E.setAttribute("nonce",m),document.head.appendChild(E),y)return new Promise((R,N)=>{E.addEventListener("load",R),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return a.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};function Ez({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const wz=O.forwardRef(Ez);function Az({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const jg=O.forwardRef(Az);function Sz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const aA=O.forwardRef(Sz);function xz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const oA=O.forwardRef(xz);function Rz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Cz=O.forwardRef(Rz);function Iz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Gu=O.forwardRef(Iz);function Dz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Nz=O.forwardRef(Dz);function Oz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"}))}const zg=O.forwardRef(Oz);function Vz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const lA=O.forwardRef(Vz);function Mz({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Bg=O.forwardRef(Mz);function kz(){var Li,bi,Xt,Rn,en,mo,es,ga;const[t,e]=O.useState(null),[n,r]=O.useState(null),[a,l]=O.useState(!0),[c,f]=O.useState([]),[m,p]=O.useState([]),[y,_]=O.useState(!1),[E,R]=O.useState(""),[N,L]=O.useState(!1),[M,B]=O.useState(""),[Q,F]=O.useState("comic"),[le,ue]=O.useState(!1),[ce,I]=O.useState(""),[S,C]=O.useState(!1),[k,U]=O.useState([]),[,z]=O.useState(null),[D,nt]=O.useState(null),[Ze,W]=O.useState("dashboard"),[se,ne]=O.useState(null),[Ne,De]=O.useState([]),[P,ee]=O.useState(!1),[$,fe]=O.useState(null),[Te,Oe]=O.useState(!1),[be,vt]=O.useState(null),[Qe,jt]=O.useState(""),[Sn,yn]=O.useState(!1),[Dt,xn]=O.useState(null),[vi,fr]=O.useState(!1),[Fl,ma]=O.useState(!1),Zr=async()=>{try{await g6(Sd),window.location.href="/"}catch(J){console.error("Error signing out:",J)}};if(O.useEffect(()=>{const J=tR(Sd,async me=>{var Se,Xe;if(me){console.log("User authenticated:",me.uid),e(me);try{console.log("Attempting to fetch user data from Firestore...");const xe=await P9(dl(xi,"users",me.uid));if(xe.exists())r(xe.data()),console.log("User data loaded successfully");else{console.log("No user document found, creating one...");const We={firstname:((Se=me.displayName)==null?void 0:Se.split(" ")[0])||"User",lastname:((Xe=me.displayName)==null?void 0:Xe.split(" ")[1])||"",email:me.email||"",createdAt:new Date().toISOString()};r(We)}}catch(xe){console.error("Error fetching user data:",xe),console.error("Error details:",{code:xe==null?void 0:xe.code,message:xe==null?void 0:xe.message,stack:xe==null?void 0:xe.stack})}}else e(null),r(null),window.location.href="/login";l(!1)});return()=>J()},[]),O.useEffect(()=>{if(!t)return;console.log("Loading data for user:",t.uid);const J=async()=>{try{const Se=el(xi,`users/${t.uid}/folders`),Xe=Cf(Se,Q1("createdAt","desc")),We=(await If(Xe)).docs.map(lt=>({id:lt.id,...lt.data()}));console.log("Folders loaded:",We.length),f(We)}catch(Se){console.error("Error loading folders:",Se),f([])}},me=async()=>{try{const Se=el(xi,`users/${t.uid}/visuals`),Xe=Cf(Se,Q1("createdAt","desc"),V9(6)),We=(await If(Xe)).docs.map(lt=>({id:lt.id,...lt.data()}));console.log("Visuals loaded:",We.length),p(We)}catch(Se){console.error("Error loading visuals:",Se),p([])}};J(),me()},[t]),a)return A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsx("div",{className:"text-blue-200 text-xl",children:"Loading..."})});if(!t||!n)return null;const dr=async()=>{if(!t||!E.trim()){alert("Please enter a folder name");return}console.log("Creating folder for user:",t.uid,"with name:",E);try{const J=el(xi,`users/${t.uid}/folders`),me=await Z1(J,{name:E.trim(),createdAt:new Date,visualCount:0});console.log("Folder created successfully with ID:",me.id);const Se={id:me.id,name:E.trim(),createdAt:new Date,visualCount:0};console.log("Adding new folder to state:",Se),f(Xe=>{const xe=[Se,...Xe];return console.log("Updated folders state:",xe),xe}),R(""),_(!1),console.log("Folder created and state updated successfully!")}catch(J){console.error("Error creating folder:",J);const me=J instanceof Error?J.message:"Unknown error occurred";alert(`Failed to create folder: ${me}`)}},Jr=async()=>{if(!t||!M.trim()||!ce){alert("Please enter text and select a folder");return}ue(!0);try{const{analyzeTextWithOpenAI:J,generateImageWithIdeogram:me}=await Tz(async()=>{const{analyzeTextWithOpenAI:We,generateImageWithIdeogram:lt}=await import("./openaiClient-BvY_hvaT.js");return{analyzeTextWithOpenAI:We,generateImageWithIdeogram:lt}},[]);console.log("Analyzing text with OpenAI...");const Se=await J(M,Q);console.log("OpenAI analysis complete:",Se);const Xe=`Create a HIGHLY READABLE educational ${Q} about: "${M}". 

IDEOGRAM AI TEXT OPTIMIZATION:
- Use LARGE, BOLD, SANS-SERIF text (minimum 48pt equivalent)
- Perfect text clarity and crisp rendering
- High contrast: BLACK text on WHITE backgrounds or WHITE text on DARK backgrounds
- NO decorative fonts, cursive, or script fonts
- Text should be the PRIMARY focus of the image
- Make text elements large and prominently placed
- Ensure perfect spelling and text accuracy

${Q==="comic"?`
COMIC STYLE: Educational comic strip optimized for Ideogram's text rendering
- 3-4 clear panels with LARGE, READABLE speech bubbles and captions
- Use Ideogram's superior text quality for dialogue and narration
- Bold, clear text in speech bubbles (minimum 24pt equivalent)
- Simple backgrounds that don't interfere with text readability
- Text should be perfectly spelled and clearly rendered
- Use high contrast for all text elements
- Make text the story-telling element, not just visual metaphors
`:Q==="flowchart"?`
FLOWCHART STYLE: Process diagram leveraging Ideogram's text excellence
- Clean geometric shapes with CRYSTAL CLEAR text labels
- Each step should have concise, readable text (2-4 words maximum)
- Use Ideogram's text rendering for perfect clarity on all labels
- Color-coded steps: Start (green), Process (blue), Decision (yellow), End (red)
- Bold, readable text inside each shape
- High contrast text on solid colored backgrounds
- Arrows with clear directional labels when needed
`:`
INFOGRAPHIC STYLE: Data visualization with superior text clarity
- Large, clear headings and labels using Ideogram's text strengths
- Key statistics and data points with perfectly rendered numbers
- Section headers and category labels with maximum readability
- Use text strategically for titles, percentages, and key facts
- Combine charts/graphs with clear textual explanations
- Bold sans-serif fonts for all text elements
- High contrast text placement throughout
`}

CRITICAL TEXT REQUIREMENTS - ACCESSIBILITY PRIORITY:
- ANY TEXT MUST BE HUGE (minimum 48pt font size equivalent)
- Use MAXIMUM contrast: pure white text on dark backgrounds OR pure black text on light backgrounds
- Text must be sans-serif, bold, and extremely legible (like Arial Black or Impact)
- NEVER use small text, decorative fonts, or low-contrast colors
- If text is needed, limit to 1-2 words maximum per element
- Text should be readable from 10 feet away
- No text overlays on busy patterns or complex backgrounds
- Use solid color backgrounds behind any text for maximum readability

VISUAL CLARITY REQUIREMENTS:
- Clean, uncluttered design with lots of white space
- High contrast color schemes (avoid pastels or similar tones)
- Bold, simple shapes and clear visual hierarchy  
- Icons and symbols should be large and immediately recognizable
- Avoid busy patterns, gradients, or complex textures behind important elements

Visual Requirements: Modern, educational, EXTREMELY high-contrast, maximum accessibility for neurodiverse learners, prioritizing visual clarity over decorative elements`;console.log("Generating multiple image variations with Ideogram AI (best for text)...");const xe=await me(Xe,Q);console.log("Image variations generated successfully:",xe),U(xe.variations),nt({title:Se.title,content:Se,imagePrompt:Xe,originalText:M,selectedFormat:Q,selectedFolder:ce}),C(!0),ue(!1)}catch(J){console.error("Error converting text:",J);const me=J instanceof Error?J.message:"Unknown error occurred";console.error("Full error details:",{message:me,error:J}),alert(`Failed to convert text. Error: ${me}. Check console for details.`)}finally{ue(!1)}},co=J=>{switch(J){case"comic":return Gu;case"flowchart":return jg;case"infographic":return zg}},ki=J=>{if(!J)return"Recently";try{return J.toDate&&typeof J.toDate=="function"?J.toDate().toLocaleDateString():J instanceof Date?J.toLocaleDateString():new Date(J).toLocaleDateString()}catch(me){return console.error("Error formatting date:",me),"Recently"}},Nt=async J=>{console.log("Opening folder:",J.name,"with ID:",J.id),ma(!0),ne(J),W("folder");try{const me=el(xi,`users/${t.uid}/visuals`),Se=Cf(me,Y1("folderId","==",J.id));console.log("Loading visuals for folder:",J.id);let xe=(await If(Se)).docs.map(We=>({id:We.id,...We.data()}));xe=xe.sort((We,lt)=>{const ti=We.createdAt instanceof Date?We.createdAt:new Date(We.createdAt);return(lt.createdAt instanceof Date?lt.createdAt:new Date(lt.createdAt)).getTime()-ti.getTime()}),console.log(`Loaded ${xe.length} visuals for folder:`,J.name),De(xe)}catch(me){console.error("Error loading folder visuals:",me);const Se=me instanceof Error?me.message:"Unknown error occurred";alert(`Failed to load folder contents: ${Se}`),De([])}finally{ma(!1)}},ho=J=>{vt(J),jt(J.name),Oe(!0)},Ot=async()=>{if(!(!be||!Qe.trim()))try{const J=dl(xi,`users/${t.uid}/folders`,be.id);await U9(J,{name:Qe.trim()}),f(me=>me.map(Se=>Se.id===be.id?{...Se,name:Qe.trim()}:Se)),Oe(!1),vt(null),jt(""),alert("Folder renamed successfully!")}catch(J){console.error("Error updating folder:",J),alert("Failed to rename folder")}},At=(J,me)=>{xn({type:J,item:me}),yn(!0)},_i=async()=>{if(!(!Dt||vi)){fr(!0),console.log("Starting delete operation for:",Dt.type,Dt.item);try{if(Dt.type==="folder"){const J=Dt.item;console.log("Deleting folder:",J.name,"with ID:",J.id);const me=el(xi,`users/${t.uid}/visuals`),Se=Cf(me,Y1("folderId","==",J.id)),Xe=await If(Se);console.log(`Found ${Xe.docs.length} visuals in folder to delete`);for(const xe of Xe.docs)console.log("Deleting visual:",xe.id),await Lg(xe.ref);await Lg(dl(xi,`users/${t.uid}/folders`,J.id)),console.log("Folder deleted from Firebase"),f(xe=>{const We=xe.filter(lt=>lt.id!==J.id);return console.log("Updated folders state after deletion:",We),We}),p(xe=>xe.filter(We=>We.folderId!==J.id)),(se==null?void 0:se.id)===J.id&&(console.log("Currently viewing deleted folder, navigating back to dashboard"),W("dashboard"),ne(null),De([])),console.log("Folder deletion completed successfully")}else{const J=Dt.item;console.log("Deleting visual:",J.title,"with ID:",J.id),await Lg(dl(xi,`users/${t.uid}/visuals`,J.id)),console.log("Visual deleted from Firebase"),p(me=>{const Se=me.filter(Xe=>Xe.id!==J.id);return console.log("Updated recent visuals after deletion:",Se),Se}),De(me=>{const Se=me.filter(Xe=>Xe.id!==J.id);return console.log("Updated folder visuals after deletion:",Se),Se}),f(me=>me.map(Se=>Se.id===J.folderId?{...Se,visualCount:Math.max((Se.visualCount||1)-1,0)}:Se)),console.log("Visual deletion completed successfully")}yn(!1),xn(null)}catch(J){console.error("Error deleting item:",J);const me=J instanceof Error?J.message:"Unknown error occurred";alert(`Failed to delete ${Dt.type}: ${me}`)}finally{fr(!1)}}},Pi=J=>{console.log("Opening visual:",J.title,J),console.log("Setting viewing visual to:",J),fe(J),console.log("Setting show visual viewer to true"),ee(!0),console.log("Modal state should now be:",{showVisualViewer:!0,viewingVisual:J})},pa=()=>{W("dashboard"),ne(null),De([])},fo=async J=>{if(D)try{const me=k.find(lt=>lt.id===J);if(!me){alert("Selected variation not found");return}console.log(`User selected variation ${J} with clearest text`);const Se={...D.content,imageUrl:me.url,imagePrompt:D.imagePrompt,isRenderable:!0,selectedVariation:J,variationSeed:me.seed},Xe=el(xi,`users/${t.uid}/visuals`),xe=await Z1(Xe,{title:D.title,type:D.selectedFormat,folderId:D.selectedFolder,createdAt:new Date,content:Se,originalText:D.originalText,thumbnail:me.url});console.log("Visual created with ID:",xe.id,"using variation",J);const We={id:xe.id,title:D.title,type:D.selectedFormat,folderId:D.selectedFolder,createdAt:new Date,content:Se,originalText:D.originalText,thumbnail:me.url};p(lt=>[We,...lt.slice(0,5)]),Ze==="folder"&&(se==null?void 0:se.id)===D.selectedFolder&&De(lt=>[We,...lt]),f(lt=>lt.map(ti=>ti.id===D.selectedFolder?{...ti,visualCount:(ti.visualCount||0)+1}:ti)),C(!1),U([]),nt(null),z(null),B(""),I(""),L(!1),alert(`${D.selectedFormat.charAt(0).toUpperCase()+D.selectedFormat.slice(1)} created successfully with clearest text variation!`)}catch(me){console.error("Error saving selected variation:",me),alert("Failed to save selected variation. Please try again.")}};return A.jsxs("div",{className:"min-h-screen",children:[A.jsx("div",{className:"absolute top-6 right-6 z-20",children:A.jsxs("button",{onClick:Zr,className:"flex items-center space-x-2 px-4 py-2 border border-blue-200 text-blue-200 rounded-lg hover:bg-blue-200 hover:text-black transition duration-300 bg-white/10 backdrop-blur-sm",children:[A.jsx(wz,{className:"w-4 h-4"}),A.jsx("span",{children:"Sign Out"})]})}),A.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Visual Learning Studio"}),A.jsx("p",{className:"text-gray-400 text-lg",children:"Transform text into comics, flowcharts, and infographics for better learning"})]}),A.jsxs("div",{className:"mb-8 flex flex-wrap gap-4",children:[A.jsxs("button",{onClick:()=>L(!0),className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300",children:[A.jsx(lA,{className:"w-5 h-5"}),A.jsx("span",{children:"Convert Text to Visual"})]}),A.jsxs("button",{onClick:()=>_(!0),className:"flex items-center space-x-2 px-6 py-3 border border-blue-200 text-blue-200 hover:bg-blue-200 hover:text-black rounded-lg transition duration-300",children:[A.jsx(Nz,{className:"w-5 h-5"}),A.jsx("span",{children:"New Folder"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[A.jsxs("div",{className:"lg:col-span-3",children:[A.jsx("div",{className:"flex items-center justify-between mb-6",children:A.jsx("h2",{className:"text-2xl font-semibold text-white",children:Ze==="dashboard"?"Your Visual Library":A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("button",{onClick:pa,className:"text-blue-200 hover:text-white transition-colors",children:"← Back"}),A.jsx("span",{children:se==null?void 0:se.name})]})})}),Ze==="dashboard"?A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mb-8",children:c.length===0?A.jsxs("div",{className:"col-span-full text-center py-12",children:[A.jsx(oA,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"No folders yet"}),A.jsx("button",{onClick:()=>_(!0),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300",children:"Create Your First Folder"})]}):c.map(J=>A.jsxs("div",{className:"group bg-zinc-900 rounded-xl p-6 border border-zinc-700 hover:border-blue-200 transition-all duration-300",children:[A.jsxs("div",{className:"flex items-start justify-between mb-4",children:[A.jsx("div",{onClick:()=>Nt(J),className:"w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center cursor-pointer hover:scale-105 transition-transform",children:A.jsx(oA,{className:"w-6 h-6 text-white"})}),A.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex space-x-2",children:[A.jsx("button",{onClick:me=>{me.stopPropagation(),Nt(J)},className:"p-1 hover:bg-zinc-700 rounded",title:"View Folder",children:A.jsx(aA,{className:"w-4 h-4 text-gray-400 hover:text-blue-400"})}),A.jsx("button",{onClick:me=>{me.stopPropagation(),ho(J)},className:"p-1 hover:bg-zinc-700 rounded",title:"Edit Folder",children:A.jsx(Cz,{className:"w-4 h-4 text-gray-400 hover:text-yellow-400"})}),A.jsx("button",{onClick:me=>{me.stopPropagation(),At("folder",J)},className:"p-1 hover:bg-zinc-700 rounded",title:"Delete Folder",children:A.jsx(Bg,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})]})]}),A.jsx("h3",{onClick:()=>Nt(J),className:"text-lg font-semibold text-white mb-2 group-hover:text-blue-200 transition-colors cursor-pointer",children:J.name}),A.jsxs("p",{className:"text-gray-400 text-sm",children:[J.visualCount||0," visuals • Created ",ki(J.createdAt)]})]},J.id))}):A.jsx("div",{className:"mb-8",children:Fl?A.jsxs("div",{className:"text-center py-12",children:[A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-400",children:"Loading folder contents..."})]}):Ne.length===0?A.jsxs("div",{className:"text-center py-12",children:[A.jsx(Gu,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),A.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No visuals in this folder yet"}),A.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Create some visuals to see them here"}),A.jsx("button",{onClick:()=>L(!0),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300",children:"Create First Visual"})]}):A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Ne.map(J=>{const me=co(J.type);return A.jsxs("div",{className:"group bg-zinc-900 rounded-lg p-4 border border-zinc-700 hover:border-blue-200 transition-all duration-300",children:[A.jsxs("div",{className:"flex items-start justify-between mb-3",children:[A.jsx("div",{onClick:()=>Pi(J),className:"aspect-video bg-zinc-800 rounded-lg flex items-center justify-center cursor-pointer hover:bg-zinc-700 transition-colors flex-1 mr-3",children:A.jsx(me,{className:"w-8 h-8 text-gray-500"})}),A.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex flex-col space-y-1",children:[A.jsx("button",{onClick:()=>Pi(J),className:"p-1 hover:bg-zinc-700 rounded",title:"View Visual",children:A.jsx(aA,{className:"w-4 h-4 text-gray-400 hover:text-blue-400"})}),A.jsx("button",{onClick:()=>At("visual",J),className:"p-1 hover:bg-zinc-700 rounded",title:"Delete Visual",children:A.jsx(Bg,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})]})]}),A.jsx("h4",{onClick:()=>Pi(J),className:"text-white font-medium mb-1 group-hover:text-blue-200 transition-colors cursor-pointer",children:J.title}),A.jsxs("p",{className:"text-gray-400 text-sm capitalize",children:[J.type," • ",ki(J.createdAt)]})]},J.id)})})}),Ze==="dashboard"&&A.jsxs("div",{className:"mb-8",children:[A.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Recent Visuals"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:m.length===0?A.jsxs("div",{className:"col-span-full text-center py-8",children:[A.jsx(Gu,{className:"w-12 h-12 text-gray-500 mx-auto mb-3"}),A.jsx("p",{className:"text-gray-400",children:"No visuals created yet"}),A.jsx("p",{className:"text-gray-500 text-sm",children:"Start by converting some text!"})]}):m.map(J=>{const me=co(J.type);return A.jsxs("div",{className:"group bg-zinc-900 rounded-lg p-4 border border-zinc-700 hover:border-blue-200 transition-all duration-300",children:[A.jsxs("div",{className:"flex items-start justify-between mb-3",children:[A.jsx("div",{onClick:()=>Pi(J),className:"aspect-video bg-zinc-800 rounded-lg flex items-center justify-center cursor-pointer hover:bg-zinc-700 transition-colors flex-1 mr-3",children:A.jsx(me,{className:"w-8 h-8 text-gray-500"})}),A.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:A.jsx("button",{onClick:()=>At("visual",J),className:"p-1 hover:bg-zinc-700 rounded",title:"Delete Visual",children:A.jsx(Bg,{className:"w-4 h-4 text-red-400 hover:text-red-300"})})})]}),A.jsx("h4",{onClick:()=>Pi(J),className:"text-white font-medium mb-1 group-hover:text-blue-200 transition-colors cursor-pointer",children:J.title}),A.jsxs("p",{className:"text-gray-400 text-sm capitalize",children:[J.type," • ",ki(J.createdAt)]})]},J.id)})})]})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-zinc-800 transition-colors flex items-center space-x-3",children:[A.jsx(Gu,{className:"w-5 h-5 text-blue-200"}),A.jsx("span",{className:"text-gray-300",children:"Create Comic Strip"})]}),A.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-zinc-800 transition-colors flex items-center space-x-3",children:[A.jsx(jg,{className:"w-5 h-5 text-green-400"}),A.jsx("span",{className:"text-gray-300",children:"Make Flowchart"})]}),A.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-zinc-800 transition-colors flex items-center space-x-3",children:[A.jsx(zg,{className:"w-5 h-5 text-purple-400"}),A.jsx("span",{className:"text-gray-300",children:"Design Infographic"})]})]})]}),A.jsxs("div",{className:"bg-zinc-900 rounded-xl p-6 border border-zinc-700",children:[A.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Your Progress"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-gray-400",children:"Visuals Created"}),A.jsx("span",{className:"text-blue-200 font-bold",children:"15"})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-gray-400",children:"Folders"}),A.jsx("span",{className:"text-blue-200 font-bold",children:"3"})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-gray-400",children:"Learning Hours"}),A.jsx("span",{className:"text-blue-200 font-bold",children:"24.5"})]})]})]})]})]}),y&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-zinc-900 rounded-xl p-6 w-full max-w-md border border-zinc-700",children:[A.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create New Folder"}),A.jsx("input",{type:"text",value:E,onChange:J=>R(J.target.value),placeholder:"Enter folder name...",className:"w-full p-3 bg-zinc-800 text-white rounded-lg border border-zinc-600 focus:border-blue-500 focus:outline-none mb-4",autoFocus:!0}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:dr,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300",children:"Create"}),A.jsx("button",{onClick:()=>{_(!1),R("")},className:"flex-1 py-2 px-4 border border-gray-600 text-gray-300 hover:bg-zinc-800 rounded-lg transition duration-300",children:"Cancel"})]})]})}),N&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-zinc-900 rounded-xl w-full max-w-4xl border border-zinc-700 max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"p-6 border-b border-zinc-700",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Text to Visual Converter"}),A.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-white",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("p",{className:"text-gray-400 mt-2",children:"Paste your text content and choose how you'd like it visualized for better learning."})]}),A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-white font-medium mb-2",children:"Input Text"}),A.jsx("textarea",{value:M,onChange:J=>B(J.target.value),className:"w-full h-64 p-3 bg-zinc-800 text-white rounded-lg border border-zinc-600 focus:border-blue-500 focus:outline-none resize-none",placeholder:"Paste your textbook content, notes, or any text you want to convert into a visual format..."})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-white font-medium mb-2",children:"Visual Format"}),A.jsxs("div",{className:"space-y-3 mb-4",children:[A.jsx("div",{onClick:()=>F("comic"),className:`p-4 border rounded-lg cursor-pointer transition-colors ${Q==="comic"?"border-blue-500 bg-blue-500/10":"border-zinc-600 hover:border-blue-500"}`,children:A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx(Gu,{className:"w-6 h-6 text-blue-400"}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-white font-medium",children:"Comic Strip"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"Step-by-step visual story format"})]})]})}),A.jsx("div",{onClick:()=>F("flowchart"),className:`p-4 border rounded-lg cursor-pointer transition-colors ${Q==="flowchart"?"border-blue-500 bg-blue-500/10":"border-zinc-600 hover:border-blue-500"}`,children:A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx(jg,{className:"w-6 h-6 text-green-400"}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-white font-medium",children:"Flowchart"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"Process and decision flow diagram"})]})]})}),A.jsx("div",{onClick:()=>F("infographic"),className:`p-4 border rounded-lg cursor-pointer transition-colors ${Q==="infographic"?"border-blue-500 bg-blue-500/10":"border-zinc-600 hover:border-blue-500"}`,children:A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx(zg,{className:"w-6 h-6 text-purple-400"}),A.jsxs("div",{children:[A.jsx("h4",{className:"text-white font-medium",children:"Infographic"}),A.jsx("p",{className:"text-gray-400 text-sm",children:"Data and information visualization"})]})]})})]})]})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block text-white font-medium mb-2",children:"Save to Folder"}),A.jsxs("select",{value:ce,onChange:J=>I(J.target.value),className:"w-full p-3 bg-zinc-800 text-white rounded-lg border border-zinc-600 focus:border-blue-500 focus:outline-none",children:[A.jsx("option",{value:"",children:"Select a folder..."}),c.map(J=>A.jsx("option",{value:J.id,children:J.name},J.id))]})]}),A.jsx("button",{onClick:Jr,disabled:le||!M.trim()||!ce,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition duration-300 flex items-center justify-center space-x-2",children:le?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),A.jsx("span",{children:"Converting..."})]}):A.jsxs(A.Fragment,{children:[A.jsx(lA,{className:"w-5 h-5"}),A.jsx("span",{children:"Generate Visual"})]})})]})]})}),Te&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-zinc-900 rounded-xl p-6 w-full max-w-md border border-zinc-700",children:[A.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Edit Folder"}),A.jsx("input",{type:"text",value:Qe,onChange:J=>jt(J.target.value),placeholder:"Enter folder name...",className:"w-full p-3 bg-zinc-800 text-white rounded-lg border border-zinc-600 focus:border-blue-500 focus:outline-none mb-4",autoFocus:!0}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:Ot,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300",children:"Save"}),A.jsx("button",{onClick:()=>{Oe(!1),vt(null),jt("")},className:"flex-1 py-2 px-4 border border-gray-600 text-gray-300 hover:bg-zinc-800 rounded-lg transition duration-300",children:"Cancel"})]})]})}),Sn&&Dt&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-zinc-900 rounded-xl p-6 w-full max-w-md border border-zinc-700",children:[A.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Confirm Delete"}),A.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete this ",Dt==null?void 0:Dt.type,"?",(Dt==null?void 0:Dt.type)==="folder"&&A.jsx("span",{className:"block text-red-400 text-sm mt-2",children:"This will also delete all visuals in this folder!"})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:_i,disabled:vi,className:"flex-1 py-2 px-4 bg-red-600 hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed text-white rounded-lg transition duration-300 flex items-center justify-center space-x-2",children:vi?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),A.jsx("span",{children:"Deleting..."})]}):A.jsx("span",{children:"Delete"})}),A.jsx("button",{onClick:()=>{yn(!1),xn(null)},className:"flex-1 py-2 px-4 border border-gray-600 text-gray-300 hover:bg-zinc-800 rounded-lg transition duration-300",children:"Cancel"})]})]})}),(console.log("Rendering modals - showVisualViewer:",P,"viewingVisual:",$),null),P&&$&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-zinc-900 rounded-xl w-full max-w-4xl border border-zinc-700 max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"p-6 border-b border-zinc-700",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"text-2xl font-semibold text-white",children:$==null?void 0:$.title}),A.jsx("button",{onClick:()=>{console.log("Closing visual viewer"),ee(!1),fe(null)},className:"text-gray-400 hover:text-white",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("p",{className:"text-gray-400 mt-2 capitalize",children:[$==null?void 0:$.type," • Created ",$!=null&&$.createdAt?ki($==null?void 0:$.createdAt):"Unknown"]})]}),A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"mb-6",children:[A.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center space-x-2",children:[A.jsx("span",{children:"Generated Visual"}),A.jsx("span",{className:"text-xs text-gray-400 bg-zinc-700 px-2 py-1 rounded",children:(Li=$==null?void 0:$.type)==null?void 0:Li.toUpperCase()})]}),A.jsx("div",{className:"bg-white rounded-lg p-6 min-h-96 max-h-[60vh] overflow-y-auto border",children:(bi=$==null?void 0:$.content)!=null&&bi.imageUrl?A.jsxs("div",{className:"w-full h-full flex flex-col items-center",children:[A.jsx("img",{src:$.content.imageUrl,alt:$.title,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"}),A.jsxs("p",{className:"mt-4 text-gray-600 text-sm text-center",children:["Generated ",Q," • ",$.content.imagePrompt?"AI Generated Visual":"Custom Visual"]})]}):(Xt=$==null?void 0:$.content)!=null&&Xt.imagePrompt?A.jsxs("div",{className:"text-center text-gray-500 py-16",children:[A.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),A.jsx("p",{className:"text-lg font-medium",children:"Image Generation In Progress"}),A.jsx("p",{className:"text-sm mt-2 mb-4",children:"Your visual is being generated..."}),A.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[A.jsx("p",{className:"text-xs text-gray-600 font-medium mb-2",children:"Prompt used:"}),A.jsx("p",{className:"text-xs text-gray-700",children:$.content.imagePrompt})]})]}):$!=null&&$.content?A.jsxs("div",{className:"text-gray-800",children:[A.jsx("h5",{className:"text-xl font-bold text-gray-900 mb-4",children:((Rn=$==null?void 0:$.content)==null?void 0:Rn.title)||"Untitled"}),A.jsx("p",{className:"mb-6 text-gray-700 text-lg leading-relaxed",children:((en=$==null?void 0:$.content)==null?void 0:en.description)||"No description"}),((mo=$==null?void 0:$.content)==null?void 0:mo.sections)&&((es=$==null?void 0:$.content)==null?void 0:es.sections.length)>0&&A.jsx("div",{className:"space-y-4",children:(ga=$==null?void 0:$.content)==null?void 0:ga.sections.map((J,me)=>A.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border-l-4 border-blue-400 shadow-sm",children:typeof J=="string"?A.jsx("p",{className:"text-gray-800 text-base",children:J}):A.jsxs("div",{children:[A.jsx("h6",{className:"font-bold text-blue-800 mb-2 text-lg",children:J.title}),A.jsx("p",{className:"text-gray-700 leading-relaxed",children:J.content})]})},me))})]}):A.jsxs("div",{className:"text-center text-gray-500 py-16",children:[A.jsx("div",{className:"text-6xl mb-4",children:"🎨"}),A.jsx("p",{className:"text-lg font-medium",children:"No visual content available"}),A.jsx("p",{className:"text-sm mt-2",children:"Create a new visual to see generated images"})]})})]}),A.jsxs("details",{className:"bg-zinc-800 rounded-lg overflow-hidden",children:[A.jsx("summary",{className:"p-4 cursor-pointer text-white font-medium hover:bg-zinc-700 transition-colors",children:"📝 View Original Text"}),A.jsx("div",{className:"p-4 bg-zinc-900 border-t border-zinc-700",children:A.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap leading-relaxed",children:($==null?void 0:$.originalText)||"No original text available"})})]}),A.jsx("div",{className:"mt-6 flex justify-end",children:A.jsx("button",{onClick:()=>ee(!1),className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300",children:"Close"})})]})]})}),S&&k.length>0&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:A.jsxs("div",{className:"bg-zinc-900 rounded-xl w-full max-w-6xl border border-zinc-700 max-h-[90vh] overflow-y-auto",children:[A.jsxs("div",{className:"p-6 border-b border-zinc-700",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Choose the Clearest Text Quality"}),A.jsx("button",{onClick:()=>{C(!1),U([]),nt(null),ue(!1)},className:"text-gray-400 hover:text-white",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsxs("p",{className:"text-gray-400 mt-2",children:["We generated ",k.length," variations. Click on the image with the clearest, most readable text."]})]}),A.jsxs("div",{className:"p-6",children:[A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(J=>A.jsx("div",{className:"group",children:A.jsxs("div",{onClick:()=>fo(J.id),className:"relative bg-white rounded-lg p-4 cursor-pointer hover:ring-4 hover:ring-blue-500 transition-all duration-200 transform hover:scale-105",children:[A.jsxs("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:["Option ",J.id]}),A.jsx("img",{src:J.url,alt:`Text clarity variation ${J.id}`,className:"w-full h-auto rounded-lg shadow-lg"}),A.jsx("div",{className:"mt-3 text-center",children:A.jsx("button",{onClick:()=>fo(J.id),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition duration-300 font-medium",children:"Select This Version"})})]})},J.id))}),A.jsxs("div",{className:"mt-8 text-center",children:[A.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["💡 ",A.jsx("strong",{children:"Tip:"})," Look for the image where ALL text bubbles and captions are equally clear and readable."]}),A.jsx("button",{onClick:()=>{C(!1),U([]),nt(null),ue(!1)},className:"px-6 py-2 border border-gray-600 text-gray-300 hover:bg-zinc-800 rounded-lg transition duration-300",children:"Cancel"})]})]})]})})]})]})}function WC(){const[t,e]=O.useState(null),[n,r]=O.useState(!0);return O.useEffect(()=>{const a=fR(),l=tR(a,c=>{e(c),r(!1)});return()=>l()},[]),{user:t,loading:n}}function uA({children:t}){const{user:e,loading:n}=WC(),r=ur();return n?null:e?A.jsx(TA,{to:"/",state:{from:r},replace:!0}):t}function Pz({children:t}){const{user:e,loading:n}=WC(),r=ur();return n?null:e?t:A.jsx(TA,{to:"/login",state:{from:r},replace:!0})}function Lz(){return A.jsx(YN,{children:A.jsxs("div",{className:"relative min-h-screen bg-neutral-900",children:[A.jsx("div",{className:Nd("absolute inset-0 z-0 pointer-events-none","[background-size:20px_20px]","[background-image:linear-gradient(to_right,#262626_1px,transparent_1px),linear-gradient(to_bottom,#262626_1px,transparent_1px)]")}),A.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-neutral-100 [mask-image:radial-gradient(ellipse_at_center,transparent_20%,black)] dark:bg-neutral-900"}),A.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[A.jsx("div",{className:"flex-1",children:A.jsxs(SN,{children:[A.jsx(Ku,{path:"/",element:A.jsx(C4,{})}),A.jsx(Ku,{path:"/signup",element:A.jsx(uA,{children:A.jsx(pz,{})})}),A.jsx(Ku,{path:"/login",element:A.jsx(uA,{children:A.jsx(yz,{})})}),A.jsx(Ku,{path:"/dashboard",element:A.jsx(Pz,{children:A.jsx(kz,{})})})]})}),A.jsx(I4,{})]})]})})}kD.createRoot(document.getElementById("root")).render(A.jsx(Ys.StrictMode,{children:A.jsx(Lz,{})}));
